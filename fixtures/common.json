[{"model": "auth.user", "pk": 1, "fields": {"password": "pbkdf2_sha256$320000$80IY3bG5cS1x2pBTsi0QQv$4Ym0KyTxZe+r0vxT5FXHXoUwV/xqox0hTHSoyc/RZcY=", "last_login": "2022-07-05T12:21:31.136Z", "is_superuser": true, "username": "root", "first_name": "", "last_name": "", "email": "", "is_staff": true, "is_active": true, "date_joined": "2022-06-08T13:20:47.666Z", "groups": [], "user_permissions": []}}, {"model": "auth.user", "pk": 2, "fields": {"password": "pbkdf2_sha256$320000$msH2LBPxEFTcW60ZCiQtyM$jqxsYvZTsM8iXmFsCzczHOg8RLEx9yew0XS18xiHFv4=", "last_login": "2022-07-05T14:31:47.745Z", "is_superuser": true, "username": "admin", "first_name": "", "last_name": "", "email": "", "is_staff": true, "is_active": true, "date_joined": "2022-07-05T14:31:33.199Z", "groups": [], "user_permissions": []}}, {"model": "core.tag", "pk": 1, "fields": {"uuid": "643c26e7-1906-4e0c-88d8-fc5e97d6a872", "created_at": "2022-06-08T13:27:34.208Z", "updated_at": "2022-06-08T13:27:34.208Z", "name": "Hashing"}}, {"model": "core.tag", "pk": 2, "fields": {"uuid": "4a71c1b9-9586-4866-9334-024a85babd02", "created_at": "2022-06-08T13:27:41.323Z", "updated_at": "2022-06-08T13:27:41.323Z", "name": "Optimisation"}}, {"model": "core.tag", "pk": 3, "fields": {"uuid": "4878843c-4bfe-4af5-81d7-9556494d3fc7", "created_at": "2022-06-08T13:28:06.030Z", "updated_at": "2022-06-08T13:28:06.030Z", "name": "Consistent hashing"}}, {"model": "core.tag", "pk": 4, "fields": {"uuid": "6e4b3918-66c7-4bd6-a5c7-506bb8caf5e5", "created_at": "2022-06-08T13:28:09.658Z", "updated_at": "2022-06-08T13:28:09.658Z", "name": "Перевод"}}, {"model": "core.tag", "pk": 5, "fields": {"uuid": "a7877206-b755-4a6f-8701-c74be994b615", "created_at": "2022-06-08T14:34:23.408Z", "updated_at": "2022-06-08T14:34:23.408Z", "name": "Highload"}}, {"model": "core.tag", "pk": 6, "fields": {"uuid": "3a4aa4f5-a3f6-46ee-8a9c-25b4f10bffb5", "created_at": "2022-06-08T14:34:40.444Z", "updated_at": "2022-06-08T14:34:40.444Z", "name": "Limiting"}}, {"model": "core.tag", "pk": 7, "fields": {"uuid": "8936cad0-e2f0-4931-a534-d2584e9cf517", "created_at": "2022-06-11T20:34:12.588Z", "updated_at": "2022-06-11T20:34:12.588Z", "name": "Собеседование"}}, {"model": "core.tag", "pk": 8, "fields": {"uuid": "3d2ba492-130e-4350-b674-12cd2ec0fca1", "created_at": "2022-06-11T20:34:19.432Z", "updated_at": "2022-06-11T20:34:19.433Z", "name": "FAQ"}}, {"model": "core.category", "pk": 1, "fields": {"uuid": "8576cbd0-c7b1-41d5-9a38-11bee7025d98", "created_at": "2022-06-08T13:25:27.724Z", "updated_at": "2022-06-08T13:25:27.724Z", "name": "Книги"}}, {"model": "core.category", "pk": 2, "fields": {"uuid": "267dbfc3-084b-4504-90b9-811454431b5c", "created_at": "2022-06-08T13:25:39.641Z", "updated_at": "2022-06-08T13:25:39.641Z", "name": "Статьи"}}, {"model": "core.category", "pk": 3, "fields": {"uuid": "4312f8d0-63c5-4cfb-a2ef-ba47e509097d", "created_at": "2022-06-11T20:34:02.593Z", "updated_at": "2022-06-11T20:34:02.593Z", "name": "Гайды"}}, {"model": "core.post", "pk": 1, "fields": {"uuid": "baed3c6e-f391-430a-8ccc-e5b1a3576a3d", "created_at": "2022-06-08T13:30:08.966Z", "updated_at": "2022-06-08T13:39:46.004Z", "language": "ru", "title": "Согласованное хеширование", "slug": "согласованное-хеширование", "markdown": "# Введение\r\n---\r\nВ последнее время я пару раз сталкивался с последовательным хешированием. Документ, в котором была представлена эта\r\nидея (`Consistent Hashing and Random Trees: Distributed Caching Protocols for Relief of Hot Spots on the World Wide Web`\r\nby David Karger et al.), появился десять лет назад, хотя в последнее время кажется, что эта идея незаметно находит свое\r\nприменение в более и другие сервисы, от Amazon Dynamo до memcached (любезно предоставлено Last.fm). Так что же такое\r\nпоследовательное хеширование и почему вас это должно волновать?\r\n\r\nПотребность в согласованном хешировании возникла из-за ограничений, возникающих при работе с наборами кэширующих машин —\r\nнапример, веб-кэшей. Если у вас есть набор из n кэш-машин, то общий способ балансировки нагрузки между ними состоит в\r\nтом, чтобы поместить объект o в кэш-машину с номером `hash(o)` `mod n`. Это хорошо работает до тех пор, пока вы не\r\nдобавите или не удалите кеш-машины (по какой-либо причине), тогда n изменится, и каждый объект хэшируется в новое место.\r\nЭто может привести к катастрофе, поскольку исходные серверы контента перегружены запросами от кэш-машин. Как будто кэш\r\nвнезапно пропал. Что у него есть, в некотором смысле. (Вот почему вам следует позаботиться о том, чтобы последовательное\r\nхеширование не перегружало ваши серверы!)\r\n\r\nБыло бы неплохо, если бы при добавлении кэш-машины она брала свою справедливую долю объектов со всех других кэш-машин.\r\nТочно так же, когда кэш-машина была удалена, было бы неплохо, если бы ее объекты были разделены между оставшимися\r\nмашинами. Это именно то, что делает согласованное хеширование — последовательно отображает объекты на одну и ту же\r\nмашину кэширования, по крайней мере, насколько это возможно. Основная идея последовательного алгоритма хеширования\r\nсостоит в том, чтобы хешировать как объекты, так и кэши, используя одну и ту же хеш-функцию. Это делается для того,\r\nчтобы сопоставить кэш с интервалом, который будет содержать некоторое количество хэшей объектов. Если кеш удаляется, то\r\nего интервал заменяется кешем с соседним интервалом. Все остальные кэши остаются без изменений.\r\n\r\n# Демонстрация\r\n---\r\nДавайте рассмотрим это более подробно. Хэш-функция фактически сопоставляет объекты и кэши с диапазоном чисел. Это должно\r\nбыть знакомо каждому Java-программисту: метод `hashCode` для `Object ` возвращает `int`, лежащее в диапазоне от -231 до\r\n231-1. Представьте, что этот диапазон отображается в виде круга, чтобы значения зацикливались. Вот изображение круга с\r\nрядом объектов (1, 2, 3, 4) и кешей (A, B, C), отмеченных в точках, к которым они хэшируются (на основе диаграммы\r\nиз `Web Caching with Consistent Hashing` Дэвида Каргер и др.):\r\n\r\n![](/media/editor/2007-11-27-image-0000_20220608133731218516.png)\r\n\r\nЧтобы узнать, в какой кэш помещается объект, мы двигаемся по часовой стрелке по кругу, пока не найдем точку кэша. Итак,\r\nна диаграмме выше мы видим, что объекты 1 и 4 принадлежат кешу A, объект 2 принадлежит кешу B, а объект 3 принадлежит\r\nкешу C. Рассмотрим, что произойдет, если кеш C будет удален: объект 3 теперь принадлежит кешу A, и все другие\r\nсопоставления объектов не изменяются. Если затем добавить еще один кэш D в отмеченную позицию, он займет объекты 3 и 4,\r\nоставив только объект 1, принадлежащий A.\r\n\r\n![](/media/editor/2007-11-27-image-0001_20220608133739087452.png)\r\n\r\nЭто работает хорошо, за исключением того, что размер интервалов, назначенных каждому кешу, довольно удачен. Поскольку\r\nэто по существу случайно, возможно очень неравномерное распределение объектов между кэшами. Решение этой проблемы\r\nсостоит в том, чтобы представить идею «виртуальных узлов», которые являются копиями точек кэша по кругу. Поэтому всякий\r\nраз, когда мы добавляем кеш, мы создаем для него несколько точек в круге. Вы можете увидеть эффект этого на следующем\r\nграфике, который я создал путем моделирования хранения 10 000 объектов в 10 кешах с использованием кода, описанного\r\nниже. По оси x указано количество реплик точек кэша (в логарифмическом масштабе). Когда он мал, мы видим, что\r\nраспределение объектов по кешам несбалансированное, так как стандартное отклонение в процентах от среднего количества\r\nобъектов в кеше (по оси Y, также логарифмическое) велико. По мере увеличения количества реплик распределение объектов\r\nстановится более сбалансированным. Этот эксперимент показывает, что цифра в одну или две сотни реплик обеспечивает\r\nприемлемый баланс (стандартное отклонение, которое составляет примерно от 5% до 10% от среднего значения).\r\n\r\n![](/media/editor/2007-11-27-image-0002_20220608133747403741.png)\r\n\r\n# Реализация\r\n---\r\nДля полноты вот простая реализация на Java. Чтобы последовательное хеширование было эффективным, важно иметь\r\nхеш-функцию, которая хорошо смешивается. Большинство реализаций `hashCode` `Object` плохо смешиваются — например, они\r\nобычно производят ограниченное количество небольших целочисленных значений — поэтому у нас есть интерфейс `HashFunction`\r\n, позволяющий использовать пользовательскую хеш-функцию. Здесь рекомендуются хеши MD5.\r\n\r\n```java\r\nimport java.util.Collection;\r\nimport java.util.SortedMap;\r\nimport java.util.TreeMap;\r\n\r\npublic class ConsistentHash<T> {\r\n\r\n  private final HashFunction hashFunction;\r\n  private final int numberOfReplicas;\r\n  private final SortedMap<Integer, T> circle =\r\n    new TreeMap<Integer, T>();\r\n\r\n  public ConsistentHash(HashFunction hashFunction,\r\n    int numberOfReplicas, Collection<T> nodes) {\r\n\r\n    this.hashFunction = hashFunction;\r\n    this.numberOfReplicas = numberOfReplicas;\r\n\r\n    for (T node : nodes) {\r\n      add(node);\r\n    }\r\n  }\r\n\r\n  public void add(T node) {\r\n    for (int i = 0; i < numberOfReplicas; i++) {\r\n      circle.put(hashFunction.hash(node.toString() + i),\r\n        node);\r\n    }\r\n  }\r\n\r\n  public void remove(T node) {\r\n    for (int i = 0; i < numberOfReplicas; i++) {\r\n      circle.remove(hashFunction.hash(node.toString() + i));\r\n    }\r\n  }\r\n\r\n  public T get(Object key) {\r\n    if (circle.isEmpty()) {\r\n      return null;\r\n    }\r\n    int hash = hashFunction.hash(key);\r\n    if (!circle.containsKey(hash)) {\r\n      SortedMap<Integer, T> tailMap =\r\n        circle.tailMap(hash);\r\n      hash = tailMap.isEmpty() ?\r\n             circle.firstKey() : tailMap.firstKey();\r\n    }\r\n    return circle.get(hash);\r\n  }\r\n\r\n}\r\n```\r\n\r\nКруг представлен в виде отсортированной карты целых чисел, которые представляют хэш-значения, в кеши (здесь типа `T`).\r\nКогда создается объект `ConsistentHash`, каждый узел добавляется в карту круга несколько раз (\r\nконтролируется `numberOfReplicas`). Расположение каждой реплики выбирается путем хэширования имени узла вместе с\r\nчисловым суффиксом, и узел сохраняется в каждой из этих точек на карте. Чтобы найти узел для объекта (метод `get`),\r\nхеш-значение объекта используется для поиска на карте. В большинстве случаев в этом хеш-значении не будет узла,\r\nхранящегося (поскольку пространство хеш-значений обычно намного больше, чем количество узлов, даже с репликами), поэтому\r\nследующий узел находится путем поиска первого ключа в хвостовая карта. Если хвостовая карта пуста, то мы обходим круг,\r\nполучая первый ключ в круге.\r\n\r\n# Использование\r\n---\r\nИтак, как вы можете использовать согласованное хеширование? Скорее всего, вы встретите его в библиотеке, а не будете\r\nкодировать самостоятельно. Например, как упоминалось выше, memcached, система кэширования объектов с распределенной\r\nпамятью, теперь имеет клиентов, поддерживающих последовательное хеширование. Кетама Last.fm Ричарда Джонса была первой,\r\nи теперь есть реализация Java Дастином Саллингсом (которая вдохновила мою упрощенную демонстрационную реализацию выше).\r\nИнтересно отметить, что алгоритм последовательного хеширования должен быть реализован только на клиенте —\r\nсервер `memcached` не изменился. Другие системы, использующие согласованное хеширование, включают Chord, который\r\nпредставляет собой реализацию распределенной хэш-таблицы, и Dynamo от Amazon, который представляет собой хранилище\r\nключей и значений (недоступно за пределами Amazon).", "body": "<h1>Введение</h1>\r\n<hr />\r\n<p style=\"font-size: 16px;\">В последнее время я пару раз сталкивался с последовательным хешированием. Документ, в котором была представлена эта идея (<code>Consistent Hashing and Random Trees: Distributed Caching Protocols for Relief of Hot Spots on the World Wide Web</code> by David Karger et al.), появился десять лет назад, хотя в последнее время кажется, что эта идея незаметно находит свое применение в более и другие сервисы, от Amazon Dynamo до memcached (любезно предоставлено Last.fm). Так что же такое последовательное хеширование и почему вас это должно волновать?</p>\r\n<p style=\"font-size: 16px;\">Потребность в согласованном хешировании возникла из-за ограничений, возникающих при работе с наборами кэширующих машин &mdash; например, веб-кэшей. Если у вас есть набор из n кэш-машин, то общий способ балансировки нагрузки между ними состоит в том, чтобы поместить объект o в кэш-машину с номером <code>hash(o)</code> <code>mod n</code>. Это хорошо работает до тех пор, пока вы не добавите или не удалите кеш-машины (по какой-либо причине), тогда n изменится, и каждый объект хэшируется в новое место. Это может привести к катастрофе, поскольку исходные серверы контента перегружены запросами от кэш-машин. Как будто кэш внезапно пропал. Что у него есть, в некотором смысле. (Вот почему вам следует позаботиться о том, чтобы последовательное хеширование не перегружало ваши серверы!)</p>\r\n<p style=\"font-size: 16px;\">Было бы неплохо, если бы при добавлении кэш-машины она брала свою справедливую долю объектов со всех других кэш-машин. Точно так же, когда кэш-машина была удалена, было бы неплохо, если бы ее объекты были разделены между оставшимися машинами. Это именно то, что делает согласованное хеширование &mdash; последовательно отображает объекты на одну и ту же машину кэширования, по крайней мере, насколько это возможно. Основная идея последовательного алгоритма хеширования состоит в том, чтобы хешировать как объекты, так и кэши, используя одну и ту же хеш-функцию. Это делается для того, чтобы сопоставить кэш с интервалом, который будет содержать некоторое количество хэшей объектов. Если кеш удаляется, то его интервал заменяется кешем с соседним интервалом. Все остальные кэши остаются без изменений.</p>\r\n<h1>Демонстрация</h1>\r\n<hr />\r\n<p style=\"font-size: 16px;\">Давайте рассмотрим это более подробно. Хэш-функция фактически сопоставляет объекты и кэши с диапазоном чисел. Это должно быть знакомо каждому Java-программисту: метод <code>hashCode</code> для <code>Object</code> возвращает <code>int</code>, лежащее в диапазоне от -231 до 231-1. Представьте, что этот диапазон отображается в виде круга, чтобы значения зацикливались. Вот изображение круга с рядом объектов (1, 2, 3, 4) и кешей (A, B, C), отмеченных в точках, к которым они хэшируются (на основе диаграммы из <code>Web Caching with Consistent Hashing</code> Дэвида Каргер и др.):</p>\r\n<center><img src=\"data:image/png;base64,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\" alt=\"\" /></center>\r\n<p style=\"font-size: 16px;\">Чтобы узнать, в какой кэш помещается объект, мы двигаемся по часовой стрелке по кругу, пока не найдем точку кэша. Итак, на диаграмме выше мы видим, что объекты 1 и 4 принадлежат кешу A, объект 2 принадлежит кешу B, а объект 3 принадлежит кешу C. Рассмотрим, что произойдет, если кеш C будет удален: объект 3 теперь принадлежит кешу A, и все другие сопоставления объектов не изменяются. Если затем добавить еще один кэш D в отмеченную позицию, он займет объекты 3 и 4, оставив только объект 1, принадлежащий A.</p>\r\n<center><img src=\"data:image/png;base64,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\" alt=\"\" /></center>\r\n<p style=\"font-size: 16px;\">Это работает хорошо, за исключением того, что размер интервалов, назначенных каждому кешу, довольно удачен. Поскольку это по существу случайно, возможно очень неравномерное распределение объектов между кэшами. Решение этой проблемы состоит в том, чтобы представить идею &laquo;виртуальных узлов&raquo;, которые являются копиями точек кэша по кругу. Поэтому всякий раз, когда мы добавляем кеш, мы создаем для него несколько точек в круге. Вы можете увидеть эффект этого на следующем графике, который я создал путем моделирования хранения 10 000 объектов в 10 кешах с использованием кода, описанного ниже. По оси x указано количество реплик точек кэша (в логарифмическом масштабе). Когда он мал, мы видим, что распределение объектов по кешам несбалансированное, так как стандартное отклонение в процентах от среднего количества объектов в кеше (по оси Y, также логарифмическое) велико. По мере увеличения количества реплик распределение объектов становится более сбалансированным. Этот эксперимент показывает, что цифра в одну или две сотни реплик обеспечивает приемлемый баланс (стандартное отклонение, которое составляет примерно от 5% до 10% от среднего значения).</p>\r\n<center><img src=\"data:image/png;base64,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\" alt=\"\" /></center>\r\n<h1>Реализация</h1>\r\n<hr />\r\n<p style=\"font-size: 16px;\">Для полноты вот простая реализация на Java. Чтобы последовательное хеширование было эффективным, важно иметь хеш-функцию, которая хорошо смешивается. Большинство реализаций <code>hashCode</code> <code>Object</code> плохо смешиваются &mdash; например, они обычно производят ограниченное количество небольших целочисленных значений &mdash; поэтому у нас есть интерфейс <code>HashFunction</code> , позволяющий использовать пользовательскую хеш-функцию. Здесь рекомендуются хеши MD5.</p>\r\n<div class=\"highlight\" style=\"background: #272822;\">\r\n<pre style=\"line-height: 125%;\"><span style=\"font-size: 12pt;\"><span style=\"color: #f92672;\">import</span><span style=\"color: #f8f8f2;\"> java.util.Collection;</span>\r\n<span style=\"color: #f92672;\">import</span><span style=\"color: #f8f8f2;\"> java.util.SortedMap;</span>\r\n<span style=\"color: #f92672;\">import</span><span style=\"color: #f8f8f2;\"> java.util.TreeMap;</span>\r\n\r\n<span style=\"color: #66d9ef;\">public</span><span style=\"color: #f8f8f2;\"> </span><span style=\"color: #66d9ef;\">class</span> <span style=\"color: #a6e22e;\">ConsistentHash</span><span style=\"color: #f92672;\">&lt;</span><span style=\"color: #f8f8f2;\">T</span><span style=\"color: #f92672;\">&gt;</span><span style=\"color: #f8f8f2;\"> {</span>\r\n\r\n<span style=\"color: #f8f8f2;\">  </span><span style=\"color: #66d9ef;\">private</span><span style=\"color: #f8f8f2;\"> </span><span style=\"color: #66d9ef;\">final</span><span style=\"color: #f8f8f2;\"> HashFunction hashFunction;</span>\r\n<span style=\"color: #f8f8f2;\">  </span><span style=\"color: #66d9ef;\">private</span><span style=\"color: #f8f8f2;\"> </span><span style=\"color: #66d9ef;\">final</span><span style=\"color: #f8f8f2;\"> </span><span style=\"color: #66d9ef;\">int</span><span style=\"color: #f8f8f2;\"> numberOfReplicas;</span>\r\n<span style=\"color: #f8f8f2;\">  </span><span style=\"color: #66d9ef;\">private</span><span style=\"color: #f8f8f2;\"> </span><span style=\"color: #66d9ef;\">final</span><span style=\"color: #f8f8f2;\"> SortedMap</span><span style=\"color: #f92672;\">&lt;</span><span style=\"color: #f8f8f2;\">Integer, T</span><span style=\"color: #f92672;\">&gt;</span><span style=\"color: #f8f8f2;\"> circle </span><span style=\"color: #f92672;\">=</span>\r\n<span style=\"color: #f8f8f2;\">    </span><span style=\"color: #66d9ef;\">new</span><span style=\"color: #f8f8f2;\"> TreeMap</span><span style=\"color: #f92672;\">&lt;</span><span style=\"color: #f8f8f2;\">Integer, T</span><span style=\"color: #f92672;\">&gt;</span><span style=\"color: #f8f8f2;\">();</span>\r\n\r\n<span style=\"color: #f8f8f2;\">  </span><span style=\"color: #66d9ef;\">public</span><span style=\"color: #f8f8f2;\"> </span><span style=\"color: #a6e22e;\">ConsistentHash</span><span style=\"color: #f8f8f2;\">(HashFunction hashFunction,</span>\r\n<span style=\"color: #f8f8f2;\">    </span><span style=\"color: #66d9ef;\">int</span><span style=\"color: #f8f8f2;\"> numberOfReplicas, Collection</span><span style=\"color: #f92672;\">&lt;</span><span style=\"color: #f8f8f2;\">T</span><span style=\"color: #f92672;\">&gt;</span><span style=\"color: #f8f8f2;\"> nodes) {</span>\r\n\r\n<span style=\"color: #f8f8f2;\">    </span><span style=\"color: #66d9ef;\">this</span><span style=\"color: #f8f8f2;\">.</span><span style=\"color: #a6e22e;\">hashFunction</span><span style=\"color: #f8f8f2;\"> </span><span style=\"color: #f92672;\">=</span><span style=\"color: #f8f8f2;\"> hashFunction;</span>\r\n<span style=\"color: #f8f8f2;\">    </span><span style=\"color: #66d9ef;\">this</span><span style=\"color: #f8f8f2;\">.</span><span style=\"color: #a6e22e;\">numberOfReplicas</span><span style=\"color: #f8f8f2;\"> </span><span style=\"color: #f92672;\">=</span><span style=\"color: #f8f8f2;\"> numberOfReplicas;</span>\r\n\r\n<span style=\"color: #f8f8f2;\">    </span><span style=\"color: #66d9ef;\">for</span><span style=\"color: #f8f8f2;\"> (T node : nodes) {</span>\r\n<span style=\"color: #f8f8f2;\">      add(node);</span>\r\n<span style=\"color: #f8f8f2;\">    }</span>\r\n<span style=\"color: #f8f8f2;\">  }</span>\r\n\r\n<span style=\"color: #f8f8f2;\">  </span><span style=\"color: #66d9ef;\">public</span><span style=\"color: #f8f8f2;\"> </span><span style=\"color: #66d9ef;\">void</span><span style=\"color: #f8f8f2;\"> </span><span style=\"color: #a6e22e;\">add</span><span style=\"color: #f8f8f2;\">(T node) {</span>\r\n<span style=\"color: #f8f8f2;\">    </span><span style=\"color: #66d9ef;\">for</span><span style=\"color: #f8f8f2;\"> (</span><span style=\"color: #66d9ef;\">int</span><span style=\"color: #f8f8f2;\"> i </span><span style=\"color: #f92672;\">=</span><span style=\"color: #f8f8f2;\"> </span><span style=\"color: #ae81ff;\">0</span><span style=\"color: #f8f8f2;\">; i </span><span style=\"color: #f92672;\">&lt;</span><span style=\"color: #f8f8f2;\"> numberOfReplicas; i</span><span style=\"color: #f92672;\">++</span><span style=\"color: #f8f8f2;\">) {</span>\r\n<span style=\"color: #f8f8f2;\">      circle.</span><span style=\"color: #a6e22e;\">put</span><span style=\"color: #f8f8f2;\">(hashFunction.</span><span style=\"color: #a6e22e;\">hash</span><span style=\"color: #f8f8f2;\">(node.</span><span style=\"color: #a6e22e;\">toString</span><span style=\"color: #f8f8f2;\">() </span><span style=\"color: #f92672;\">+</span><span style=\"color: #f8f8f2;\"> i),</span>\r\n<span style=\"color: #f8f8f2;\">        node);</span>\r\n<span style=\"color: #f8f8f2;\">    }</span>\r\n<span style=\"color: #f8f8f2;\">  }</span>\r\n\r\n<span style=\"color: #f8f8f2;\">  </span><span style=\"color: #66d9ef;\">public</span><span style=\"color: #f8f8f2;\"> </span><span style=\"color: #66d9ef;\">void</span><span style=\"color: #f8f8f2;\"> </span><span style=\"color: #a6e22e;\">remove</span><span style=\"color: #f8f8f2;\">(T node) {</span>\r\n<span style=\"color: #f8f8f2;\">    </span><span style=\"color: #66d9ef;\">for</span><span style=\"color: #f8f8f2;\"> (</span><span style=\"color: #66d9ef;\">int</span><span style=\"color: #f8f8f2;\"> i </span><span style=\"color: #f92672;\">=</span><span style=\"color: #f8f8f2;\"> </span><span style=\"color: #ae81ff;\">0</span><span style=\"color: #f8f8f2;\">; i </span><span style=\"color: #f92672;\">&lt;</span><span style=\"color: #f8f8f2;\"> numberOfReplicas; i</span><span style=\"color: #f92672;\">++</span><span style=\"color: #f8f8f2;\">) {</span>\r\n<span style=\"color: #f8f8f2;\">      circle.</span><span style=\"color: #a6e22e;\">remove</span><span style=\"color: #f8f8f2;\">(hashFunction.</span><span style=\"color: #a6e22e;\">hash</span><span style=\"color: #f8f8f2;\">(node.</span><span style=\"color: #a6e22e;\">toString</span><span style=\"color: #f8f8f2;\">() </span><span style=\"color: #f92672;\">+</span><span style=\"color: #f8f8f2;\"> i));</span>\r\n<span style=\"color: #f8f8f2;\">    }</span>\r\n<span style=\"color: #f8f8f2;\">  }</span>\r\n\r\n<span style=\"color: #f8f8f2;\">  </span><span style=\"color: #66d9ef;\">public</span><span style=\"color: #f8f8f2;\"> T </span><span style=\"color: #a6e22e;\">get</span><span style=\"color: #f8f8f2;\">(Object key) {</span>\r\n<span style=\"color: #f8f8f2;\">    </span><span style=\"color: #66d9ef;\">if</span><span style=\"color: #f8f8f2;\"> (circle.</span><span style=\"color: #a6e22e;\">isEmpty</span><span style=\"color: #f8f8f2;\">()) {</span>\r\n<span style=\"color: #f8f8f2;\">      </span><span style=\"color: #66d9ef;\">return</span><span style=\"color: #f8f8f2;\"> </span><span style=\"color: #66d9ef;\">null</span><span style=\"color: #f8f8f2;\">;</span>\r\n<span style=\"color: #f8f8f2;\">    }</span>\r\n<span style=\"color: #f8f8f2;\">    </span><span style=\"color: #66d9ef;\">int</span><span style=\"color: #f8f8f2;\"> hash </span><span style=\"color: #f92672;\">=</span><span style=\"color: #f8f8f2;\"> hashFunction.</span><span style=\"color: #a6e22e;\">hash</span><span style=\"color: #f8f8f2;\">(key);</span>\r\n<span style=\"color: #f8f8f2;\">    </span><span style=\"color: #66d9ef;\">if</span><span style=\"color: #f8f8f2;\"> (</span><span style=\"color: #f92672;\">!</span><span style=\"color: #f8f8f2;\">circle.</span><span style=\"color: #a6e22e;\">containsKey</span><span style=\"color: #f8f8f2;\">(hash)) {</span>\r\n<span style=\"color: #f8f8f2;\">      SortedMap</span><span style=\"color: #f92672;\">&lt;</span><span style=\"color: #f8f8f2;\">Integer, T</span><span style=\"color: #f92672;\">&gt;</span><span style=\"color: #f8f8f2;\"> tailMap </span><span style=\"color: #f92672;\">=</span>\r\n<span style=\"color: #f8f8f2;\">        circle.</span><span style=\"color: #a6e22e;\">tailMap</span><span style=\"color: #f8f8f2;\">(hash);</span>\r\n<span style=\"color: #f8f8f2;\">      hash </span><span style=\"color: #f92672;\">=</span><span style=\"color: #f8f8f2;\"> tailMap.</span><span style=\"color: #a6e22e;\">isEmpty</span><span style=\"color: #f8f8f2;\">() </span><span style=\"color: #f92672;\">?</span>\r\n<span style=\"color: #f8f8f2;\">             circle.</span><span style=\"color: #a6e22e;\">firstKey</span><span style=\"color: #f8f8f2;\">() : tailMap.</span><span style=\"color: #a6e22e;\">firstKey</span><span style=\"color: #f8f8f2;\">();</span>\r\n<span style=\"color: #f8f8f2;\">    }</span>\r\n<span style=\"color: #f8f8f2;\">    </span><span style=\"color: #66d9ef;\">return</span><span style=\"color: #f8f8f2;\"> circle.</span><span style=\"color: #a6e22e;\">get</span><span style=\"color: #f8f8f2;\">(hash);</span>\r\n<span style=\"color: #f8f8f2;\">  }</span>\r\n\r\n<span style=\"color: #f8f8f2;\">}</span>\r\n</span></pre>\r\n</div>\r\n<p style=\"font-size: 16px;\">Круг представлен в виде отсортированной карты целых чисел, которые представляют хэш-значения, в кеши (здесь типа <code>T</code>). Когда создается объект <code>ConsistentHash</code>, каждый узел добавляется в карту круга несколько раз ( контролируется <code>numberOfReplicas</code>). Расположение каждой реплики выбирается путем хэширования имени узла вместе с числовым суффиксом, и узел сохраняется в каждой из этих точек на карте. Чтобы найти узел для объекта (метод <code>get</code>), хеш-значение объекта используется для поиска на карте. В большинстве случаев в этом хеш-значении не будет узла, хранящегося (поскольку пространство хеш-значений обычно намного больше, чем количество узлов, даже с репликами), поэтому следующий узел находится путем поиска первого ключа в хвостовая карта. Если хвостовая карта пуста, то мы обходим круг, получая первый ключ в круге.</p>\r\n<h1>Использование</h1>\r\n<hr />\r\n<p style=\"font-size: 16px;\">Итак, как вы можете использовать согласованное хеширование? Скорее всего, вы встретите его в библиотеке, а не будете кодировать самостоятельно. Например, как упоминалось выше, memcached, система кэширования объектов с распределенной памятью, теперь имеет клиентов, поддерживающих последовательное хеширование. Кетама Last.fm Ричарда Джонса была первой, и теперь есть реализация Java Дастином Саллингсом (которая вдохновила мою упрощенную демонстрационную реализацию выше). Интересно отметить, что алгоритм последовательного хеширования должен быть реализован только на клиенте &mdash; сервер <code>memcached</code> не изменился. Другие системы, использующие согласованное хеширование, включают Chord, который представляет собой реализацию распределенной хэш-таблицы, и Dynamo от Amazon, который представляет собой хранилище ключей и значений (недоступно за пределами Amazon).</p>", "category": 2, "author": "Tom White", "author_contact": "tom.e.white@gmail.com", "is_comments_available": false, "is_already_formatted": true, "tags": [1, 2, 3, 4]}}, {"model": "core.post", "pk": 2, "fields": {"uuid": "50aabfab-4037-4abb-a603-aba1436e3129", "created_at": "2022-06-08T14:36:11.509Z", "updated_at": "2022-06-08T14:37:48.039Z", "language": "ru", "title": "Стратегии и методы ограничения скорости", "slug": "стратегии-и-методы-ограничения-скорости", "markdown": "### Введение\r\n---\r\n\r\nВ этом документе объясняется, почему используется ограничение скорости, описываются стратегии и методы ограничения скорости, а также объясняется, где ограничение скорости актуально для продуктов Google Cloud. Большая часть этой информации относится к нескольким уровням в стеках технологий, но в этом документе основное внимание уделяется ограничению скорости на уровне приложений.\r\n\r\nОграничение скорости относится к предотвращению превышения частоты операции некоторого ограничения. В крупномасштабных системах ограничение скорости обычно используется для защиты базовых служб и ресурсов.\r\n\r\n### Почему используется ограничение скорости\r\n---\r\n\r\nОграничение скорости обычно используется как защитная мера для услуг. Общие службы должны защищать себя от чрезмерного использования — преднамеренного или непреднамеренного — для поддержания доступности службы. Даже хорошо масштабируемые системы должны иметь ограничения на потребление на каком-то уровне. Чтобы система работала хорошо, клиенты также должны быть разработаны с учетом ограничения скорости, чтобы уменьшить вероятность [каскадного сбоя](https://sre.google/sre-book/addressing-cascading-failures/). Ограничение скорости как на стороне клиента, так и на стороне сервера имеет решающее значение для максимизации пропускной способности и минимизации сквозной задержки в больших распределенных системах.\r\n\r\n\r\n### Предотвращение нехватки ресурсов\r\n---\r\n\r\nНаиболее распространенная причина ограничения скорости — повысить доступность сервисов на основе API, избегая нехватки ресурсов. Многие инциденты отказа в обслуживании на основе нагрузки в больших системах являются непреднамеренными, вызванными ошибками в программном обеспечении или конфигурациями в какой-либо другой части системы, а не злонамеренными атаками (такими как распределенные атаки типа «отказ в обслуживании» на основе сети). Истощение ресурсов, не вызванное злонамеренной атакой, иногда называют [отказом в обслуживании (DoS) по дружественному огню.](https://cloud.google.com/blog/products/gcp/how-to-avoid-a-self-inflicted-ddos-attack-cre-life-lessons)\r\n\r\nКак правило, служба применяет ограничение скорости на этапе, предшествующем ограниченному ресурсу, с некоторым запасом безопасности для предварительного предупреждения. Маржа требуется, потому что может быть некоторая задержка в загрузке, и защита ограничения скорости должна быть на месте до того, как произойдет критическая конкуренция за ресурс. Например, RESTful API может применять ограничение скорости для защиты базовой базы данных; без ограничения скорости масштабируемая служба API может одновременно выполнять большое количество вызовов к базе данных, и база данных может быть не в состоянии отправлять четкие сигналы ограничения скорости.\r\n\r\n### Управление политиками и квотами\r\n---\r\n\r\nКогда пропускная способность службы распределяется между многими пользователями или потребителями, она может применять ограничение скорости для каждого пользователя, чтобы обеспечить справедливое и разумное использование, не затрагивая других пользователей. Эти ограничения могут применяться в течение более длительных периодов времени или они могут применяться к ресурсам, которые измеряются не скоростью, а выделенным количеством. Эти лимиты скорости и распределения вместе называются квотами. Квоты также могут применяться к пакетам монетизации API или ограничениям уровня бесплатного пользования. Дополнительные сведения см. в разделе [«Квоты и ограничения»](https://cloud.google.com/architecture/rate-limiting-strategies-techniques#quota_and_caps) данного документа.\r\n\r\nВажно понимать, как эти квоты распределяются между приложениями и проектами в вашей организации. Например, мошеннический канареечный выпуск в производственном проекте может потреблять квоту на ресурс, используемый обслуживающей производственной инфраструктурой.\r\n\r\n### Управление потоком\r\n---\r\n\r\nВ сложных связанных системах, которые обрабатывают большие объемы данных и сообщений, вы можете использовать ограничение скорости для управления этими потоками — будь то объединение многих потоков в одну службу или распределение одного рабочего потока среди многих рабочих.\r\n\r\nНапример, вы можете более равномерно распределить работу между рабочими, ограничив поток для каждого рабочего, не позволяя одному рабочему накапливать очередь необработанных элементов, пока другие рабочие простаивают. Управление потоком уравновешивает предварительную выборку данных, готовых к локальной обработке, и гарантирует, что каждый узел в системе имеет равные возможности для выполнения работы. Дополнительные сведения см. в разделе [Pub/Sub: управление потоком](https://cloud.google.com/architecture/rate-limiting-strategies-techniques#cloud_pub_sub_flow_control).\r\n\r\n### Избегание лишних затрат\r\n---\r\n\r\nВы можете использовать ограничение скорости для контроля затрат⁠, например, если базовый ресурс может автоматически масштабироваться для удовлетворения спроса, но бюджет на использование этого ресурса ограничен. Организация может использовать ограничение скорости, чтобы предотвратить выход экспериментов из-под контроля и накопление больших счетов. Эта проблема отчасти связана с тем, что многие квоты Google Cloud устанавливаются с начальными значениями, которые могут быть [увеличены по запросу](https://cloud.google.com/docs/quota#requesting_higher_quota). Другое ограничение ставок, мотивированное затратами, может применяться организациями, которые предлагают решения SaaS (программное обеспечение как услуга) с фиксированной стоимостью, которым необходимо смоделировать свои затраты, цену и маржу в расчете на одного клиента.\r\n\r\n### Стратегия\r\n---\r\n\r\nВ цепочке или сетке сервисов многие узлы системы являются и клиентами, и серверами. Каждая часть системы может вообще не применять стратегию ограничения скорости или может по-разному комбинировать одну или несколько стратегий, поэтому для обеспечения оптимальной работы требуется представление всей системы. Даже в тех случаях, когда ограничение скорости реализовано полностью на стороне сервера, клиент должен реагировать соответствующим образом. В большинстве ситуаций, если инструмент или инфраструктура, реализующая вашу стратегию ограничения скорости, не работает или недоступен, ваша служба должна открываться с ошибкой и пытаться обслужить все запросы. Клиенты, как правило, не выходят за рамки квот, и сбой при открытии менее опасен для крупномасштабных систем, чем сбой при закрытии. Отказ в закрытии приводит к полному выходу из строя, а отказ при открытии приводит к ухудшению состояния. Решения о неудачном открытии или закрытии в основном относятся к стороне сервера, но знание того, какие методы повторных попыток используют клиенты при неудачном запросе, может повлиять на ваши решения, принимаемые в отношении поведения сервера.\r\n\r\n### Без ограничения скорости\r\n---\r\n\r\nВажно рассмотреть вариант без ограничения скорости в качестве минимального уровня в вашем проекте, то есть как наихудший случай, который ваша система должна быть в состоянии приспособить. Создайте свою систему с надежной обработкой ошибок на случай, если какая-то часть вашей стратегии ограничения скорости перестанет работать, и поймите, что пользователи вашего сервиса получат в таких ситуациях. Убедитесь, что вы предоставляете полезные коды ошибок и не допускаете утечки конфиденциальных данных в кодах ошибок. Использование тайм-аутов, крайних сроков и шаблонов отключения помогает вашей службе быть более надежной при отсутствии ограничения скорости.\r\n\r\n### Пересечения\r\n---\r\n\r\nЕсли ваша служба вызывает другие службы для выполнения запросов, вы можете выбрать способ передачи любых сигналов ограничения скорости от этих служб обратно исходному вызывающему абоненту.\r\n\r\n> Примечание. В службах HTTP наиболее распространенным способом, которым службы сигнализируют о применении ограничения скорости, является возврат кода состояния `429` в ответе HTTP. Ответ `429` может предоставить дополнительную информацию о том, почему применяется ограничение (например, пользователь Freemium имеет меньшую квоту или система находится на обслуживании).\r\n\r\nСамый простой вариант — перенаправить только ответ об ограничении скорости от нисходящей службы вызывающей стороне. Альтернативой является принудительное ограничение скорости от имени нижестоящей службы и блокировка вызывающего абонента.\r\n\r\n### Применять ограничения скорости\r\n---\r\n\r\nНаиболее распространенная стратегия ограничения скорости заключается в том, что служба применяет один или несколько методов [принудительного ограничения скорости](https://cloud.google.com/architecture/rate-limiting-strategies-techniques#techniques-enforcing-rate-limits). Это ограничение скорости может быть введено для непосредственной защиты службы или может быть введено для защиты нижестоящего ресурса, когда известно, что нижестоящая служба не может защитить себя. Например, если вы используете службу API, которая подключается к устаревшей серверной системе, неустойчивой к большим нагрузкам, служба API не должна использовать стратегию сквозного доступа, предполагая, что устаревшая служба будет предоставлять свои собственные сигналы ограничения скорости. \r\n\r\nЧтобы применить ограничение скорости, сначала поймите, почему оно применяется в данном случае, а затем определите, какие атрибуты запроса лучше всего подходят для использования в качестве ограничивающего ключа (например, исходный IP-адрес, пользователь, ключ API). После выбора ограничивающего ключа ограничивающая реализация может использовать его для отслеживания использования. Когда лимиты достигнуты, сервис возвращает ограничивающий сигнал (обычно HTTP-ответ `429`).\r\n\r\n### Отложенные ответ\r\n---\r\n\r\nЕсли вычисление ответа обходится дорого или требует много времени, система может быть не в состоянии предоставить быстрый ответ на запрос, что усложняет для службы обработку запросов с высокой частотой. Альтернативой ограничению скорости в этих случаях является помещение запросов в очередь и возврат определенного идентификатора задания. Это позволяет службе поддерживать более высокую доступность и снижает объем вычислений для клиентов, которые в противном случае могли бы выполнять длительные блокирующие вызовы в ожидании ответа. То, как результат отложенного ответа возвращается вызывающей стороне, является другим набором вариантов, но обычно он включает опрос состояния идентификатора задания или через систему, полностью основанную на событиях, в которой вызывающая сторона может зарегистрировать обратный вызов или подписаться на запрос. канал событий. Такая система выходит за рамки данного документа. Шаблон отложенного ответа проще всего применить, когда немедленный ответ на запрос не содержит реальной информации. Если этим шаблоном злоупотреблять, это может увеличить сложность и режимы отказов вашей системы.\r\n\r\n### Стратегии на стороне клиента\r\n---\r\n\r\nОписанные до сих пор стратегии применяются для ограничения скорости на стороне сервера. Однако эти стратегии могут помочь при проектировании клиентов, особенно если учесть, что многие компоненты распределенной системы являются одновременно и клиентскими, и серверными. \r\n\r\nТочно так же, как основная цель службы при использовании ограничения скорости — защитить себя и поддерживать доступность, основная цель клиента — выполнить запрос, который он отправляет службе. Служба может быть не в состоянии выполнить запрос от клиента по разным причинам, включая следующие:\r\n\r\n* The service is unreachable because of network conditions.\r\n* The service returned a non-specific error.\r\n* The service denies the request because of an authentication or authorization failure.\r\n* The client request is invalid or malformed.\r\n* The service rate-limits the caller and sends a backpressure signal (commonly a `429` response).\r\n\r\nМы рекомендуем проектировать клиентов так, чтобы они были устойчивы к этим типам проблем. [Клиентские библиотеки](https://cloud.google.com/apis/docs/cloud-client-libraries), предоставляемые Google, имеют множество встроенных функций, которые распознают описанные выше сценарии. \r\n\r\nВ ответ на ограничивающие скорость, прерывистые или неспецифические ошибки клиент обычно должен повторить запрос после задержки. Рекомендуется увеличивать эту задержку экспоненциально после каждого неудачного запроса, что называется экспоненциальной отсрочкой. Когда многие клиенты могут делать запросы на основе расписания (например, выборка результатов каждый час), следует применять дополнительное случайное время (дрожание) к времени запроса, периоду отсрочки или к тому и другому, чтобы гарантировать, что эти несколько экземпляров клиента не станут периодические [гремящие стада](https://wikipedia.org/wiki/Thundering_herd_problem), а сами вызывают форму DDoS.\r\n\r\nПредставьте себе мобильное приложение со многими пользователями, которое регистрируется с помощью API каждый день ровно в полдень и применяет одну и ту же детерминированную логику отсрочки. В полдень многие клиенты звонят в службу, которая запускает ограничение скорости и возвращает ответы с кодом состояния 429. Затем клиенты послушно отступают и ждут установленное время (детерминированная задержка) ровно 60 секунд, а затем в 12:01 служба получает еще один большой набор запросов. Добавляя случайное смещение (джиттер) ко времени первоначального запроса или времени задержки, запросы и повторные попытки могут быть распределены более равномерно, что повышает шансы службы на выполнение запросов. \r\n\r\nВ идеале неидемпотентные запросы могут выполняться в контексте строго согласованной транзакции, но не все запросы на обслуживание могут предложить такие гарантии, поэтому при повторных попытках, изменяющих данные, необходимо учитывать последствия дублирования действий.\r\n\r\nВ ситуациях, когда разработчик клиента знает, что вызываемая им система неустойчива к стрессовым нагрузкам и не поддерживает сигналы, ограничивающие скорость (противодавление), разработчик клиентской библиотеки или разработчик клиентского приложения может выбрать применение самостоятельных ограничений. регулирование скорости с использованием тех же [методов ограничения скорости](https://cloud.google.com/architecture/rate-limiting-strategies-techniques#techniques-enforcing-rate-limits), что и на стороне сервера. \r\n\r\nДля клиентов API, которые откладывают ответ с идентификатором асинхронной длительной операции, клиент может войти в блокирующий цикл, опрашивая состояние отложенного ответа, устраняя эту сложность для пользователя клиентской библиотеки.\r\n\r\n### Методы обеспечения ограничения скорости\r\n---\r\n\r\nВ общем, скорость — это просто подсчет событий с течением времени. Тем не менее, существует несколько различных методов измерения и ограничения ставок, каждый из которых имеет свои собственные применения и последствия.\r\n\r\n- **Ведро токенов**: [ведро токенов](https://wikipedia.org/wiki/Token_bucket) поддерживает скользящий и накапливающийся бюджет использования в виде баланса токенов. Этот метод признает, что не все входные данные для службы соответствуют 1:1 запросам. Ведро токенов добавляет токены с определенной скоростью. Когда делается запрос на обслуживание, сервис пытается отозвать токен (уменьшая количество токенов) для выполнения запроса. Если в ведре нет токенов, сервис достиг своего предела и отвечает обратным давлением. Например, в службе GraphQL один запрос может привести к нескольким операциям, которые объединяются в результат. Каждая из этих операций может занимать по одному маркеру. Таким образом, служба может отслеживать пропускную способность, которая необходима для ограничения использования, а не привязывать метод ограничения скорости непосредственно к запросам.\r\n\r\n\r\n- **Дырявое ведро**: [Дырявое ведро](https://wikipedia.org/wiki/Leaky_bucket) похоже на ведро с жетонами, но скорость ограничена количеством, которое может капать или вытекать из ведра. Этот метод признает, что система имеет некоторую ограниченную способность удерживать запрос до тех пор, пока служба не сможет обработать его; все лишнее просто выливается за край и отбрасывается. Это понятие емкости буфера (но не обязательно использование дырявых корзин) также применимо к компонентам, смежным с вашей службой, таким как балансировщики нагрузки и дисковые буферы ввода-вывода.\r\n\r\n\r\n- **Фиксированное окно**. Пределы фиксированного окна, такие как 3000 запросов в час или 10 запросов в день, установить несложно, но они подвержены всплескам по краям окна по мере сброса доступной квоты. Возьмем, к примеру, ограничение в 3000 запросов в час, которое по-прежнему допускает всплеск всех 3000 запросов в первую минуту часа, что может привести к перегрузке службы.\r\n\r\n\r\n- **Скользящее окно**: Скользящее окно имеет преимущества фиксированного окна, но скользящее окно времени сглаживает всплески. Такие системы, как Redis, облегчают эту технику с помощью ключей с истекающим сроком действия.\r\n\r\n\r\nКогда у вас есть много независимо работающих экземпляров службы (например, облачных функций) в распределенной системе, и службу необходимо ограничить в целом, вам необходимо использовать быструю, логически глобальную (глобальную для всех запущенных функций, а не обязательно географически глобальное) хранилище ключей и значений, такое как Redis, для синхронизации различных счетчиков лимитов.\r\n\r\n### Функции ограничения скорости в Google Cloud\r\n---\r\n\r\nКаждый API Google (внутренний и внешний) применяет некоторую степень ограничения скорости или квоты. Это фундаментальный принцип дизайна услуг в Google. В этом разделе рассматривается, как эти службы также предоставляют ограничение скорости как функцию, которую вы можете использовать при создании в Google Cloud.\r\n\r\n### Квота и ограничения\r\n---\r\n\r\nGoogle Cloud применяет квоты, которые ограничивают объем определенного ресурса Google Cloud, который может использовать ваш проект. Квоты скорости указывают, сколько ресурсов может быть использовано в данный момент времени, например запросов API в день. Вы также можете установить свои собственные ограничения на то, сколько ресурсов можно использовать в данный момент времени; такие пользовательские ограничения называются ограничениями. \r\n\r\nДополнительные сведения о квотах и ​​ограничениях, включая информацию о том, как устанавливать ограничения и запрашивать увеличение квоты, см. в разделе [Работа с квотами](https://cloud.google.com/docs/quota). \r\n\r\nУ каждого продукта Google Cloud есть страница, на которой перечислены ограничения служб (например, максимальные размеры сообщений) и квоты на основе скорости (например, максимальное количество запросов в секунду для определенного API). На этих страницах также указано, можете ли вы запрашивать увеличение или нет. Чтобы найти эти страницы, начните с этого [поиска](https://cloud.google.com/s/results?q=%22quotas%20and%20limits%22).\r\n\r\nКак правило, квоты Google Cloud указаны для каждого проекта, а окна — в секунду или в минуту. Если в проекте запущено несколько частей решения, важно отметить, что они совместно используют эти квоты. \r\n\r\nВы можете [отслеживать](https://cloud.google.com/apis/docs/monitoring), как используется ваша квота, и даже устанавливать оповещения об изменениях в том, как вы используете квоту, или когда использование превышает определенное количество. Вы можете установить [собственное ограничение](https://cloud.google.com/apis/docs/capping-api-usage) на использование API и использовать [оповещения о бюджете](https://cloud.google.com/billing/docs/how-to/budgets), чтобы контролировать расходы, связанные с использованием API.\r\n\r\n### Cloud Tasks\r\n---\r\n\r\nCloud Tasks — это полностью управляемая служба, которую можно использовать для управления выполнением, отправкой и доставкой большого количества распределенных задач. Используя Cloud Tasks, вы можете асинхронно выполнять работу вне запроса пользователя. Cloud Tasks позволяет вам устанавливать [ограничения как на скорость, так и на параллелизм](https://cloud.google.com/tasks/docs/creating-appengine-queues#rate). Cloud Tasks использует технику корзины с маркерами, чтобы обеспечить [неравномерность](https://cloud.google.com/cloud-tasks/docs/reference/rest/v2beta2/projects.locations.queues#RateLimits) доставки сообщений в этих пределах.\r\n\r\n### Cloud Functions\r\n---\r\n\r\nCloud Functions — это легкое решение для вычислений, позволяющее разработчикам создавать одноцелевые автономные функции, которые реагируют на облачные события без необходимости управлять сервером или средой выполнения. Облачные функции по умолчанию не имеют состояния и легко масштабируются: управляемая инфраструктура Google автоматически создает экземпляры функций для обработки входящих запросов. Из-за такого поведения масштабирования функции могут стать объектами высокой частоты запросов, и если эти функции вызывают нижестоящие службы, функции могут стать источником непреднамеренного DoS для этих нижестоящих служб.\r\n\r\nОдним из типов DoS является исчерпание соединений в базах данных. Если каждый экземпляр функции устанавливает соединение базы данных с серверной частью, всплеск трафика может привести к автоматическому масштабированию многих экземпляров и, следовательно, к исчерпанию доступной емкости соединений на серверах баз данных. Чтобы предотвратить масштабирование функций за пределы определенного количества экземпляров, служба предоставляет настройку [максимального количества экземпляров для каждой функции](https://cloud.google.com/functions/docs/configuring/max-instances).\r\n\r\nДля фоновых функций Google Cloud вызывает вашу функцию с полезной нагрузкой и контекстом события. Вы можете указать, хотите ли вы, чтобы система [повторяла попытку доставки события](https://cloud.google.com/functions/docs/bestpractices/retries), если ваша функция дает сбой или не может обработать событие — возможно, из-за того, что его скорость ограничена чем-то нижестоящим.\r\n\r\nХотя настройка максимального количества экземпляров может помочь вам ограничить параллелизм, она не дает прямого контроля над тем, сколько раз в секунду может вызываться ваша функция. См. раздел «[Что дальше](https://cloud.google.com/architecture/rate-limiting-strategies-techniques#whats_next)» для руководств, демонстрирующих, как использовать Redis для глобальной координации ограничения скорости вызовов функций.\r\n\r\n### Pub/Sub: управление потоком\r\n---\r\n\r\nPub/Sub — это полностью управляемая служба обмена сообщениями в реальном времени, которая позволяет отправлять и получать сообщения между независимыми приложениями. При перемещении большого количества сообщений через темы Pub/Sub вам может потребоваться настроить скорость обработки сообщений на клиентах-потребителях, чтобы потребители, работающие параллельно, были эффективны и не удерживали слишком много ожидающих сообщений, влияя на общую задержку обработки. Чтобы настроить это поведение, клиенты Pub/Sub предоставляют несколько [параметров управления потоком](https://cloud.google.com/pubsub/docs/pull#flow_control).\r\n\r\n### Cloud Run\r\n---\r\n\r\nCloud Run — это управляемая вычислительная платформа, которая позволяет запускать контейнеры без сохранения состояния, которые можно вызывать с помощью HTTP-запросов. В отличие от облачных функций, один экземпляр контейнера может обрабатывать несколько запросов [одновременно](https://cloud.google.com/run/docs/about-concurrency), если это поддерживается обслуживающим стеком в контейнере.\r\n\r\n### Istio\r\n---\r\n\r\n[Istio](https://cloud.google.com/istio) — это независимая сервисная сетка с открытым исходным кодом, которая предоставляет основы, необходимые для успешного запуска распределенной микросервисной архитектуры. Отказоустойчивая микросервисная архитектура требует, чтобы сервисы были защищены от мошеннических одноранговых сервисов, поэтому Istio обеспечивает [ограничение скорости](https://istio.io/v1.4/docs/tasks/policy-enforcement/rate-limiting/#rate-limits) непосредственно в сервисной сетке.\r\n\r\n### Cloud Endpoints\r\n---\r\n\r\n[Cloud Endpoints](https://cloud.google.com/endpoints/docs) — это система управления API, которая помогает вам защищать, отслеживать, анализировать и устанавливать квоты для ваших API, используя ту же инфраструктуру, которую Google использует для своих собственных API. Являясь службой, призванной помочь вам предоставлять услуги внешнему миру, она предоставляет возможность [настраивать собственные квоты](https://cloud.google.com/endpoints/docs/openapi/quotas-configure), включая [политики на основе скорости](https://cloud.google.com/endpoints/docs/openapi/quotas-configure#quota_configuration_examples).\r\n\r\n### Apigee\r\n---\r\n\r\nApigee — это платформа для разработки и управления API-прокси. Прокси-сервер API — это ваш интерфейс для разработчиков, которые хотят использовать ваши серверные службы. Вместо того, чтобы напрямую использовать эти услуги, они получают доступ к прокси API Apigee, который вы создаете. Обычно Apigee размещают перед серверными службами, которые могут не иметь собственных возможностей ограничения скорости, поэтому ограничение скорости является встроенной функцией Apigee.\r\n\r\n### Google Cloud Armor\r\n---\r\n\r\nGoogle Cloud Armor использует [глобальную инфраструктуру и системы безопасности Google для защиты от распределенных атак типа «отказ в обслуживании» (DDoS)](https://cloud.google.com/armor) против инфраструктуры и приложений. Это включает в себя встроенную логику в отношении вредоносных всплесков и высокой нагрузки на ваши защищенные службы.\r\n\r\n### Project Shield\r\n---\r\n\r\nХотя [Project Shield](https://projectshield.withgoogle.com/public/) не является облачным сервисом Google, он использует инфраструктуру Google для защиты соответствующих сайтов от DDoS-атак.\r\n\r\n### Дополнительные методы для большей устойчивости\r\n---\r\n\r\nОграничение скорости на уровне приложения может предоставлять услуги с повышенной устойчивостью, но устойчивость можно дополнительно улучшить, комбинируя ограничение скорости на уровне приложения с другими методами: \r\n\r\n- **Кэширование**. Хранение результатов, вычисление которых происходит медленно, позволяет службе обрабатывать запросы с более высокой скоростью, что может привести к тому, что противодавление, ограничивающее скорость, будет применяться к клиентам реже. \r\n\r\n\r\n- **Разрыв цепи**: Вы можете сделать сервисные сети более устойчивыми к проблемам, возникающим из-за распространения повторяющихся ошибок, путем временной блокировки частей системы в тихое состояние. Пример реализации см. в разделе «Размыкание цепи» документации Istio. \r\n\r\n\r\n- **Приоритизация**: не все пользователи системы имеют одинаковый приоритет. Учитывайте дополнительные факторы при разработке ключей ограничения скорости, чтобы обеспечить обслуживание клиентов с более высоким приоритетом. Вы можете использовать сброс нагрузки, чтобы снять с систем бремя низкоприоритетного трафика.\r\n\r\n\r\n- **Ограничение скорости на нескольких уровнях**: если сетевой интерфейс вашего компьютера или ядро ​​ОС перегружены, то ограничение скорости на уровне приложения может никогда не начаться. Вы можете применять ограничения скорости на уровне 3 в iptables, или локальные устройства могут ограничивать на уровне 4. Вы также можете столкнуться с настраиваемыми ограничениями скорости, применяемыми к вводу-выводу вашей системы для таких вещей, как дисковые и сетевые буферы. \r\n\r\n\r\n- **Мониторинг**. Персоналу операционных систем крайне важно знать, когда происходит регулирование. Мониторинг ставок, превышающих квоты, имеет решающее значение для управления инцидентами и обнаружения регрессий в программном обеспечении. Мы рекомендуем реализовать такой мониторинг как для клиентской, так и для серверной точек зрения служб. Не все случаи ограничения скорости должны вызывать предупреждения, требующие немедленного внимания со стороны эксплуатационного персонала. В некритических случаях вы можете отреагировать на сигналы ограничения скорости позже, в рамках плановой оценки и обслуживания вашей системы. Вы можете использовать журналы о том, когда происходит ограничение скорости, как сигнал о необходимости внесения изменений, таких как увеличение емкости компонента, запрос на увеличение квоты или изменение политики.", "body": "<h3>Введение</h3>\n<hr />\n<p style=\"font-size: 16px;\">В этом документе объясняется, почему используется ограничение скорости, описываются стратегии и методы ограничения скорости, а также объясняется, где ограничение скорости актуально для продуктов Google Cloud. Большая часть этой информации относится к нескольким уровням в стеках технологий, но в этом документе основное внимание уделяется ограничению скорости на уровне приложений.</p>\n<p style=\"font-size: 16px;\">Ограничение скорости относится к предотвращению превышения частоты операции некоторого ограничения. В крупномасштабных системах ограничение скорости обычно используется для защиты базовых служб и ресурсов.</p>\n<h3>Почему используется ограничение скорости</h3>\n<hr />\n<p style=\"font-size: 16px;\">Ограничение скорости обычно используется как защитная мера для услуг. Общие службы должны защищать себя от чрезмерного использования — преднамеренного или непреднамеренного — для поддержания доступности службы. Даже хорошо масштабируемые системы должны иметь ограничения на потребление на каком-то уровне. Чтобы система работала хорошо, клиенты также должны быть разработаны с учетом ограничения скорости, чтобы уменьшить вероятность <a href=\"https://sre.google/sre-book/addressing-cascading-failures/\">каскадного сбоя</a>. Ограничение скорости как на стороне клиента, так и на стороне сервера имеет решающее значение для максимизации пропускной способности и минимизации сквозной задержки в больших распределенных системах.</p>\n<h3>Предотвращение нехватки ресурсов</h3>\n<hr />\n<p style=\"font-size: 16px;\">Наиболее распространенная причина ограничения скорости — повысить доступность сервисов на основе API, избегая нехватки ресурсов. Многие инциденты отказа в обслуживании на основе нагрузки в больших системах являются непреднамеренными, вызванными ошибками в программном обеспечении или конфигурациями в какой-либо другой части системы, а не злонамеренными атаками (такими как распределенные атаки типа «отказ в обслуживании» на основе сети). Истощение ресурсов, не вызванное злонамеренной атакой, иногда называют <a href=\"https://cloud.google.com/blog/products/gcp/how-to-avoid-a-self-inflicted-ddos-attack-cre-life-lessons\">отказом в обслуживании (DoS) по дружественному огню.</a></p>\n<p style=\"font-size: 16px;\">Как правило, служба применяет ограничение скорости на этапе, предшествующем ограниченному ресурсу, с некоторым запасом безопасности для предварительного предупреждения. Маржа требуется, потому что может быть некоторая задержка в загрузке, и защита ограничения скорости должна быть на месте до того, как произойдет критическая конкуренция за ресурс. Например, RESTful API может применять ограничение скорости для защиты базовой базы данных; без ограничения скорости масштабируемая служба API может одновременно выполнять большое количество вызовов к базе данных, и база данных может быть не в состоянии отправлять четкие сигналы ограничения скорости.</p>\n<h3>Управление политиками и квотами</h3>\n<hr />\n<p style=\"font-size: 16px;\">Когда пропускная способность службы распределяется между многими пользователями или потребителями, она может применять ограничение скорости для каждого пользователя, чтобы обеспечить справедливое и разумное использование, не затрагивая других пользователей. Эти ограничения могут применяться в течение более длительных периодов времени или они могут применяться к ресурсам, которые измеряются не скоростью, а выделенным количеством. Эти лимиты скорости и распределения вместе называются квотами. Квоты также могут применяться к пакетам монетизации API или ограничениям уровня бесплатного пользования. Дополнительные сведения см. в разделе <a href=\"https://cloud.google.com/architecture/rate-limiting-strategies-techniques#quota_and_caps\">«Квоты и ограничения»</a> данного документа.</p>\n<p style=\"font-size: 16px;\">Важно понимать, как эти квоты распределяются между приложениями и проектами в вашей организации. Например, мошеннический канареечный выпуск в производственном проекте может потреблять квоту на ресурс, используемый обслуживающей производственной инфраструктурой.</p>\n<h3>Управление потоком</h3>\n<hr />\n<p style=\"font-size: 16px;\">В сложных связанных системах, которые обрабатывают большие объемы данных и сообщений, вы можете использовать ограничение скорости для управления этими потоками — будь то объединение многих потоков в одну службу или распределение одного рабочего потока среди многих рабочих.</p>\n<p style=\"font-size: 16px;\">Например, вы можете более равномерно распределить работу между рабочими, ограничив поток для каждого рабочего, не позволяя одному рабочему накапливать очередь необработанных элементов, пока другие рабочие простаивают. Управление потоком уравновешивает предварительную выборку данных, готовых к локальной обработке, и гарантирует, что каждый узел в системе имеет равные возможности для выполнения работы. Дополнительные сведения см. в разделе <a href=\"https://cloud.google.com/architecture/rate-limiting-strategies-techniques#cloud_pub_sub_flow_control\">Pub/Sub: управление потоком</a>.</p>\n<h3>Избегание лишних затрат</h3>\n<hr />\n<p style=\"font-size: 16px;\">Вы можете использовать ограничение скорости для контроля затрат⁠, например, если базовый ресурс может автоматически масштабироваться для удовлетворения спроса, но бюджет на использование этого ресурса ограничен. Организация может использовать ограничение скорости, чтобы предотвратить выход экспериментов из-под контроля и накопление больших счетов. Эта проблема отчасти связана с тем, что многие квоты Google Cloud устанавливаются с начальными значениями, которые могут быть <a href=\"https://cloud.google.com/docs/quota#requesting_higher_quota\">увеличены по запросу</a>. Другое ограничение ставок, мотивированное затратами, может применяться организациями, которые предлагают решения SaaS (программное обеспечение как услуга) с фиксированной стоимостью, которым необходимо смоделировать свои затраты, цену и маржу в расчете на одного клиента.</p>\n<h3>Стратегия</h3>\n<hr />\n<p style=\"font-size: 16px;\">В цепочке или сетке сервисов многие узлы системы являются и клиентами, и серверами. Каждая часть системы может вообще не применять стратегию ограничения скорости или может по-разному комбинировать одну или несколько стратегий, поэтому для обеспечения оптимальной работы требуется представление всей системы. Даже в тех случаях, когда ограничение скорости реализовано полностью на стороне сервера, клиент должен реагировать соответствующим образом. В большинстве ситуаций, если инструмент или инфраструктура, реализующая вашу стратегию ограничения скорости, не работает или недоступен, ваша служба должна открываться с ошибкой и пытаться обслужить все запросы. Клиенты, как правило, не выходят за рамки квот, и сбой при открытии менее опасен для крупномасштабных систем, чем сбой при закрытии. Отказ в закрытии приводит к полному выходу из строя, а отказ при открытии приводит к ухудшению состояния. Решения о неудачном открытии или закрытии в основном относятся к стороне сервера, но знание того, какие методы повторных попыток используют клиенты при неудачном запросе, может повлиять на ваши решения, принимаемые в отношении поведения сервера.</p>\n<h3>Без ограничения скорости</h3>\n<hr />\n<p style=\"font-size: 16px;\">Важно рассмотреть вариант без ограничения скорости в качестве минимального уровня в вашем проекте, то есть как наихудший случай, который ваша система должна быть в состоянии приспособить. Создайте свою систему с надежной обработкой ошибок на случай, если какая-то часть вашей стратегии ограничения скорости перестанет работать, и поймите, что пользователи вашего сервиса получат в таких ситуациях. Убедитесь, что вы предоставляете полезные коды ошибок и не допускаете утечки конфиденциальных данных в кодах ошибок. Использование тайм-аутов, крайних сроков и шаблонов отключения помогает вашей службе быть более надежной при отсутствии ограничения скорости.</p>\n<h3>Пересечения</h3>\n<hr />\n<p style=\"font-size: 16px;\">Если ваша служба вызывает другие службы для выполнения запросов, вы можете выбрать способ передачи любых сигналов ограничения скорости от этих служб обратно исходному вызывающему абоненту.</p>\n<blockquote>\n<p style=\"font-size: 16px;\">Примечание. В службах HTTP наиболее распространенным способом, которым службы сигнализируют о применении ограничения скорости, является возврат кода состояния <code>429</code> в ответе HTTP. Ответ <code>429</code> может предоставить дополнительную информацию о том, почему применяется ограничение (например, пользователь Freemium имеет меньшую квоту или система находится на обслуживании).</p>\n</blockquote>\n<p style=\"font-size: 16px;\">Самый простой вариант — перенаправить только ответ об ограничении скорости от нисходящей службы вызывающей стороне. Альтернативой является принудительное ограничение скорости от имени нижестоящей службы и блокировка вызывающего абонента.</p>\n<h3>Применять ограничения скорости</h3>\n<hr />\n<p style=\"font-size: 16px;\">Наиболее распространенная стратегия ограничения скорости заключается в том, что служба применяет один или несколько методов <a href=\"https://cloud.google.com/architecture/rate-limiting-strategies-techniques#techniques-enforcing-rate-limits\">принудительного ограничения скорости</a>. Это ограничение скорости может быть введено для непосредственной защиты службы или может быть введено для защиты нижестоящего ресурса, когда известно, что нижестоящая служба не может защитить себя. Например, если вы используете службу API, которая подключается к устаревшей серверной системе, неустойчивой к большим нагрузкам, служба API не должна использовать стратегию сквозного доступа, предполагая, что устаревшая служба будет предоставлять свои собственные сигналы ограничения скорости.</p>\n<p style=\"font-size: 16px;\">Чтобы применить ограничение скорости, сначала поймите, почему оно применяется в данном случае, а затем определите, какие атрибуты запроса лучше всего подходят для использования в качестве ограничивающего ключа (например, исходный IP-адрес, пользователь, ключ API). После выбора ограничивающего ключа ограничивающая реализация может использовать его для отслеживания использования. Когда лимиты достигнуты, сервис возвращает ограничивающий сигнал (обычно HTTP-ответ <code>429</code>).</p>\n<h3>Отложенные ответ</h3>\n<hr />\n<p style=\"font-size: 16px;\">Если вычисление ответа обходится дорого или требует много времени, система может быть не в состоянии предоставить быстрый ответ на запрос, что усложняет для службы обработку запросов с высокой частотой. Альтернативой ограничению скорости в этих случаях является помещение запросов в очередь и возврат определенного идентификатора задания. Это позволяет службе поддерживать более высокую доступность и снижает объем вычислений для клиентов, которые в противном случае могли бы выполнять длительные блокирующие вызовы в ожидании ответа. То, как результат отложенного ответа возвращается вызывающей стороне, является другим набором вариантов, но обычно он включает опрос состояния идентификатора задания или через систему, полностью основанную на событиях, в которой вызывающая сторона может зарегистрировать обратный вызов или подписаться на запрос. канал событий. Такая система выходит за рамки данного документа. Шаблон отложенного ответа проще всего применить, когда немедленный ответ на запрос не содержит реальной информации. Если этим шаблоном злоупотреблять, это может увеличить сложность и режимы отказов вашей системы.</p>\n<h3>Стратегии на стороне клиента</h3>\n<hr />\n<p style=\"font-size: 16px;\">Описанные до сих пор стратегии применяются для ограничения скорости на стороне сервера. Однако эти стратегии могут помочь при проектировании клиентов, особенно если учесть, что многие компоненты распределенной системы являются одновременно и клиентскими, и серверными.</p>\n<p style=\"font-size: 16px;\">Точно так же, как основная цель службы при использовании ограничения скорости — защитить себя и поддерживать доступность, основная цель клиента — выполнить запрос, который он отправляет службе. Служба может быть не в состоянии выполнить запрос от клиента по разным причинам, включая следующие:</p>\n<ul>\n<li>The service is unreachable because of network conditions.</li>\n<li>The service returned a non-specific error.</li>\n<li>The service denies the request because of an authentication or authorization failure.</li>\n<li>The client request is invalid or malformed.</li>\n<li>The service rate-limits the caller and sends a backpressure signal (commonly a <code>429</code> response).</li>\n</ul>\n<p style=\"font-size: 16px;\">Мы рекомендуем проектировать клиентов так, чтобы они были устойчивы к этим типам проблем. <a href=\"https://cloud.google.com/apis/docs/cloud-client-libraries\">Клиентские библиотеки</a>, предоставляемые Google, имеют множество встроенных функций, которые распознают описанные выше сценарии.</p>\n<p style=\"font-size: 16px;\">В ответ на ограничивающие скорость, прерывистые или неспецифические ошибки клиент обычно должен повторить запрос после задержки. Рекомендуется увеличивать эту задержку экспоненциально после каждого неудачного запроса, что называется экспоненциальной отсрочкой. Когда многие клиенты могут делать запросы на основе расписания (например, выборка результатов каждый час), следует применять дополнительное случайное время (дрожание) к времени запроса, периоду отсрочки или к тому и другому, чтобы гарантировать, что эти несколько экземпляров клиента не станут периодические <a href=\"https://wikipedia.org/wiki/Thundering_herd_problem\">гремящие стада</a>, а сами вызывают форму DDoS.</p>\n<p style=\"font-size: 16px;\">Представьте себе мобильное приложение со многими пользователями, которое регистрируется с помощью API каждый день ровно в полдень и применяет одну и ту же детерминированную логику отсрочки. В полдень многие клиенты звонят в службу, которая запускает ограничение скорости и возвращает ответы с кодом состояния 429. Затем клиенты послушно отступают и ждут установленное время (детерминированная задержка) ровно 60 секунд, а затем в 12:01 служба получает еще один большой набор запросов. Добавляя случайное смещение (джиттер) ко времени первоначального запроса или времени задержки, запросы и повторные попытки могут быть распределены более равномерно, что повышает шансы службы на выполнение запросов.</p>\n<p style=\"font-size: 16px;\">В идеале неидемпотентные запросы могут выполняться в контексте строго согласованной транзакции, но не все запросы на обслуживание могут предложить такие гарантии, поэтому при повторных попытках, изменяющих данные, необходимо учитывать последствия дублирования действий.</p>\n<p style=\"font-size: 16px;\">В ситуациях, когда разработчик клиента знает, что вызываемая им система неустойчива к стрессовым нагрузкам и не поддерживает сигналы, ограничивающие скорость (противодавление), разработчик клиентской библиотеки или разработчик клиентского приложения может выбрать применение самостоятельных ограничений. регулирование скорости с использованием тех же <a href=\"https://cloud.google.com/architecture/rate-limiting-strategies-techniques#techniques-enforcing-rate-limits\">методов ограничения скорости</a>, что и на стороне сервера.</p>\n<p style=\"font-size: 16px;\">Для клиентов API, которые откладывают ответ с идентификатором асинхронной длительной операции, клиент может войти в блокирующий цикл, опрашивая состояние отложенного ответа, устраняя эту сложность для пользователя клиентской библиотеки.</p>\n<h3>Методы обеспечения ограничения скорости</h3>\n<hr />\n<p style=\"font-size: 16px;\">В общем, скорость — это просто подсчет событий с течением времени. Тем не менее, существует несколько различных методов измерения и ограничения ставок, каждый из которых имеет свои собственные применения и последствия.</p>\n<ul>\n<li>\n<p style=\"font-size: 16px;\"><strong>Ведро токенов</strong>: <a href=\"https://wikipedia.org/wiki/Token_bucket\">ведро токенов</a> поддерживает скользящий и накапливающийся бюджет использования в виде баланса токенов. Этот метод признает, что не все входные данные для службы соответствуют 1:1 запросам. Ведро токенов добавляет токены с определенной скоростью. Когда делается запрос на обслуживание, сервис пытается отозвать токен (уменьшая количество токенов) для выполнения запроса. Если в ведре нет токенов, сервис достиг своего предела и отвечает обратным давлением. Например, в службе GraphQL один запрос может привести к нескольким операциям, которые объединяются в результат. Каждая из этих операций может занимать по одному маркеру. Таким образом, служба может отслеживать пропускную способность, которая необходима для ограничения использования, а не привязывать метод ограничения скорости непосредственно к запросам.</p>\n</li>\n<li>\n<p style=\"font-size: 16px;\"><strong>Дырявое ведро</strong>: <a href=\"https://wikipedia.org/wiki/Leaky_bucket\">Дырявое ведро</a> похоже на ведро с жетонами, но скорость ограничена количеством, которое может капать или вытекать из ведра. Этот метод признает, что система имеет некоторую ограниченную способность удерживать запрос до тех пор, пока служба не сможет обработать его; все лишнее просто выливается за край и отбрасывается. Это понятие емкости буфера (но не обязательно использование дырявых корзин) также применимо к компонентам, смежным с вашей службой, таким как балансировщики нагрузки и дисковые буферы ввода-вывода.</p>\n</li>\n<li>\n<p style=\"font-size: 16px;\"><strong>Фиксированное окно</strong>. Пределы фиксированного окна, такие как 3000 запросов в час или 10 запросов в день, установить несложно, но они подвержены всплескам по краям окна по мере сброса доступной квоты. Возьмем, к примеру, ограничение в 3000 запросов в час, которое по-прежнему допускает всплеск всех 3000 запросов в первую минуту часа, что может привести к перегрузке службы.</p>\n</li>\n<li>\n<p style=\"font-size: 16px;\"><strong>Скользящее окно</strong>: Скользящее окно имеет преимущества фиксированного окна, но скользящее окно времени сглаживает всплески. Такие системы, как Redis, облегчают эту технику с помощью ключей с истекающим сроком действия.</p>\n</li>\n</ul>\n<p style=\"font-size: 16px;\">Когда у вас есть много независимо работающих экземпляров службы (например, облачных функций) в распределенной системе, и службу необходимо ограничить в целом, вам необходимо использовать быструю, логически глобальную (глобальную для всех запущенных функций, а не обязательно географически глобальное) хранилище ключей и значений, такое как Redis, для синхронизации различных счетчиков лимитов.</p>\n<h3>Функции ограничения скорости в Google Cloud</h3>\n<hr />\n<p style=\"font-size: 16px;\">Каждый API Google (внутренний и внешний) применяет некоторую степень ограничения скорости или квоты. Это фундаментальный принцип дизайна услуг в Google. В этом разделе рассматривается, как эти службы также предоставляют ограничение скорости как функцию, которую вы можете использовать при создании в Google Cloud.</p>\n<h3>Квота и ограничения</h3>\n<hr />\n<p style=\"font-size: 16px;\">Google Cloud применяет квоты, которые ограничивают объем определенного ресурса Google Cloud, который может использовать ваш проект. Квоты скорости указывают, сколько ресурсов может быть использовано в данный момент времени, например запросов API в день. Вы также можете установить свои собственные ограничения на то, сколько ресурсов можно использовать в данный момент времени; такие пользовательские ограничения называются ограничениями.</p>\n<p style=\"font-size: 16px;\">Дополнительные сведения о квотах и ​​ограничениях, включая информацию о том, как устанавливать ограничения и запрашивать увеличение квоты, см. в разделе <a href=\"https://cloud.google.com/docs/quota\">Работа с квотами</a>.</p>\n<p style=\"font-size: 16px;\">У каждого продукта Google Cloud есть страница, на которой перечислены ограничения служб (например, максимальные размеры сообщений) и квоты на основе скорости (например, максимальное количество запросов в секунду для определенного API). На этих страницах также указано, можете ли вы запрашивать увеличение или нет. Чтобы найти эти страницы, начните с этого <a href=\"https://cloud.google.com/s/results?q=%22quotas%20and%20limits%22\">поиска</a>.</p>\n<p style=\"font-size: 16px;\">Как правило, квоты Google Cloud указаны для каждого проекта, а окна — в секунду или в минуту. Если в проекте запущено несколько частей решения, важно отметить, что они совместно используют эти квоты.</p>\n<p style=\"font-size: 16px;\">Вы можете <a href=\"https://cloud.google.com/apis/docs/monitoring\">отслеживать</a>, как используется ваша квота, и даже устанавливать оповещения об изменениях в том, как вы используете квоту, или когда использование превышает определенное количество. Вы можете установить <a href=\"https://cloud.google.com/apis/docs/capping-api-usage\">собственное ограничение</a> на использование API и использовать <a href=\"https://cloud.google.com/billing/docs/how-to/budgets\">оповещения о бюджете</a>, чтобы контролировать расходы, связанные с использованием API.</p>\n<h3>Cloud Tasks</h3>\n<hr />\n<p style=\"font-size: 16px;\">Cloud Tasks — это полностью управляемая служба, которую можно использовать для управления выполнением, отправкой и доставкой большого количества распределенных задач. Используя Cloud Tasks, вы можете асинхронно выполнять работу вне запроса пользователя. Cloud Tasks позволяет вам устанавливать <a href=\"https://cloud.google.com/tasks/docs/creating-appengine-queues#rate\">ограничения как на скорость, так и на параллелизм</a>. Cloud Tasks использует технику корзины с маркерами, чтобы обеспечить <a href=\"https://cloud.google.com/cloud-tasks/docs/reference/rest/v2beta2/projects.locations.queues#RateLimits\">неравномерность</a> доставки сообщений в этих пределах.</p>\n<h3>Cloud Functions</h3>\n<hr />\n<p style=\"font-size: 16px;\">Cloud Functions — это легкое решение для вычислений, позволяющее разработчикам создавать одноцелевые автономные функции, которые реагируют на облачные события без необходимости управлять сервером или средой выполнения. Облачные функции по умолчанию не имеют состояния и легко масштабируются: управляемая инфраструктура Google автоматически создает экземпляры функций для обработки входящих запросов. Из-за такого поведения масштабирования функции могут стать объектами высокой частоты запросов, и если эти функции вызывают нижестоящие службы, функции могут стать источником непреднамеренного DoS для этих нижестоящих служб.</p>\n<p style=\"font-size: 16px;\">Одним из типов DoS является исчерпание соединений в базах данных. Если каждый экземпляр функции устанавливает соединение базы данных с серверной частью, всплеск трафика может привести к автоматическому масштабированию многих экземпляров и, следовательно, к исчерпанию доступной емкости соединений на серверах баз данных. Чтобы предотвратить масштабирование функций за пределы определенного количества экземпляров, служба предоставляет настройку <a href=\"https://cloud.google.com/functions/docs/configuring/max-instances\">максимального количества экземпляров для каждой функции</a>.</p>\n<p style=\"font-size: 16px;\">Для фоновых функций Google Cloud вызывает вашу функцию с полезной нагрузкой и контекстом события. Вы можете указать, хотите ли вы, чтобы система <a href=\"https://cloud.google.com/functions/docs/bestpractices/retries\">повторяла попытку доставки события</a>, если ваша функция дает сбой или не может обработать событие — возможно, из-за того, что его скорость ограничена чем-то нижестоящим.</p>\n<p style=\"font-size: 16px;\">Хотя настройка максимального количества экземпляров может помочь вам ограничить параллелизм, она не дает прямого контроля над тем, сколько раз в секунду может вызываться ваша функция. См. раздел «<a href=\"https://cloud.google.com/architecture/rate-limiting-strategies-techniques#whats_next\">Что дальше</a>» для руководств, демонстрирующих, как использовать Redis для глобальной координации ограничения скорости вызовов функций.</p>\n<h3>Pub/Sub: управление потоком</h3>\n<hr />\n<p style=\"font-size: 16px;\">Pub/Sub — это полностью управляемая служба обмена сообщениями в реальном времени, которая позволяет отправлять и получать сообщения между независимыми приложениями. При перемещении большого количества сообщений через темы Pub/Sub вам может потребоваться настроить скорость обработки сообщений на клиентах-потребителях, чтобы потребители, работающие параллельно, были эффективны и не удерживали слишком много ожидающих сообщений, влияя на общую задержку обработки. Чтобы настроить это поведение, клиенты Pub/Sub предоставляют несколько <a href=\"https://cloud.google.com/pubsub/docs/pull#flow_control\">параметров управления потоком</a>.</p>\n<h3>Cloud Run</h3>\n<hr />\n<p style=\"font-size: 16px;\">Cloud Run — это управляемая вычислительная платформа, которая позволяет запускать контейнеры без сохранения состояния, которые можно вызывать с помощью HTTP-запросов. В отличие от облачных функций, один экземпляр контейнера может обрабатывать несколько запросов <a href=\"https://cloud.google.com/run/docs/about-concurrency\">одновременно</a>, если это поддерживается обслуживающим стеком в контейнере.</p>\n<h3>Istio</h3>\n<hr />\n<p style=\"font-size: 16px;\"><a href=\"https://cloud.google.com/istio\">Istio</a> — это независимая сервисная сетка с открытым исходным кодом, которая предоставляет основы, необходимые для успешного запуска распределенной микросервисной архитектуры. Отказоустойчивая микросервисная архитектура требует, чтобы сервисы были защищены от мошеннических одноранговых сервисов, поэтому Istio обеспечивает <a href=\"https://istio.io/v1.4/docs/tasks/policy-enforcement/rate-limiting/#rate-limits\">ограничение скорости</a> непосредственно в сервисной сетке.</p>\n<h3>Cloud Endpoints</h3>\n<hr />\n<p style=\"font-size: 16px;\"><a href=\"https://cloud.google.com/endpoints/docs\">Cloud Endpoints</a> — это система управления API, которая помогает вам защищать, отслеживать, анализировать и устанавливать квоты для ваших API, используя ту же инфраструктуру, которую Google использует для своих собственных API. Являясь службой, призванной помочь вам предоставлять услуги внешнему миру, она предоставляет возможность <a href=\"https://cloud.google.com/endpoints/docs/openapi/quotas-configure\">настраивать собственные квоты</a>, включая <a href=\"https://cloud.google.com/endpoints/docs/openapi/quotas-configure#quota_configuration_examples\">политики на основе скорости</a>.</p>\n<h3>Apigee</h3>\n<hr />\n<p style=\"font-size: 16px;\">Apigee — это платформа для разработки и управления API-прокси. Прокси-сервер API — это ваш интерфейс для разработчиков, которые хотят использовать ваши серверные службы. Вместо того, чтобы напрямую использовать эти услуги, они получают доступ к прокси API Apigee, который вы создаете. Обычно Apigee размещают перед серверными службами, которые могут не иметь собственных возможностей ограничения скорости, поэтому ограничение скорости является встроенной функцией Apigee.</p>\n<h3>Google Cloud Armor</h3>\n<hr />\n<p style=\"font-size: 16px;\">Google Cloud Armor использует <a href=\"https://cloud.google.com/armor\">глобальную инфраструктуру и системы безопасности Google для защиты от распределенных атак типа «отказ в обслуживании» (DDoS)</a> против инфраструктуры и приложений. Это включает в себя встроенную логику в отношении вредоносных всплесков и высокой нагрузки на ваши защищенные службы.</p>\n<h3>Project Shield</h3>\n<hr />\n<p style=\"font-size: 16px;\">Хотя <a href=\"https://projectshield.withgoogle.com/public/\">Project Shield</a> не является облачным сервисом Google, он использует инфраструктуру Google для защиты соответствующих сайтов от DDoS-атак.</p>\n<h3>Дополнительные методы для большей устойчивости</h3>\n<hr />\n<p style=\"font-size: 16px;\">Ограничение скорости на уровне приложения может предоставлять услуги с повышенной устойчивостью, но устойчивость можно дополнительно улучшить, комбинируя ограничение скорости на уровне приложения с другими методами:</p>\n<ul>\n<li>\n<p style=\"font-size: 16px;\"><strong>Кэширование</strong>. Хранение результатов, вычисление которых происходит медленно, позволяет службе обрабатывать запросы с более высокой скоростью, что может привести к тому, что противодавление, ограничивающее скорость, будет применяться к клиентам реже.</p>\n</li>\n<li>\n<p style=\"font-size: 16px;\"><strong>Разрыв цепи</strong>: Вы можете сделать сервисные сети более устойчивыми к проблемам, возникающим из-за распространения повторяющихся ошибок, путем временной блокировки частей системы в тихое состояние. Пример реализации см. в разделе «Размыкание цепи» документации Istio.</p>\n</li>\n<li>\n<p style=\"font-size: 16px;\"><strong>Приоритизация</strong>: не все пользователи системы имеют одинаковый приоритет. Учитывайте дополнительные факторы при разработке ключей ограничения скорости, чтобы обеспечить обслуживание клиентов с более высоким приоритетом. Вы можете использовать сброс нагрузки, чтобы снять с систем бремя низкоприоритетного трафика.</p>\n</li>\n<li>\n<p style=\"font-size: 16px;\"><strong>Ограничение скорости на нескольких уровнях</strong>: если сетевой интерфейс вашего компьютера или ядро ​​ОС перегружены, то ограничение скорости на уровне приложения может никогда не начаться. Вы можете применять ограничения скорости на уровне 3 в iptables, или локальные устройства могут ограничивать на уровне 4. Вы также можете столкнуться с настраиваемыми ограничениями скорости, применяемыми к вводу-выводу вашей системы для таких вещей, как дисковые и сетевые буферы.</p>\n</li>\n<li>\n<p style=\"font-size: 16px;\"><strong>Мониторинг</strong>. Персоналу операционных систем крайне важно знать, когда происходит регулирование. Мониторинг ставок, превышающих квоты, имеет решающее значение для управления инцидентами и обнаружения регрессий в программном обеспечении. Мы рекомендуем реализовать такой мониторинг как для клиентской, так и для серверной точек зрения служб. Не все случаи ограничения скорости должны вызывать предупреждения, требующие немедленного внимания со стороны эксплуатационного персонала. В некритических случаях вы можете отреагировать на сигналы ограничения скорости позже, в рамках плановой оценки и обслуживания вашей системы. Вы можете использовать журналы о том, когда происходит ограничение скорости, как сигнал о необходимости внесения изменений, таких как увеличение емкости компонента, запрос на увеличение квоты или изменение политики.</p>\n</li>\n</ul>\n", "category": 2, "author": "Cloud Architecture Center", "author_contact": "https://cloud.google.com/architecture", "is_comments_available": false, "is_already_formatted": true, "tags": [2, 4, 5, 6]}}, {"model": "core.post", "pk": 3, "fields": {"uuid": "02068d8b-6752-486f-b367-0fb4ff3a4bd6", "created_at": "2022-06-08T15:01:54.442Z", "updated_at": "2022-06-08T15:12:07.494Z", "language": "ru", "title": "Дроссельные запросы API для повышения пропускной способности", "slug": "дроссельные-запросы-api-для-повышения-пропускной-способности", "markdown": "Вы можете настроить регулирование и квоты для своих API, чтобы защитить их от перегрузки слишком большим количеством запросов. Как ограничения, так и квоты применяются на основе максимальных усилий, и их следует рассматривать как целевые показатели, а не как гарантированные потолки запросов.\r\n\r\nШлюз API регулирует запросы к вашему API, используя алгоритм корзины токенов, где токен учитывается в запросе. В частности, API Gateway проверяет скорость и количество отправленных запросов для всех API в вашей учетной записи по регионам. В алгоритме корзины токенов всплеск может позволить заранее заданное превышение этих пределов, но другие факторы также могут привести к превышению пределов в некоторых случаях.\r\n\r\nКогда отправленные запросы превышают стабильную скорость запросов и лимиты пакетов, API Gateway начинает блокировать запросы. В этот момент клиенты могут получить ответ об ошибке `429 Too Many Requests`. После перехвата таких исключений клиент может повторно отправить неудавшиеся запросы способом, ограничивающим скорость.\r\n\r\nКак разработчик API, вы можете установить целевые ограничения для отдельных этапов или методов API, чтобы повысить общую производительность всех API в вашей учетной записи. Кроме того, вы можете включить планы использования, чтобы установить ограничения на отправку клиентских запросов на основе указанных частот запросов и квот.\r\n\r\n### Как применяются настройки ограничения регулирования в API Gateway\r\n---\r\n\r\nПрежде чем настраивать параметры ограничения и квоты для своего API, полезно понять, как они применяются Amazon API Gateway.\r\n\r\nAmazon API Gateway предоставляет четыре основных типа настроек, связанных с регулированием:\r\n\r\n* Ограничения регулирования AWS применяются ко всем аккаунтам и клиентам в регионе. Эти ограничения существуют для того, чтобы ваш API и ваша учетная запись не перегружались слишком большим количеством запросов. Эти ограничения устанавливаются AWS и не могут быть изменены клиентом.\r\n\r\n* Ограничения на учетную запись применяются ко всем API в учетной записи в указанном регионе. Ограничение скорости на уровне учетной записи может быть увеличено по запросу — более высокие ограничения возможны с API, которые имеют более короткие тайм-ауты и меньшую полезную нагрузку. Чтобы запросить увеличение ограничений регулирования на уровне аккаунта для каждого региона, обратитесь в Центр поддержки AWS. Дополнительные сведения см. в разделе [Квоты Amazon API Gateway и важные примечания](https://docs.aws.amazon.com/apigateway/latest/developerguide/limits.html).\r\n\r\n* Ограничения регулирования для каждого API и этапа применяются на уровне метода API для этапа. Вы можете настроить одни и те же параметры для всех методов или настроить разные параметры дроссельной заслонки для каждого метода. Обратите внимание, что эти ограничения не могут превышать ограничения регулирования AWS.\r\n\r\n* Ограничения регулирования для каждого клиента применяются к клиентам, которые используют ключи API, связанные с вашим планом использования, в качестве идентификатора клиента. Обратите внимание, что эти ограничения не могут быть выше, чем ограничения для каждой учетной записи.\r\n\r\nПараметры, связанные с регулированием шлюза API, применяются в следующем порядке:\r\n\r\n* [Ограничения регулирования для каждого клиента или метода](https://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-request-throttling.html#apigateway-method-level-throttling-in-usage-plan), которые вы устанавливаете для этапа API в [плане использования](https://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-create-usage-plans-with-console.html#api-gateway-usage-plan-create). \r\n* Ограничения регулирования для каждого метода, которые вы устанавливаете для этапа API. \r\n* [Регулирование на уровне аккаунта по регионам ](https://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-request-throttling.html#apig-request-throttling-account-level-limits)\r\n* Региональное регулирование AWS\r\n\r\n\r\n### Регулирование на уровне аккаунта по регионам\r\n---\r\n\r\nПо умолчанию API Gateway ограничивает число устойчивых запросов в секунду (RPS) для всех API в учетной записи AWS для каждого региона. Он также ограничивает всплеск (то есть максимальный размер корзины) для всех API в учетной записи AWS для каждого региона. В API Gateway предельное количество пакетов представляет собой целевое максимальное количество одновременных отправок запросов, которые API Gateway будет выполнять, прежде чем возвратить ответы об ошибке `429 Too Many Requests`. Дополнительные сведения о регулировании квот см. в разделе [Квоты Amazon API Gateway и важные примечания](https://docs.aws.amazon.com/apigateway/latest/developerguide/limits.html).\r\n\r\n### Настройка целей регулирования на уровне API и на уровне этапа в плане использования\r\n---\r\n\r\nВ плане использования вы можете установить цель регулирования для каждого метода для всех методов на уровне API или этапа в разделе «Создать план использования».\r\n\r\n### Настройка целей регулирования на уровне метода в плане использования\r\n---\r\n\r\nВы можете установить дополнительные цели регулирования на уровне метода в планах использования, как показано в разделе Создание плана использования. В консоли API Gateway они устанавливаются путем указания `Resource=<resource>`, `Method=<method>` в параметре `Configure Method Throttling`. Например, для [примера PetStore](https://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-create-api-step-by-step.html) можно указать `Resource=/pets`, `Method=GET`.", "body": "<p style=\"font-size: 16px;\">Вы можете настроить регулирование и квоты для своих API, чтобы защитить их от перегрузки слишком большим количеством запросов. Как ограничения, так и квоты применяются на основе максимальных усилий, и их следует рассматривать как целевые показатели, а не как гарантированные потолки запросов.</p>\n<p style=\"font-size: 16px;\">Шлюз API регулирует запросы к вашему API, используя алгоритм корзины токенов, где токен учитывается в запросе. В частности, API Gateway проверяет скорость и количество отправленных запросов для всех API в вашей учетной записи по регионам. В алгоритме корзины токенов всплеск может позволить заранее заданное превышение этих пределов, но другие факторы также могут привести к превышению пределов в некоторых случаях.</p>\n<p style=\"font-size: 16px;\">Когда отправленные запросы превышают стабильную скорость запросов и лимиты пакетов, API Gateway начинает блокировать запросы. В этот момент клиенты могут получить ответ об ошибке <code>429 Too Many Requests</code>. После перехвата таких исключений клиент может повторно отправить неудавшиеся запросы способом, ограничивающим скорость.</p>\n<p style=\"font-size: 16px;\">Как разработчик API, вы можете установить целевые ограничения для отдельных этапов или методов API, чтобы повысить общую производительность всех API в вашей учетной записи. Кроме того, вы можете включить планы использования, чтобы установить ограничения на отправку клиентских запросов на основе указанных частот запросов и квот.</p>\n<h3>Как применяются настройки ограничения регулирования в API Gateway</h3>\n<hr />\n<p style=\"font-size: 16px;\">Прежде чем настраивать параметры ограничения и квоты для своего API, полезно понять, как они применяются Amazon API Gateway.</p>\n<p style=\"font-size: 16px;\">Amazon API Gateway предоставляет четыре основных типа настроек, связанных с регулированием:</p>\n<ul>\n<li>\n<p style=\"font-size: 16px;\">Ограничения регулирования AWS применяются ко всем аккаунтам и клиентам в регионе. Эти ограничения существуют для того, чтобы ваш API и ваша учетная запись не перегружались слишком большим количеством запросов. Эти ограничения устанавливаются AWS и не могут быть изменены клиентом.</p>\n</li>\n<li>\n<p style=\"font-size: 16px;\">Ограничения на учетную запись применяются ко всем API в учетной записи в указанном регионе. Ограничение скорости на уровне учетной записи может быть увеличено по запросу — более высокие ограничения возможны с API, которые имеют более короткие тайм-ауты и меньшую полезную нагрузку. Чтобы запросить увеличение ограничений регулирования на уровне аккаунта для каждого региона, обратитесь в Центр поддержки AWS. Дополнительные сведения см. в разделе <a href=\"https://docs.aws.amazon.com/apigateway/latest/developerguide/limits.html\">Квоты Amazon API Gateway и важные примечания</a>.</p>\n</li>\n<li>\n<p style=\"font-size: 16px;\">Ограничения регулирования для каждого API и этапа применяются на уровне метода API для этапа. Вы можете настроить одни и те же параметры для всех методов или настроить разные параметры дроссельной заслонки для каждого метода. Обратите внимание, что эти ограничения не могут превышать ограничения регулирования AWS.</p>\n</li>\n<li>\n<p style=\"font-size: 16px;\">Ограничения регулирования для каждого клиента применяются к клиентам, которые используют ключи API, связанные с вашим планом использования, в качестве идентификатора клиента. Обратите внимание, что эти ограничения не могут быть выше, чем ограничения для каждой учетной записи.</p>\n</li>\n</ul>\n<p style=\"font-size: 16px;\">Параметры, связанные с регулированием шлюза API, применяются в следующем порядке:</p>\n<ul>\n<li><a href=\"https://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-request-throttling.html#apigateway-method-level-throttling-in-usage-plan\">Ограничения регулирования для каждого клиента или метода</a>, которые вы устанавливаете для этапа API в <a href=\"https://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-create-usage-plans-with-console.html#api-gateway-usage-plan-create\">плане использования</a>.</li>\n<li>Ограничения регулирования для каждого метода, которые вы устанавливаете для этапа API.</li>\n<li><a href=\"https://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-request-throttling.html#apig-request-throttling-account-level-limits\">Регулирование на уровне аккаунта по регионам </a></li>\n<li>Региональное регулирование AWS</li>\n</ul>\n<h3>Регулирование на уровне аккаунта по регионам</h3>\n<hr />\n<p style=\"font-size: 16px;\">По умолчанию API Gateway ограничивает число устойчивых запросов в секунду (RPS) для всех API в учетной записи AWS для каждого региона. Он также ограничивает всплеск (то есть максимальный размер корзины) для всех API в учетной записи AWS для каждого региона. В API Gateway предельное количество пакетов представляет собой целевое максимальное количество одновременных отправок запросов, которые API Gateway будет выполнять, прежде чем возвратить ответы об ошибке <code>429 Too Many Requests</code>. Дополнительные сведения о регулировании квот см. в разделе <a href=\"https://docs.aws.amazon.com/apigateway/latest/developerguide/limits.html\">Квоты Amazon API Gateway и важные примечания</a>.</p>\n<h3>Настройка целей регулирования на уровне API и на уровне этапа в плане использования</h3>\n<hr />\n<p style=\"font-size: 16px;\">В плане использования вы можете установить цель регулирования для каждого метода для всех методов на уровне API или этапа в разделе «Создать план использования».</p>\n<h3>Настройка целей регулирования на уровне метода в плане использования</h3>\n<hr />\n<p style=\"font-size: 16px;\">Вы можете установить дополнительные цели регулирования на уровне метода в планах использования, как показано в разделе Создание плана использования. В консоли API Gateway они устанавливаются путем указания <code>Resource=&lt;resource&gt;</code>, <code>Method=&lt;method&gt;</code> в параметре <code>Configure Method Throttling</code>. Например, для <a href=\"https://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-create-api-step-by-step.html\">примера PetStore</a> можно указать <code>Resource=/pets</code>, <code>Method=GET</code>.</p>\n", "category": 2, "author": "Amazon API Gateway", "author_contact": "https://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-request-throttling.html", "is_comments_available": false, "is_already_formatted": true, "tags": [2, 4, 5, 6]}}, {"model": "core.post", "pk": 5, "fields": {"uuid": "f6165c52-9b06-4116-b0fd-0bcee371b95b", "created_at": "2022-06-11T20:35:35.530Z", "updated_at": "2022-06-22T13:19:33.854Z", "language": "ru", "title": "Подготовка к собеседованию Python Backend", "slug": "подготовка-к-собеседованию-python-backend", "markdown": "# Основы\r\n\r\n#### В чем разница между модулем и пакетом в Python?\r\n\r\nКаждый программный файл Python представляет собой модуль, который импортирует другие модули как объекты. Таким образом, модуль — это способ структурирования вашей программы. Папка с программой на Python называется пакетом модулей.\r\n\r\n---\r\n\r\n#### Какие встроенные типы доступны в Python?\r\n\r\nЭто один из наиболее распространенных вопросов на собеседовании. В Python есть изменяемые и неизменяемые встроенные типы.\r\n\r\nК изменяемым относятся:\r\n\r\n- Списки,\r\n- Множества,\r\n- Словари.\r\n\r\nПредставителями неизменяемых типов являются:\r\n\r\n- Строки,\r\n- Кортежи,\r\n- Числа.\r\n\r\n---\r\n\r\n#### Что такое лямбда-функция в Python?\r\n\r\nЛямбда часто используется как встраиваемая функция и представляет собой единственное анонимное функциональное выражение. Она применяется для создания нового объекта функции и его возврата во время выполнения.\r\n\r\nЛямбда — это [анонимная функция в Python](https://pythonru.com/osnovy/vse-chto-nuzhno-znat-o-lambda-funkcijah-v-python), которая может принимать неограниченное количество аргументов и может иметь любое число параметров. Однако лямбда-функция может иметь только одно выражение или инструкцию. Обычно она используется в ситуациях, когда требуется анонимная функция в течение короткого периода времени. Лямбда-функции можно использовать одним из двух способов:\r\n\r\nПример лямбда-функции:\r\n\r\n```python\r\na = lambda x,y : x+y \r\nprint(a(5, 6))\r\n#  Вывод: 11\r\n```\r\n\r\n---\r\n\r\n#### Что означает пространство имен?\r\n\r\nПространство имен представляет собой систему имен, которая используется для обеспечения уникальности наименования всех объектов в программе, чтобы избежать возможных конфликтов. В Python эти пространства имен реализованы как словари с именем в качестве ключа и объектом в качестве значения. В результате разные пространства могут давать своим объектам одинаковые имена.\r\n\r\nНиже приведены три типа пространств имен в Python:\r\n\r\n- Локальное пространство имен — включает локальные имена внутри функции. Локальное пространство имен временно создается во время вызова функции и очищается при возврате из нее. Вызывается функцией [`locals()`](https://www.programiz.com/python-programming/methods/built-in/locals)\r\n- Глобальное пространство имен — состоит из имен различных импортированных пакетов/модулей, которые в настоящее время используются в проекте. Глобальное пространство имен создается при импорте пакета в скрипт, и оно доступно до тех пор, пока скрипт не закончит выполнение. Вызывается функцией [`globals()`](https://www.programiz.com/python-programming/methods/built-in/globals)\r\n- Встроенное пространство имен — оно включает встроенные функции Python и встроенные имена для различных типов исключений. Так называемы [ `built-in`](https://docs.python.org/3/library/functions.html) функции или вызовы. \r\n\r\n---\r\n\r\n#### Разница между списком и кортежем?\r\n\r\n* Список мутабельный, а кортеж — иммутабельный. \r\n* Кортежи можно хешировать, как в случае создания ключей для словарей.\r\n* Список можно изменить после создания, кортеж нет.\r\n\r\n----\r\n\r\n#### Разница между Массивом и списком\r\n\r\nВ стандартной библиотеке Python есть объект array, но здесь мы специально обсуждаем массив из популярной библиотеки Numpy. Списки в каждом индексе можно заполнять разными типами данных. Массивы требуют однородных элементов. Арифметические действия в списках добавляют или удаляют элементы из списка. Арифметические действия на массивах соответствуют функциям линейной алгебры. Массивы используют меньше памяти и обладают значительно большей функциональностью.\r\n\r\nТак же в Python существуют встроенные массивы (не NumPy), о них подробно [здесь](https://pythonist.ru/massiv-v-python/).\r\n\r\n---\r\n\r\n#### Чем отличается pickling от unpickling?\r\n\r\nЛюбое руководство по вопросам и ответам на собеседовании по Python не будет полным без этого вопроса. В Python модуль [ `pickle`](https://docs.python.org/3/library/pickle.html) принимает любой объект Python, преобразует его в строковое представление и выгружает его в файл с помощью функции dump. Такой процесс известен как pickling. Для этого процесса используется функция [ `pickle.dump()`](https://docs.python.org/3/library/pickle.html#pickle.dump).\r\n\r\nС другой стороны, процесс извлечения исходного объекта Python из сохраненного строкового представления называется unpickling. Для этого процесса используется функция [ `pickle.load()`](https://docs.python.org/3/library/pickle.html#pickle.load).\r\n\r\n```python\r\nimport pickle\r\n\r\nobj = [\r\n    {'id':1, 'name':'Stuffy'},\r\n    {'id':2, 'name': 'Fluffy'}\r\n]\r\n\r\nwith open('file.p', 'wb') as f:\r\n    pickle.dump(obj, f)\r\n\r\nwith open('file.p', 'rb') as f:\r\n    loaded_obj = pickle.load(f)\r\n\r\nloaded_obj\r\n>>> [{'id': 1, 'name': 'Stuffy'}, {'id': 2, 'name': 'Fluffy'}]\r\n```\r\n\r\n---\r\n\r\n#### Что такое декораторы в Python?\r\n\r\n[Декоратор Python](https://pythonru.com/osnovy/rukovodstvo-po-dekoratoram-python) — прежде всего это паттерн проектирования, который в питоне реализован из коробки. Предназначен для модификации поведения функции без её первоначального изменения. В питоне имеется синтасический сахар и может вызываться через символ `@`. На вход принимает декорируемую функцию, все её позиционные и именованные аргументы, а так же может принимать дополнительные аргументы не имеющиеся в исходной функции.\r\n\r\n```python\r\ndef decorator(func):\r\n  def wrapper(*args, **kwargs):\r\n    # некоторая логика обработки\r\n    some_logic = ...\r\n    return func(some_logic, *args, **kwargs)\r\n  return wrapper\r\n    \r\n@decorator\r\ndef some_func(): ...\r\n\r\ndef some_func_2(): ...\r\n\r\n# использование декоратора без синтаксического сахара\r\n# таким образом работаем с декоратором как с замыканием\r\nsome_func_2_result = decorator(some_func_2)\r\n```\r\n\r\n```python\r\nprint(some_func_2_result)\r\n>>> <function decorator.<locals>.wrapper at 0x00000123456789>\r\n```\r\n\r\nМы так же можем использовать декоратор `@wraps` , который преобразует сигнатуру нашего декоратора заменив её на сигнатуру декорируемой функции.\r\n\r\n```python\r\nfrom functools import wraps\r\n\r\ndef decorator(func):\r\n  @wraps(func)\r\n  def wrapper(*args, **kwargs):\r\n    return func(*args, **kwargs)\r\n  return wrapper\r\n\r\nresult = decorator(some_func)\r\n```\r\n\r\n```python\r\nprint(result)\r\n>>> <function some_func at 0x00000123456789>\r\n```\r\n\r\nИ последний пример, где реализован декоратор принимающий произвольные аргументы, не имеющие прямого отношения к декорируемой функции. Но очевидно, что эти аргументы являются что называется `bound of context`.\r\n\r\n```python\r\ndef outer_wrapper(some_args: dict):\r\n  def decorator(func):\r\n    def inner_wrapper(*args, **kwargs):\r\n      return func(*args, **kwargs)\r\n    return wrapper\r\n  return decorator\r\n\r\n@outer_wrapper(some_args=dict())\r\ndef some_func(): ...\r\n```\r\n\r\n---\r\n\r\n#### Что такое замыкание?\r\n\r\nЗамыкание - это когда функция вызывает другую функцию, чтобы изменить поведение своих аргументов. Например декоратор, это тоже замыкание. \r\n\r\n```python\r\ndef decorator(func):\r\n  def wrapper(*args, **kwargs):\r\n    some_inner_call = ... # это тоже замыкание\r\n    return func(*args, **kwargs)\r\n  return wrapper\r\n```\r\n\r\n----\r\n\r\n#### Разница между генераторами и итераторами?\r\n\r\nВ Python итераторы используются для перебора группы элементов (например, в списке). Генераторы представляют собой способ реализации итераторов. В них применяется `yield` для возврата выражения из функции, но в остальном генератор ведет себя как обычная функция.\r\n\r\nhttps://pythonist.ru/category/voprosy-s-sobesedovaniya-python/generatory/\r\n\r\n----\r\n\r\n#### Как преобразовать число в строку?\r\n\r\nОдин из самых распространенных вопросов на собеседовании. Мы можем использовать встроенную функцию `str()`. Для восьмеричного или шестнадцатеричного представления числа мы можем использовать другие встроенные функции, такие как `oct()` или `hex()`.\r\n\r\n---\r\n\r\n#### Как используется оператор // в Python?\r\n\r\nИспользование оператора `//` между двумя числами дает частное при делении числителя на знаменатель. Он также называется оператором деления без остатка.\r\n\r\n---\r\n\r\n#### Есть ли в Python инструкция Switch или Case, как в C?\r\n\r\nВо первых нужно понять, что инструкция Switch Case это реализация [Паттерн Матчинга](https://ru.wikipedia.org/wiki/Сопоставление_с_образцом). Так вот, до версии Python 3.10 такой языковой конструкции не было, хотя можно было использовать самописную логику используя [ `built-in`](https://docs.python.org/3/library/functions.html)  вызов [ `isinstance()`](https://www.programiz.com/python-programming/methods/built-in/isinstance) с проверкой аргумента на его тип.  Но с версией 3.10 в питоне появился Паттерн Матчинг из коробки. [Детальнее об реализации можно почитать здесь](https://habr.com/ru/company/yandex_praktikum/blog/547902/).\r\n\r\n---\r\n\r\n#### Что такое функция range() и каковы ее параметры?\r\n\r\nФункция [ `range()`](https://www.programiz.com/python-programming/methods/built-in/range) используется для создания списка из чисел. Разрешены только целые числа, поэтому переданные аргументы могут быть как отрицательными, так и положительными. Допустимы следующие параметры:\r\n\r\n```python\r\nrange(stop)\r\n```\r\n\r\nГде «stop» — это количество целых чисел для генерации, начиная с 0. Пример: `list(range(5)) == [0,1,2,3,4]`\r\n\r\nДругие параметры: *range([start], stop[, step])*:\r\n\r\n- Start: устанавливает первое число в последовательности.\r\n- Stop: указывает верхний предел для последовательности.\r\n- Step: коэффициент приращения в последовательности.\r\n\r\n----\r\n\r\n#### Как используется %s?\r\n\r\n`%s` — это спецификатор формата, который преобразует любое значение в строку.\r\n\r\n---\r\n\r\n#### Обязательно ли функция Python должна возвращать значение?\r\n\r\nНет. Во всех Cи подобных языках допустимы функции не возвращающие ничего. Во многих языках есть тип возвращаемого значения `void`,  который говорит о том, что функция не возвращает ничего. Так как в питоне нет статической типизации, и тип указываемого значения в обязательном порядке указывать не надо, то можно просто ничего не возвращать. Однако в питоне есть Аннотация типов, но это уже другая тема. На Хабре есть [замечательная статья на эту тему](https://habr.com/ru/company/lamoda/blog/432656/) от моего коллеги.\r\n\r\n---\r\n\r\n#### Есть ли в [Python функция main()](https://pythonru.com/uroki/funkcija-main-v-python-dlja-nachinajushhih)?\r\n\r\nЕсть, но её присутствие или отсутствие в пользовательском коде никак не скажется на качестве работы исполняемого кода. Её не обязательно явкно указывать Она выполняется автоматически всякий раз, когда мы запускаем скрипт. Если вы хотите изменить этот естественный порядок вещей, используйте конструкцию:\r\n\r\n```python\r\nif __name__ == '__main__':\r\n  ...\r\n```\r\n\r\n---\r\n\r\n#### Какой метод использовался до оператора «in» для проверки наличия ключа в словаре?\r\n\r\nМетод [`has_key()`](https://www.geeksforgeeks.org/python-dictionary-has_key/).\r\n\r\n---\r\n\r\n#### Как изменить тип данных списка?\r\n\r\nНужно использовать примитивы приведения типа. Например:\r\n\r\n* `tuple()`\r\n* `set()`\r\n* `dict()`\r\n* `join()` - не имеет прямого назначения для приведения типа, однако приведение массива к строке является побочным эффектом.\r\n\r\n---\r\n\r\n#### Каковы ключевые особенности Python?\r\n\r\nЭто один из распространенных вопросов на собеседовании. Python — это язык программирования общего назначения высокого уровня с открытым исходным кодом. Поскольку это язык программирования общего назначения, и он поставляется с большим набором библиотек, вы можете использовать Python для разработки практически любого типа приложений. Python имеет несколько реализаций. Самая популярная реализация написана на языке C и имеет название [CPython](https://habr.com/ru/company/yandex/blog/511972/) (не путать с [Cython](https://ru.wikipedia.org/wiki/Cython)). Есть и другие реализации языка Python, такие как [Jython, IronPython, MicroPython, PyPy, Stackless Python](https://ru.wikipedia.org/wiki/Python#Реализации) но они либо мертвы и давно не поддерживаются, либо имеют слишком узкую специализацию, чтобы их рассматривать здесь и уделять хоть какое-либо им внимание здесь и сейчас. Однако это не говорит о том, что они совсем бесполезны хотя некоторые их них такие как Jython действительно мертвы.\r\n\r\nНекоторые из его ключевых особенностей:\r\n\r\n- [Интерпретируемый](https://pythonchik.ru/osnovy/kak-rabotaet-python-interpretator) (умеет компилировать исходный код в байткод для оптимизации, но полноценной виртуальной машины как в Java, которая умела бы эмулировать поведение железа не имеет). На самом деле это весьма дискуссионная тема, есть ли в Python [виртуальная машина](https://ru.wikipedia.org/wiki/Виртуальная_машина). Одни считают что да но называют виртуальной машиной ту часть интерпретатора, которая отвечает за исполнение, то есть executor. Другие говорят что нет. В этой тему нужно как следует разобраться чтоб занять свою уверенную для дискуссий позицию. Посмотреть можно [здесь](https://www.devopsschool.com/blog/python-virtual-machine/), [здесь](https://www.c-sharpcorner.com/blogs/pvmpython-virtual-machine), [здесь](https://www.gkindex.com/python-tutorial/python-virtual-machine.jsp), [здесь](https://panutanur.medium.com/pvm-python-virtual-machine-df83ca6a79a6), [здесь](https://morioh.com/p/01d84b0bab10) и еще [здесь](https://leanpub.com/insidethepythonvirtualmachine/read) и [здесь](https://docs.python.org/3/c-api/memory.html)\r\n- [Императивный](https://tproger.ru/experts/imperative-and-declarative-programming/)\r\n- Объектно-ориентированный\r\n- Имеющий [динамическую, строгую, неявную типизацию](https://habr.com/ru/post/161205/) - Очень полезная статья на эту тему.\r\n- Поддерживающий [функциональное и процедурное программирование](https://ru.hexlet.io/courses/python-declarative-programming/lessons/imperative-and-functional-python/theory_unit)\r\n- Имеет отличную систему расширения за счет [C API](https://docs.python.org/3/c-api/index.html) и [CFFI](https://cffi.readthedocs.io/en/latest/using.html#python-3-support). Легко и безопасно ([за счет наличия GIL](https://habr.com/ru/company/wunderfund/blog/586360/)) писать расширения на С или на [Cython](https://cython.org) (специальный python-подобный язык программирования, предназначенный для написания python расширений без знания языка С). Транслирует исходный код в С, компилирует полученный С код в библиотеку `lib.o` которую сразу можно вызывать из пользовательского Python кода. На Cython написана библиотека [ `uvloop`](http://uvloop.readthedocs.org) одна из самый производительных реализаций Event loop'a для python. Так же, на сколько мне известно, часть бекенда [FastAPI](https://fastapi.tiangolo.com) написана на Cython.\r\n\r\nОднако есть задачи с помощью которого средствами языка Python либо не решить, либо это абсолютно не приемлимо. Например:\r\n\r\n* Системное программирование или программирование операционных систем - На самом деле если упороться то можно, но на практике никто так делать не будет. А тот кто будет - либо познал дзен либо Марсианин. Для таких задач обычно берут C, C++, Rust или в крайнем случае голый Ассемблер.\r\n\r\n  Ну вот представьте себе, что вам следует написать прошивку для микроконтроллера esp8266,  и просто чтобы она работала, вам нужно каким-то образом сперва вшить в ПЗУ микроконтроллера Python интерпретатор, так как без него никакие вызовы не возможны. Python это оверхед для этой задачи и его высокий уровень абстракции от железа в этой задачи не приемлим.\r\n\r\n  А как же MicroPython спросите вы?! Во первых [Python и MicroPython далеко не одно и тоже](https://docs.micropython.org/en/latest/genrst/index.html). Это сильно урезанная версия с очень маленькой STD. Во вторых я думаю его разрабатывали не идиоты и наверняка [под капотом MicroPython преобразуется в С код](https://docs.micropython.org/en/latest/develop/gettingstarted.html#compile-and-build-the-code). Но это не точно.\r\n\r\n---\r\n\r\n#### Что такое PYTHONPATH?\r\n\r\nPYTHONPATH — это переменная окружения, которая используется для включения дополнительных каталогов при импорте модуля/пакета. Каждый раз, когда модуль/пакет импортируется, PYTHONPATH используется для проверки наличия добавляемых модулей в существующих каталогах. Обычно интерпретатор использует PYTHONPATH, чтобы определить, какой модуль загрузить.\r\n\r\n---\r\n\r\n#### Чувствителен ли Python к регистру?\r\n\r\nЯзык программирования считается чувствительным к регистру, если он различает такие идентификаторы, как «myname» и «Myname». Проще говоря, он заботится, являются ли символы строчными или прописными.\r\nДавайте посмотрим на пример:\r\n\r\n```python\r\n>>> myname=\"John\"\r\n>>> Myname\r\nTraceback (most recent call last):\r\n  File \"\", line 1, in \r\n    Myname\r\nNameError: name 'Myname' is not defined\r\n```\r\n\r\nВозникновение ошибки NameError означает, что Python чувствителен к регистру.\r\n\r\n----\r\n\r\n####  Объясните использование функций `help()` и `dir()`.\r\n\r\nВ Python функция `help()` используется для отображения документации по модулям, классам, функциям, ключевым словам и так далее. Если `help()` не получает параметров, она запускает интерактивную справочную утилиту на консоли.\r\n\r\nФункция `dir()` возвращает допустимый список атрибутов и методов объекта, к которому она вызывается. Поскольку функция предназначена для получения наиболее релевантных данных (вместо отображения полной информации), она ведет себя по-разному с разными объектами:\r\n\r\n- Для модулей/библиотек функция `dir()` возвращает список всех атрибутов, содержащихся в этом модуле.\r\n- Для объектов класса `dir()` вернет список всех допустимых атрибутов и базовых атрибутов.\r\n- Когда ей не передаются никакие параметры, функция `dir()` возвращает список атрибутов в текущей области видимости.\r\n\r\n---\r\n\r\n#### Что такое модули Python?\r\n\r\nНазовите некоторые наиболее часто используемые встроенные модули в Python?\r\n\r\nМодули Python — это файлы, содержащие код на Python, который представляет собой либо функциональные классы, либо переменные. Модули являются файлами Python с расширением .py. Они могут включать в себя набор функций, классов или переменных, которые определены и реализованы. Вы можете импортировать и инициализировать модуль с помощью инструкции `import`. Изучив руководство по Python, вы можете узнать больше о модулях в Python.\r\n\r\nВот некоторые из наиболее часто используемых встроенных модулей в Python:\r\n\r\n- os\r\n- sys\r\n- math\r\n- random\r\n- datetime\r\n- JSON\r\n\r\nТак же модулем Python считается папка, в которой существует файл `__init__.py`.\r\n\r\nТаким образом имея класс `А` находящийся в модуле `main.py` , можно импортировать его из папки в которой находится модуль `main.py`, если в этой папке есть файл `__init__.py` внутри которого проимпортирован класс `А`\r\n\r\n```python\r\n\"\"\"\r\nПредставим такую структуру:\r\n- test.py\r\nmymodule/\r\n\t- __init__.py\r\n\t- main.py\r\n\"\"\"\r\n\r\n# mymodule/main.py\r\nclass A:\r\n  ...\r\n  \r\n# mymodule/__init__.py\r\nfrom main import A\r\n\r\n# test.py\r\nfrom mymodule import A\r\n```\r\n\r\nТаким образом класс `A` будет находиться в пространстве имён модуля `mymodule` , что абсолютно логично.\r\n\r\n---\r\n\r\n#### Объясните, что означает `self` в Python.\r\n\r\nВ Python «self» — это ключевое слово, применяемое для определения экземпляра или объекта класса. В отличие от Java, где `self` не является обязательным, в Python он используется как первый параметр. Self помогает отличать методы и атрибуты класса от его локальных переменных.\r\n\r\nПеременная `self` в методе `__init__` ссылается к созданному объекту или экземпляру, тогда как в других методах она указывает на объект или экземпляр, метод которого был вызван.\r\n\r\n---\r\n\r\n#### Как выполняется интерполяция строк?\r\n\r\nБез импорта класса `Template` есть три способа интерполяции строк:\r\n\r\n```python\r\nname = 'Chris'\r\n\r\n# 1. f strings\r\nprint(f'Hello {name}')\r\n\r\n# 2. % operator\r\nprint('Hey %s %s' % (name, name))\r\n\r\n# 3. format\r\nprint(\"My name is {}\".format((name)))\r\n```\r\n\r\n---\r\n\r\n#### В чем разница между “is” и “==”?\r\n\r\n* `==` сравнивает значения \r\n* `is` сравнивает по ссылке на значения\r\n\r\n```python\r\na = [1,2,3]\r\nb = a\r\nc = [1,2,3]\r\n\r\na == b\r\n>>> True\r\na == c\r\n>>> True\r\n\r\na is b\r\n>>> True\r\na is c\r\n>>> False\r\n\r\nid(a)\r\n>>> 4327623040\r\nid(b)\r\n>>> 4327623040\r\nid(c)\r\n>>> 4327629184\r\n\r\nid(a) == id(b) == id(c)\r\n>>> False\r\n```\r\n\r\n`a` и `b` имеют одну и ту же ссылку на ячейку виртуальной памяти, соответственно их значения равны, а если быть точнее, это одно и тоже значение. `b` не является копией  `a` . Чтобы было проще понять, представьте, что операция `b = a` копируюет указатель из `a` в `b` . Только теперь уберите из этого выражения \"указатель\", поскольку в Python их нет. Точнее они есть, но это другая тема. Они есть глубоко под койотом. Но в целом принято говорить, что в Python указательей нет.\r\n\r\n> #### Важно\r\n>\r\n> Если хотите глубже ознакомиться с этой темой, вот [полезное чтиво](https://realpython.com/pointers-in-python/), [и еще одно](https://stackoverflow.com/questions/3106689/pointers-in-python). Если коротко - Python не имеет прямого управления оперативной памятью. Операционная система выделяет ему память, которой он пользуется как захочет. Эта память, которой распоряжается Python называется виртуальной и в контексте виртуальной памяти, у Python есть своего рода аллокация, благодаря которой все объекты уровня Python имеют свои идентификаторы виртуальной памяти. Идентификатор любого объекта уровня Python можно узнать через `built-in` вызов `id()` . Пока что, это всё что вам нужно знать. За углублёнными знаниями обратитесь по ссылкам выше. Однако идентификаторы виртуальной памяти не являются указателями в привычном понимании.\r\n\r\n---\r\n\r\n#### В чем разница между методами экземпляра, класса и статическими методами в Python?\r\n\r\n* **Методы экземпляра** (instance Method): принимают параметр `self` и относятся к определенному экземпляру класса.\r\n\r\n* **Статические методы** (static method): используют декоратор `@staticmethod`, не связаны с конкретным экземпляром и являются автономными (атрибуты класса или экземпляра не изменяются).\r\n* **Методы класса** (class method): принимают параметр cls, можно изменить сам класс. Декларируется декоратором `@classmethod`.\r\n\r\n```python\r\nclass CoffeeShop:\r\n    specialty = 'espresso'\r\n    \r\n    def __init__(self, coffee_price):\r\n        self.coffee_price = coffee_price\r\n    \r\n    # instance method\r\n    def make_coffee(self): ...\r\n    \r\n    # static method    \r\n    @staticmethod\r\n    def check_weather(): ...\r\n\r\n    # class method\r\n    @classmethod\r\n    def change_specialty(cls, specialty): ...\r\n```\r\n\r\n---\r\n\r\n#### В чем разница между func и func()?\r\n\r\n```python\r\ndef func():\r\n    print(\"Im a function\")\r\n    \r\nfunc\r\n>>> <function __main__.func>\r\nfunc()\r\n>>> \"Im a function\"\r\n```\r\n\r\n* `func` это объект функции. Хранится в памяти как `<function __main__.func>`\r\n* `func()` это вызов функции. Хранится в памяти как возвращаемое значение вызванной функции. А именно `\"Im a function\"`.\r\n\r\n---\r\n\r\n#### Функция map\r\n\r\nОна возвращает объект (итератор), который перебирает значения, применяя функцию к каждому элементу. В случае необходимости объект можно преобразовать в список:\r\n\r\n```python\r\ndef add_three(x):\r\n    return x + 3\r\n  \r\nli = [1, 2, 3]\r\nlist(map(add_three, li))\r\n#=> [4, 5, 6]\r\n```\r\n\r\n---\r\n\r\n#### Функция reduce\r\n\r\nreduce принимает функцию и последовательность — и проходит по этой последовательности. На каждой итерации в функцию передаются как текущий элемент, так и выходные данные предыдущего элемента. В конце концов, возвращается одно значение:\r\n\r\n```python\r\nfrom functools import reduce\r\n\r\ndef add(x, y):\r\n    return x + y\r\n  \r\narray = [1, 2, 3, 5]\r\n\r\nreduce(add, array)\r\n>>> 11\r\n```\r\n\r\n---\r\n\r\n#### Функция enumerate\r\n\r\n`enumerate()` позволяет отслеживать индекс при итерации последовательности. Это более нативный способ, чем определение и приращение целого числа, представляющего индекс:\r\n\r\n```python\r\narray = [1, 2, 3, 4, 5]\r\nfor index, element in enumerate(array):\r\n  print(index, element)\r\n  \r\n>>> 0 1\r\n>>> 1 2\r\n>>> 2 3\r\n>>> 3 4\r\n>>>\t4 5\r\n```\r\n\r\n---\r\n\r\n#### Функция filter\r\n\r\nФункция делает буквально то, о чем говорит ее название: она фильтрует элементы в последовательности.\r\n\r\nКаждый элемент передается функции, которая включает его в последовательность, если по условию получает True, и отбрасывает в случае False:\r\n\r\n```python\r\ndef add(x):\r\n    if x % 2 == 0:\r\n        return True        \r\n    else:\r\n        return False\r\n\r\nli = [1, 2, 3, 4, 5, 6, 7, 8]\r\n\r\n[i for i in filter(add, li)]\r\n>>> [2, 4, 6, 8]\r\n```\r\n\r\nОбратите внимание, как удалены все элементы, которые не соответствуют условию `x % 2 == 0`\r\n\r\n---\r\n\r\n#### Переменные в Python передаются по ссылке или по значению?\r\n\r\nБудьте готовы спуститься в кроличью нору семантики, если загуглите этот вопрос и прочтете несколько первых страниц.\r\n\r\nВ общем, все имена передаются по ссылке, но в некоторых ячейках памяти хранятся объекты, а в других — указатели на другие ячейки памяти.\r\n\r\nДавайте посмотрим, как это работает со строками. Создадим экземпляр имени и объекта, на который указывают другие имена. Затем удалим первое:\r\n\r\n```python\r\nx = 'some text'\r\ny = x\r\nx is y\r\n>>> True\r\n\r\ndel x # удаляем имя 'x' , но не объект в памяти\r\n\r\nz = y\r\ny is z \r\n>>> True\r\n```\r\n\r\nМы видим, что все имена указывают на один и тот же объект в памяти, который остался нетронутым после операции удаления имени del x.\r\n\r\nВот еще один интересный пример с функцией:\r\n\r\n```python\r\nname = 'text'\r\n\r\ndef add_chars(str1):\r\n    print(id(str1))\r\n    >>> 4353702856\r\n    print(id(name))\r\n    >>> 4353702856\r\n    \r\n    # новое имя, тот же объект\r\n    str2 = str1\r\n    \r\n    # создаем новое имя (не отличается от предыдущего) и новый объект\r\n    str1 += 's' \r\n    print(id(str1))\r\n    >>> 4387143328\r\n    \r\n    # объект не изменился\r\n    print(id(str2))\r\n    >>> 4353702856\r\n        \r\nadd_chars(name)\r\nprint(name)\r\n>>> \"text\"\r\n```\r\n\r\nОбратите внимание, что добавление буквы s в строку внутри функции создает новое имя — и новый объект тоже. Даже если у нового объекта то же самое имя, что и у существующего.\r\n\r\n---\r\n\r\n#### Как развернуть список?\r\n\r\nОбратите внимание, что reverse() вызывается в списке и изменяет его. Сама функция не возвращает измененный список:\r\n\r\n```python\r\nli = ['a', 'b', 'c']\r\n\r\nprint(li)\r\nli.reverse()\r\nprint(li)\r\n>>> ['a', 'b', 'c']\r\n>>> ['c', 'b', 'a']\r\n```\r\n\r\nЕсть еще один хитрый приём:\r\n\r\n```python\r\n['a', 'b', 'c'][::-1]\r\n>>> ['c', 'b', 'a']\r\n```\r\n\r\n---\r\n\r\n#### Как объединить списки в Python?\r\n\r\nСписки объединяются при сложении. Обратите внимание, что с [массивами](https://pythonist.ru/massiv-v-python/) так не получается:\r\n\r\n```python\r\na = [1,2]\r\nb = [3,4,5]\r\n\r\na + b\r\n>>> [1, 2, 3, 4, 5]\r\n```\r\n\r\n---\r\n\r\n#### Как объединить два массива?\r\n\r\nПомните, что массивы — это не списки. Это библиотека Numpy и здесь работает линейная алгебра. Для объединения массивов нужно использовать соответствующую функцию Numpy:\r\n\r\n```python\r\nimport numpy as np\r\n\r\na = np.array([1,2,3])\r\nb = np.array([4,5,6])\r\n\r\nnp.concatenate((a,b))\r\n>>> array([1, 2, 3, 4, 5, 6])\r\n```\r\n\r\nОбъединение базовых массивов схоже с объединением списков: \r\n\r\n```python\r\nimport array\r\n\r\na = array.array('i', [1,2,3])\r\nb = array.array('i', [4,5,6])\r\na + b\r\n>>> array('i', [1, 2, 3, 4, 5, 6])\r\n```\r\n\r\n---\r\n\r\n#### Назовите изменяемые и неизменяемые объекты\r\n\r\nНеизменяемость означает, что состояние нельзя изменить после создания. Примеры: int, float, bool, string, tuple, frozenset.\r\n\r\nСостояние изменяемых объектов можно изменить. Примеры: list, dict и set.\r\n\r\n---\r\n\r\n#### Как округлить число до трех десятичных знаков?\r\n\r\n```python\r\n# 1 способ\r\na = 5.12345\r\nround(a, 3)\r\n>>> 5.123\r\n\r\n# 2 способ\r\nf\"{a:.3f}\"\r\n>>> '5.123'\r\nfloat(f\"{a:.3f}\") # тот же кейс, но с приведением к типу float\r\n>>> 5.123\r\n```\r\n\r\n---\r\n\r\n#### Как разбить список?\r\n\r\nОтвет - слайсом (срезом)\r\n\r\n```python\r\na = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\r\n\r\na[:2]\r\n>>> [0, 1]\r\n\r\na[8:]\r\n>>> [8, 9]\r\n\r\na[2:8]\r\n>>> [2, 3, 4, 5, 6, 7]\r\n\r\na[2:8:2]\r\n>>> [2, 4, 6]\r\n```\r\n\r\n---\r\n\r\n#### В чем разница между `copy` и `deepcopy` копиями?\r\n\r\n* `copy` - копирует элементы первого уровня игнорируя вложенности. Поведение схоже с поиском в ширину.\r\n* `deepcopy` - копирует элементы всех уровней вложенности,  Поведение схоже с поиском в глубину.\r\n\r\n---\r\n\r\n#### Какая разница между словарями и JSON?\r\n\r\nDict (словарь) — это тип данных Python, представляющий собой набор индексированных, но неупорядоченных пар ключ-значение.\r\n\r\nJSON — строка, которая следует заданному формату и предназначена для передачи данных. JSON имеет схожую сигнатуру со словарем, и на уровне Python он неявно приводится к Dict, так что мы не замечаем разницы работая с json ответом например запроса из библиотеки `request`. Однако это не значит, что разницы нет. Она просто инкапсулирована от глаз.\r\n\r\nСловарь в Python построен на такой структуре данных как Хеш таблица. В то время как JSON сам по себе представляет из себя строку и его назначение - передача данных на сетевом уровне. То есть если обобщить, JSON это набор байтов, который сам по себе не имеет ничего общего с типом данных Dict. Но внешне Dict и JSON очень похожи.\r\n\r\n---\r\n\r\n#### Какие ORM вы использовали в Python?\r\n\r\n* SQLAlchemy для Flask и других маленьких веб-серверов\r\n* Tortoise ORM и GINO для FastAPI и других асинхронных фреймворков и веб-серверов\r\n* Django ORM для Джанги (внезапно)\r\n\r\nТехнология ORM (object-relational mapping, объектно-реляционное отображение) связывает модели данных (обычно в приложении) с таблицами БД и упрощает транзакции с базой данных.\r\n\r\n---\r\n\r\n#### Как работают any() и all()?\r\n\r\n`any` возвращает True, если хоть один элемент в последовательности соответствует условию, то есть является истинным.\r\n\r\n`all` возвращает True только в том случае, если условию соответствуют все элементы в последовательности.\r\n\r\n```python\r\na = [False, False, False]\r\nb = [True, False, False]\r\nc = [True, True, True]\r\n\r\nany(a)\r\n>>> False\r\nany(b)\r\n>>> True\r\nany(c)\r\n>>> True\r\n\r\nall(a)\r\n>>> False\r\nall(b)\r\n>>> False\r\nall(c)\r\n>>> True\r\n```\r\n\r\n---\r\n\r\n#### Где быстрее поиск: в словарях или списках?\r\n\r\nПоиск значения в списке занимает O(n) времени, потому что нужно пройти весь список.\r\n\r\nПоиск ключа в словаре занимает O(1) времени, потому что это хэш-таблица.\r\n\r\nРазница во времени может быть огромной, если значений много, поэтому для производительности обычно рекомендуют словари. Но у них есть другие ограничения, такие как необходимость уникальных ключей.\r\n\r\n---\r\n\r\n#### В чем разница между модулем и пакетом?\r\n\r\nМодуль — это файл или набор файлов, которые импортируются вместе:\r\n\r\n```python\r\nimport sklearn\r\n```\r\n\r\nПакет — это каталог с модулями:\r\n\r\n```python\r\nfrom sklearn import cross_validation\r\n```\r\n\r\nТаким образом, пакеты — это модули, но не все модули являются пакетами.\r\n\r\n---\r\n\r\n#### Как увеличить и уменьшить целое число в Python?\r\n\r\nИнкремент и декремент можно сделать с помощью += и -=:\r\n\r\n```python\r\nvalue = 5\r\n\r\nvalue += 1\r\nprint(value)\r\n>>> 6\r\n\r\nvalue -= 1\r\nvalue -= 1\r\nprint(value)\r\n>>> 4\r\n```\r\n\r\n---\r\n\r\n#### Как вернуть двоичный код целого числа?\r\n\r\nИспользуйте функцию bin():\r\n\r\n```python\r\nbin(5)\r\n>>> '0b101'\r\n```\r\n\r\n---\r\n\r\n#### Как удалить из списка дубликаты?\r\n\r\nЭто можно сделать путем преобразования списка в набор, а затем обратно в список:\r\n\r\n```python\r\na = [1, 1, 1, 2, 3]\r\na = list(set(a))\r\nprint(a)\r\n>>> [1, 2, 3]\r\n```\r\n\r\nЕще один вариант, это использовать [Хеш-таблицу](https://codechick.io/tutorials/dsa/dsa-hash-table) с игнорированием дубликатов ключей. В Python для этого можно использовать тип `dict`, так как он построен по верх хеш таблицы. Но это вариант для замороченных и практического применения не имеет.\r\n\r\n---\r\n\r\n#### Как проверить, существует ли значение в списке?\r\n\r\nИспользуйте `in`:\r\n\r\n```python\r\n'a' in ['a', 'b', 'c']\r\n>>> True\r\n\r\n'a' in [1, 2, 3]\r\n>>> False\r\n```\r\n\r\n---\r\n\r\n#### В чем разница между append и extend?\r\n\r\n`append` добавляет значения в список, а `extend` добавляет в список значения из другого списка:\r\n\r\n```python\r\na = [1, 2, 3]\r\nb = [1, 2, 3]\r\n\r\na.append(6)\r\nprint(a)\r\n>>> [1, 2, 3, 6]\r\n\r\nb.extend([4, 5])\r\nprint(b)\r\n>>> [1, 2, 3, 4, 5]\r\n```\r\n\r\n---\r\n\r\n#### Как получить абсолютное значение целого числа?\r\n\r\nЭто можно сделать с помощью `built-in` функции `abs()`:\r\n\r\n```python\r\nabs(2)\r\n>>> 2\r\n\r\nabs(-2)\r\n>>> 2\r\n```\r\n\r\n---\r\n\r\n#### Как объединить два списка в список кортежей?\r\n\r\nДля объединения в список кортежей можно использовать функцию `zip`, причем не только двух, но трех и более списков.\r\n\r\n```python\r\na = ['a', 'b', 'c']\r\nb = [1, 2, 3]\r\n\r\n[(k, v) for k, v in zip(a, b)]\r\n>>> [('a', 1), ('b', 2), ('c', 3)]\r\n```\r\n\r\n---\r\n\r\n#### Как отсортировать словарь по ключам, в алфавитном порядке?\r\n\r\nКанонично, «отсортировать» словарь нельзя, поскольку словари не поддерживают упорядочение, но можно вернуть отсортированный список кортежей с ключами и значениями и затем привести результат к словарю:\r\n\r\n```python\r\nd = {'c': 3, 'd': 4, 'b': 2, 'a': 1}\r\n\r\nsorted(d.items())\r\n>>> [('a', 1), ('b', 2), ('c', 3), ('d', 4)]\r\n\r\ndict(sorted(d.items()))\r\n>>> {'a': 1, 'b': 2, 'c': 3, 'd': 4}\r\n```\r\n\r\nЕще можно воспользоваться `lambda` функцией как ключем сортировки если хочется вручную выбрать по какому признаку нужно \"отсортировать\" словарь, по ключу или по значению:\r\n\r\n```python\r\n# немного изменим d\r\nd = {'c': 1, 'd': 2, 'b': 4, 'a': 3}\r\n\r\n# сортируем по ключу\r\ndict(sorted(d.items(), key=lambda x: x[0]))\r\n>>> {'a': 3, 'b': 4, 'c': 1, 'd': 2}\r\n\r\n# сортируем по значению \r\ndict(sorted(d.items(), key=lambda x: x[1]))\r\n>>> {'c': 1, 'd': 2, 'a': 3, 'b': 4}\r\n```\r\n\r\n---\r\n\r\n#### Как реализуется наследование классов в Python?\r\n\r\nВ приведенном ниже примере класс Audi является наследником Car. И вместе с этим наследуются методы экземпляра родительского класса:\r\n\r\n```python\r\nclass Car():\r\n    def drive(self):\r\n        print('vroom')\r\n        \r\nclass Audi(Car):\r\n    pass\r\n  \r\naudi = Audi()\r\naudi.drive()\r\n```\r\n\r\n---\r\n\r\n#### Как удалить все пробелы из строки?\r\n\r\nМожно разделить строку в местах пробелов, а затем снова соединить без пробелов:\r\n\r\n```python\r\ns = 'A string with white space'\r\n\r\n''.join(s.split())\r\n>>>> 'Astringwithwhitespace'\r\n```\r\n\r\nЕстьболее каноничный способ замены, который следует духу Python, что «явное лучше, чем неявное». Он также быстрее работает, потому что здесь не создается новый объект списка:\r\n\r\n```python\r\ns = 'A string with white space'\r\ns.replace(' ', '')\r\n>>> 'Astringwithwhitespace'\r\n```\r\n\r\n---\r\n\r\n#### В чем разница между pass, continue и break?\r\n\r\nЗаглушка `pass` означает «ничего не делать». Обычно мы используем эту функцию, потому что Python не позволяет создавать класс, функцию или оператор `if` без кода внутри.\r\n\r\nВ приведенном ниже примере вылетит ошибка, если внутри i > 3 не будет кода, поэтому мы используем `pass`:\r\n\r\n```python\r\na = [1, 2, 3, 4, 5]\r\nfor i in a:\r\n    if i > 3:\r\n        pass\r\n    print(i)\r\n    \r\n>>> 1\r\n>>> 2\r\n>>> 3\r\n>>> 4\r\n>>> 5\r\n```\r\n\r\n`continue` отправляет вас к следующему элементу в цикле, останавливая выполнение для текущего элемента. Таким образом, `print(i)` никогда не получает значения `i` если оно меньше чем 3:\r\n\r\n```python\r\na = [1, 2, 3, 4, 5]\r\nfor i in a:\r\n    if i < 3:\r\n        continue\r\n    print(i)\r\n    \r\n>>> 3\r\n>>> 4\r\n>>> 5\r\n```\r\n\r\n`break` прерывает цикл, и последовательность больше не повторяется. Таким образом, на цифре 3 цикл прерывается:\r\n\r\n```python\r\na = [1, 2, 3, 4, 5]\r\nfor i in a:\r\n   if i == 3:\r\n       break\r\n   print(i)   \r\n  \r\n>>> 1\r\n>>> 2\r\n```\r\n\r\n---\r\n\r\n#### Преобразуйте следующий цикл for в генератор списков (list comprehension)\r\n\r\nДан следующий цикл `for`:\r\n\r\n```python\r\na = [1, 2, 3, 4, 5]\r\n \r\na2 = []\r\nfor i in a:\r\n     a2.append(i + 1)\r\nprint(a2)\r\n>>> [2, 3, 4, 5, 6]\r\n```\r\n\r\nРезультат:\r\n\r\n```python\r\na3 = [i + 1 for i in a]\r\n\r\nprint(a3)\r\n>>> [2, 3, 4, 5, 6]\r\n```\r\n\r\nГенератор списка обычно считается более каноническим способом в Python, если он остается понятным.\r\n\r\n---\r\n\r\n#### Приведите пример тернарного оператора\r\n\r\nТернарный (условный) оператор — это однострочный оператор if/else.\r\n\r\nСинтаксис такой: `a if condition else b`.\r\n\r\n```python\r\nx = 5\r\ny = 10\r\n\r\n'greater' if x > 6 else 'less'\r\n>>> 'less'\r\n\r\n'greater' if y > 6 else 'less'\r\n>>> 'greater'\r\n```\r\n\r\n---\r\n\r\n#### Проверьте, что в строке только числа\r\n\r\nМожно использовать `isnumeric()` или `isdigit()`:\r\n\r\n```python\r\n'123a'.isnumeric()\r\n>>> False\r\n\r\n'123'.isnumeric()\r\n>>> True\r\n\r\n'123'.isdigit()\r\n>>> True\r\n\r\n'a'.isdigit()\r\n>>> False\r\n```\r\n\r\n---\r\n\r\n#### Проверьте, что в строке только буквы\r\n\r\nМожно использовать ` isalpha()`:\r\n\r\n```python\r\n'123a'.isalpha()\r\n>>> False\r\n\r\n'a'.isalpha()\r\n>>> True\r\n```\r\n\r\n---\r\n\r\n#### Проверьте, что в строке только буквы и цифры\r\n\r\nЗдесь можно использовать `isalnum()`:\r\n\r\n```python\r\n'123abc...'.isalnum()\r\n>>> False\r\n\r\n'123abc'.isalnum()\r\n>>> True\r\n```\r\n\r\n---\r\n\r\n#### Проверьте, что в строке только только пробелы\r\n\r\nЗдесь подойдет `isspace()`:\r\n\r\n```python\r\n'123abc...'.isspace()\r\n>>> False\r\n\r\n'   '.isspace()\r\n>>> True\r\n```\r\n\r\n---\r\n\r\n#### Получите список ключей из словаря\r\n\r\nЭто можно сделать через передачу словаря в конструктор list():\r\n\r\n```python\r\nd = {'id': 7, 'name': 'Shiba', 'color': 'brown', 'speed': 'very slow'}\r\n\r\nlist(d)\r\n>>> ['id', 'name', 'color', 'speed']\r\n```\r\n\r\nТак же можно получить список значений словаря, но с использованием вызова `.values()`:\r\n\r\n```python\r\nd = {'id': 7, 'name': 'Shiba', 'color': 'brown', 'speed': 'very slow'}\r\n\r\nlist(d.values())\r\n>>> [7, 'Shiba', 'brown', 'very slow']\r\n```\r\n\r\n---\r\n\r\n#### Как перевести строку в верхний/нижний регистр?\r\n\r\nМожно использовать строковые методы `upper()` и `lower()`:\r\n\r\n```python\r\nsmall_word = 'potatocake'\r\nbig_word = 'FISHCAKE'\r\n\r\nsmall_word.upper()\r\n>>> 'POTATOCAKE'\r\n\r\nbig_word.lower()\r\n>>> 'fishcake'\r\n```\r\n\r\n---\r\n\r\n#### В чем разница между remove, del и pop?\r\n\r\n`remove()` удаляет первое совпадающее значение:\r\n\r\n```python\r\nli = ['a', 'b', 'c', 'd']\r\n\r\nli.remove('b')\r\nli\r\n>>> ['a', 'c', 'd']\r\n```\r\n\r\nH~2~O\r\n\r\nX^2^\r\n\r\n==key==\r\n\r\n# Functools\r\n\r\n#### [Перегрузка методов](https://habr.com/ru/company/otus/blog/428307/) или [множественная диспетчеризация](https://ru.wikipedia.org/wiki/Мультиметод)\r\n\r\n```python\r\nfrom typing import Union\r\nfrom functools import singledispatch\r\n\r\n@singledispatch # декорируем функцию\r\ndef some_func(): ... # в этом случае функция пуста\r\n\r\n@some_func.register(int)\r\ndef _(number: int): return number ** 2\r\n\r\n@some_func.register(str)\r\ndef _(string: str): return int(string) ** 2\r\n\r\n@some_func.register(tuple)\r\n@some_func.register(list)\r\ndef _(sequence: Union[tuple, list]): return [int(i) ** 2 for i in sequence]\r\n\r\nsome_func(3)\r\n>>> 9\r\nsome_func(\"4\")\r\n>>> 16\r\nsome_func((1, \"2\"))\r\n>>> [1, 4]\r\nsome_func([\"5\", 6])\r\n>>> [25, 36]\r\n```\r\n\r\nТоже самое можно реализовать и с методами:\r\n\r\n```python\r\nfrom functools import singledispatchmethod\r\n\r\nclass A:\r\n    @singledispatchmethod\r\n    def b(self, arg):\r\n        raise NotImplementedError()\r\n\r\n    @b.register(int)\r\n    def _(self, arg: int):\r\n        return -arg\r\n\r\n    @b.register(bool)\r\n    def _(self, arg: bool):\r\n        return not arg\r\n```\r\n\r\n```python\r\nfrom functools import singledispatchmethod\r\n\r\nclass A:\r\n    @singledispatchmethod\r\n    @classmethod\r\n    def b(cls, arg):\r\n        raise NotImplementedError()\r\n\r\n    @b.register(int)\r\n    @classmethod\r\n    def _(cls, arg: int):\r\n        return -arg\r\n\r\n    @b.register(bool)\r\n    @classmethod\r\n    def _(cls, arg: bool):\r\n        return not arg\r\n```\r\n\r\nТот же шаблон может быть использован для других подобных декораторов, например [`@staticmethod`](https://docs-python.ru/tutorial/vstroennye-funktsii-interpretatora-python/dekorator-staticmethod/) и других.\r\n\r\n---\r\n\r\n#### TODO! lru_cache - Least-recently-used\r\n\r\n---\r\n\r\n\r\n\r\n# Python Internals\r\n\r\n#### В чем разница между `__init__` и `__new__` ?\r\n\r\n[`__new__`](https://docs.python.org/3/reference/datamodel.html#object.__new__) это конструктор класса, он вызывается раньше чем `__init__`. Можно сказать, что `__new__` на уровень ниже чем `__init__`. Он определяет поведение класса и создает его базовую структуру.\r\n\r\nНиже приведена вырезка из официальной документации Python.\r\n\r\n> [`__new__()`](https://docs.python.org/3/reference/datamodel.html#object.__new__) Вызывается для создания нового экземпляра класса `cls.__new__()` — это статический метод (инкапсулированный в специальном регистре, поэтому вам не нужно объявлять его), который принимает класс, экземпляр которого был запрошен, в качестве первого аргумента. Остальные аргументы передаются в выражение конструктора объекта (вызов класса). Возвращаемое значение `__new__()` должно быть экземпляром нового объекта (обычно экземпляром cls). \r\n>\r\n> Типичные реализации создают новый экземпляр класса, вызывая метод `__new__()` суперкласса, используя `super().__new__(cls[, ...])` с соответствующими аргументами, а затем при необходимости изменяя вновь созданный экземпляр перед его возвратом.\r\n>\r\n> Если `__new__()` вызывается во время создания объекта и возвращает экземпляр cls, то метод `__init__()` нового экземпляра будет вызываться как `__init__(self[, ...])`, где `self` — новый экземпляр, а остальные аргументы такие же, как были переданы конструктору объекта. \r\n>\r\n> Если `__new__()` не возвращает экземпляр cls, то метод `__init__()` нового экземпляра вызываться не будет.\r\n>\r\n> `__new__()` предназначен главным образом для того, чтобы позволить подклассам неизменяемых типов (например, `int`, `str` или `tuple`) настраивать создание экземпляра. Он также обычно переопределяется в пользовательских метаклассах, чтобы настроить создание класса.\r\n>\r\n> ---\r\n>\r\n> [`__init__()`](https://docs.python.org/3/reference/datamodel.html#object.__init__) Вызывается после создания экземпляра (с помощью `__new__()`), но до того, как он будет возвращен вызывающей стороне. Аргументы передаются выражению конструктора класса. Если базовый класс имеет метод `__init__()`, метод `__init__()` дочернего класса, если таковой имеется, должен явно вызвать его, чтобы обеспечить правильную инициализацию части базового класса экземпляра; например: `super().__init__([аргументы...])`. \r\n>\r\n> Поскольку `__new__()` и `__init__()` работают вместе при создании объектов (`__new__()` для их создания и `__init__()` для их кастомизации), `__init__()` не может возвращать никакое значение, отличное от `None`; это приведет к возникновению ошибки `TypeError` во время выполнения.\r\n\r\n---\r\n\r\n#### **Объясните управление памятью в Python**.\r\n\r\nВ Python диспетчер памяти заботится об управлении памятью. Он выделяет ее в виде пространства в куче, в которой хранятся все объекты Python и структуры данных. В языке существуют 4 встроенных структуры данных. Данное пространство недоступно для программиста напрямую. Однако базовый API позволяет разработчику получить доступ к некоторым инструментам для написания кода.\r\n\r\nКроме того, Python оснащен встроенным сборщиком мусора, который освобождает неиспользуемую память из пространства кучи.\r\n\r\nПочитать об [Memory management](https://docs.python.org/3/c-api/memory.html) можно [тут](https://towardsdatascience.com/memory-management-in-python-6bea0c8aecc9), [тут](https://realpython.com/python-memory-management/) или [тут](https://habr.com/ru/company/vk/blog/336156/)\r\n\r\n---\r\n\r\n#### Какаво назначение GIL?\r\n\r\nGIL или Global Interpreter Lock — это [мьютекс](https://ru.wikipedia.org/wiki/Мьютекс), используемый для ограничения доступа к объектам Python. Он синхронизирует потоки и предотвращает их одновременное выполнение. Плюсы GIL' a в том, что мы имеет резиновую память и безопасную для компьютера среду исполнения. GIL не даст многопоточному коду одновременно выполнять [CPU bound](https://en.wikipedia.org/wiki/CPU-bound) задачи. Однако он никак не контролирует процессы. Поэтому Питонисты  привыкли решать многопоточные задачи через многопроцессорность. Однако, если задача которую предстоит решить является [I/O bound](https://en.wikipedia.org/wiki/I/O_bound), то возможно будет удобней пользовать все таки потоками, так как IO (ввод/вывод) GIL не блокирует. При условии что используемая версия python не имеет поддержки `asyncio`\r\n\r\nДля работы потоками  в python есть библиотека `threading`\r\n\r\nДля работы с процессами `multiprocessing`\r\n\r\nДля работы с асинхронным вводом/выводом `asyncio`. Появилась с версии 3.6\r\n\r\n---\r\n\r\n\r\n\r\n# Middle/Senior level\r\n\r\n#### \\- TODO! Как работают регулярные выражения?\r\n\r\nhttps://pythonist.ru/category/algoritms/regexp/\r\n\r\n---\r\n\r\n### - TODO! ООП - Полиморфизм\r\n\r\nhttp://citforum.ru/programming/python/multidispatch/\r\n\r\n---\r\n\r\n#### - TODO! ООП - Абстракция\r\n\r\nhttps://habr.com/ru/company/skillfactory/blog/508716/\r\n\r\n---\r\n\r\n#### - TODO! ООП - Инкапсуляция\r\n\r\nhttps://habr.com/ru/post/87205/\r\n\r\n---\r\n\r\n#### - TODO! ООП - Наследование\r\n\r\nhttps://habr.com/ru/post/354046/\r\n\r\n---\r\n\r\n#### - TODO! ООП - Абстракция\r\n\r\nhttps://habr.com/ru/post/87119/\r\n\r\n---\r\n\r\n#### - TODO! ООП - Композиция\r\n\r\nhttps://habr.com/ru/post/325478/\r\n\r\n---", "body": "<h1>Основы</h1>\n<h4>В чем разница между модулем и пакетом в Python?</h4>\n<p style=\"font-size: 16px;\">Каждый программный файл Python представляет собой модуль, который импортирует другие модули как объекты. Таким образом, модуль — это способ структурирования вашей программы. Папка с программой на Python называется пакетом модулей.</p>\n<hr />\n<h4>Какие встроенные типы доступны в Python?</h4>\n<p style=\"font-size: 16px;\">Это один из наиболее распространенных вопросов на собеседовании. В Python есть изменяемые и неизменяемые встроенные типы.</p>\n<p style=\"font-size: 16px;\">К изменяемым относятся:</p>\n<ul>\n<li>Списки,</li>\n<li>Множества,</li>\n<li>Словари.</li>\n</ul>\n<p style=\"font-size: 16px;\">Представителями неизменяемых типов являются:</p>\n<ul>\n<li>Строки,</li>\n<li>Кортежи,</li>\n<li>Числа.</li>\n</ul>\n<hr />\n<h4>Что такое лямбда-функция в Python?</h4>\n<p style=\"font-size: 16px;\">Лямбда часто используется как встраиваемая функция и представляет собой единственное анонимное функциональное выражение. Она применяется для создания нового объекта функции и его возврата во время выполнения.</p>\n<p style=\"font-size: 16px;\">Лямбда — это <a href=\"https://pythonru.com/osnovy/vse-chto-nuzhno-znat-o-lambda-funkcijah-v-python\">анонимная функция в Python</a>, которая может принимать неограниченное количество аргументов и может иметь любое число параметров. Однако лямбда-функция может иметь только одно выражение или инструкцию. Обычно она используется в ситуациях, когда требуется анонимная функция в течение короткого периода времени. Лямбда-функции можно использовать одним из двух способов:</p>\n<p style=\"font-size: 16px;\">Пример лямбда-функции:</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f8f8f2\">a</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #66d9ef\">lambda</span> <span style=\"color: #f8f8f2\">x,y</span> <span style=\"color: #f8f8f2\">:</span> <span style=\"color: #f8f8f2\">x</span><span style=\"color: #f92672\">+</span><span style=\"color: #f8f8f2\">y</span> \n<span style=\"color: #f8f8f2\">print(a(</span><span style=\"color: #ae81ff\">5</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">6</span><span style=\"color: #f8f8f2\">))</span>\n<span style=\"color: #75715e\">#  Вывод: 11</span>\n</pre></div>\n\n<hr />\n<h4>Что означает пространство имен?</h4>\n<p style=\"font-size: 16px;\">Пространство имен представляет собой систему имен, которая используется для обеспечения уникальности наименования всех объектов в программе, чтобы избежать возможных конфликтов. В Python эти пространства имен реализованы как словари с именем в качестве ключа и объектом в качестве значения. В результате разные пространства могут давать своим объектам одинаковые имена.</p>\n<p style=\"font-size: 16px;\">Ниже приведены три типа пространств имен в Python:</p>\n<ul>\n<li>Локальное пространство имен — включает локальные имена внутри функции. Локальное пространство имен временно создается во время вызова функции и очищается при возврате из нее. Вызывается функцией <a href=\"https://www.programiz.com/python-programming/methods/built-in/locals\"><code>locals()</code></a></li>\n<li>Глобальное пространство имен — состоит из имен различных импортированных пакетов/модулей, которые в настоящее время используются в проекте. Глобальное пространство имен создается при импорте пакета в скрипт, и оно доступно до тех пор, пока скрипт не закончит выполнение. Вызывается функцией <a href=\"https://www.programiz.com/python-programming/methods/built-in/globals\"><code>globals()</code></a></li>\n<li>Встроенное пространство имен — оно включает встроенные функции Python и встроенные имена для различных типов исключений. Так называемы <a href=\"https://docs.python.org/3/library/functions.html\"> <code>built-in</code></a> функции или вызовы.</li>\n</ul>\n<hr />\n<h4>Разница между списком и кортежем?</h4>\n<ul>\n<li>Список мутабельный, а кортеж — иммутабельный.</li>\n<li>Кортежи можно хешировать, как в случае создания ключей для словарей.</li>\n<li>Список можно изменить после создания, кортеж нет.</li>\n</ul>\n<hr />\n<h4>Разница между Массивом и списком</h4>\n<p style=\"font-size: 16px;\">В стандартной библиотеке Python есть объект array, но здесь мы специально обсуждаем массив из популярной библиотеки Numpy. Списки в каждом индексе можно заполнять разными типами данных. Массивы требуют однородных элементов. Арифметические действия в списках добавляют или удаляют элементы из списка. Арифметические действия на массивах соответствуют функциям линейной алгебры. Массивы используют меньше памяти и обладают значительно большей функциональностью.</p>\n<p style=\"font-size: 16px;\">Так же в Python существуют встроенные массивы (не NumPy), о них подробно <a href=\"https://pythonist.ru/massiv-v-python/\">здесь</a>.</p>\n<hr />\n<h4>Чем отличается pickling от unpickling?</h4>\n<p style=\"font-size: 16px;\">Любое руководство по вопросам и ответам на собеседовании по Python не будет полным без этого вопроса. В Python модуль <a href=\"https://docs.python.org/3/library/pickle.html\"> <code>pickle</code></a> принимает любой объект Python, преобразует его в строковое представление и выгружает его в файл с помощью функции dump. Такой процесс известен как pickling. Для этого процесса используется функция <a href=\"https://docs.python.org/3/library/pickle.html#pickle.dump\"> <code>pickle.dump()</code></a>.</p>\n<p style=\"font-size: 16px;\">С другой стороны, процесс извлечения исходного объекта Python из сохраненного строкового представления называется unpickling. Для этого процесса используется функция <a href=\"https://docs.python.org/3/library/pickle.html#pickle.load\"> <code>pickle.load()</code></a>.</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f92672\">import</span> <span style=\"color: #f8f8f2\">pickle</span>\n\n<span style=\"color: #f8f8f2\">obj</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">[</span>\n    <span style=\"color: #f8f8f2\">{</span><span style=\"color: #e6db74\">&#39;id&#39;</span><span style=\"color: #f8f8f2\">:</span><span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;name&#39;</span><span style=\"color: #f8f8f2\">:</span><span style=\"color: #e6db74\">&#39;Stuffy&#39;</span><span style=\"color: #f8f8f2\">},</span>\n    <span style=\"color: #f8f8f2\">{</span><span style=\"color: #e6db74\">&#39;id&#39;</span><span style=\"color: #f8f8f2\">:</span><span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;name&#39;</span><span style=\"color: #f8f8f2\">:</span> <span style=\"color: #e6db74\">&#39;Fluffy&#39;</span><span style=\"color: #f8f8f2\">}</span>\n<span style=\"color: #f8f8f2\">]</span>\n\n<span style=\"color: #66d9ef\">with</span> <span style=\"color: #f8f8f2\">open(</span><span style=\"color: #e6db74\">&#39;file.p&#39;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;wb&#39;</span><span style=\"color: #f8f8f2\">)</span> <span style=\"color: #66d9ef\">as</span> <span style=\"color: #f8f8f2\">f:</span>\n    <span style=\"color: #f8f8f2\">pickle</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">dump(obj,</span> <span style=\"color: #f8f8f2\">f)</span>\n\n<span style=\"color: #66d9ef\">with</span> <span style=\"color: #f8f8f2\">open(</span><span style=\"color: #e6db74\">&#39;file.p&#39;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;rb&#39;</span><span style=\"color: #f8f8f2\">)</span> <span style=\"color: #66d9ef\">as</span> <span style=\"color: #f8f8f2\">f:</span>\n    <span style=\"color: #f8f8f2\">loaded_obj</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">pickle</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">load(f)</span>\n\n<span style=\"color: #f8f8f2\">loaded_obj</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #f8f8f2\">[{</span><span style=\"color: #e6db74\">&#39;id&#39;</span><span style=\"color: #f8f8f2\">:</span> <span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;name&#39;</span><span style=\"color: #f8f8f2\">:</span> <span style=\"color: #e6db74\">&#39;Stuffy&#39;</span><span style=\"color: #f8f8f2\">},</span> <span style=\"color: #f8f8f2\">{</span><span style=\"color: #e6db74\">&#39;id&#39;</span><span style=\"color: #f8f8f2\">:</span> <span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;name&#39;</span><span style=\"color: #f8f8f2\">:</span> <span style=\"color: #e6db74\">&#39;Fluffy&#39;</span><span style=\"color: #f8f8f2\">}]</span>\n</pre></div>\n\n<hr />\n<h4>Что такое декораторы в Python?</h4>\n<p style=\"font-size: 16px;\"><a href=\"https://pythonru.com/osnovy/rukovodstvo-po-dekoratoram-python\">Декоратор Python</a> — прежде всего это паттерн проектирования, который в питоне реализован из коробки. Предназначен для модификации поведения функции без её первоначального изменения. В питоне имеется синтасический сахар и может вызываться через символ <code>@</code>. На вход принимает декорируемую функцию, все её позиционные и именованные аргументы, а так же может принимать дополнительные аргументы не имеющиеся в исходной функции.</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #66d9ef\">def</span> <span style=\"color: #a6e22e\">decorator</span><span style=\"color: #f8f8f2\">(func):</span>\n  <span style=\"color: #66d9ef\">def</span> <span style=\"color: #a6e22e\">wrapper</span><span style=\"color: #f8f8f2\">(</span><span style=\"color: #f92672\">*</span><span style=\"color: #f8f8f2\">args,</span> <span style=\"color: #f92672\">**</span><span style=\"color: #f8f8f2\">kwargs):</span>\n    <span style=\"color: #75715e\"># некоторая логика обработки</span>\n    <span style=\"color: #f8f8f2\">some_logic</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f92672\">...</span>\n    <span style=\"color: #66d9ef\">return</span> <span style=\"color: #f8f8f2\">func(some_logic,</span> <span style=\"color: #f92672\">*</span><span style=\"color: #f8f8f2\">args,</span> <span style=\"color: #f92672\">**</span><span style=\"color: #f8f8f2\">kwargs)</span>\n  <span style=\"color: #66d9ef\">return</span> <span style=\"color: #f8f8f2\">wrapper</span>\n    \n<span style=\"color: #a6e22e\">@decorator</span>\n<span style=\"color: #66d9ef\">def</span> <span style=\"color: #a6e22e\">some_func</span><span style=\"color: #f8f8f2\">():</span> <span style=\"color: #f92672\">...</span>\n\n<span style=\"color: #66d9ef\">def</span> <span style=\"color: #a6e22e\">some_func_2</span><span style=\"color: #f8f8f2\">():</span> <span style=\"color: #f92672\">...</span>\n\n<span style=\"color: #75715e\"># использование декоратора без синтаксического сахара</span>\n<span style=\"color: #75715e\"># таким образом работаем с декоратором как с замыканием</span>\n<span style=\"color: #f8f8f2\">some_func_2_result</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">decorator(some_func_2)</span>\n</pre></div>\n\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f8f8f2\">print(some_func_2_result)</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #f92672\">&lt;</span><span style=\"color: #f8f8f2\">function</span> <span style=\"color: #f8f8f2\">decorator</span><span style=\"color: #f92672\">.&lt;</span><span style=\"color: #f8f8f2\">locals</span><span style=\"color: #f92672\">&gt;.</span><span style=\"color: #f8f8f2\">wrapper</span> <span style=\"color: #f8f8f2\">at</span> <span style=\"color: #ae81ff\">0x00000123456789</span><span style=\"color: #f92672\">&gt;</span>\n</pre></div>\n\n<p style=\"font-size: 16px;\">Мы так же можем использовать декоратор <code>@wraps</code> , который преобразует сигнатуру нашего декоратора заменив её на сигнатуру декорируемой функции.</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f92672\">from</span> <span style=\"color: #f8f8f2\">functools</span> <span style=\"color: #f92672\">import</span> <span style=\"color: #f8f8f2\">wraps</span>\n\n<span style=\"color: #66d9ef\">def</span> <span style=\"color: #a6e22e\">decorator</span><span style=\"color: #f8f8f2\">(func):</span>\n  <span style=\"color: #a6e22e\">@wraps</span><span style=\"color: #f8f8f2\">(func)</span>\n  <span style=\"color: #66d9ef\">def</span> <span style=\"color: #a6e22e\">wrapper</span><span style=\"color: #f8f8f2\">(</span><span style=\"color: #f92672\">*</span><span style=\"color: #f8f8f2\">args,</span> <span style=\"color: #f92672\">**</span><span style=\"color: #f8f8f2\">kwargs):</span>\n    <span style=\"color: #66d9ef\">return</span> <span style=\"color: #f8f8f2\">func(</span><span style=\"color: #f92672\">*</span><span style=\"color: #f8f8f2\">args,</span> <span style=\"color: #f92672\">**</span><span style=\"color: #f8f8f2\">kwargs)</span>\n  <span style=\"color: #66d9ef\">return</span> <span style=\"color: #f8f8f2\">wrapper</span>\n\n<span style=\"color: #f8f8f2\">result</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">decorator(some_func)</span>\n</pre></div>\n\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f8f8f2\">print(result)</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #f92672\">&lt;</span><span style=\"color: #f8f8f2\">function</span> <span style=\"color: #f8f8f2\">some_func</span> <span style=\"color: #f8f8f2\">at</span> <span style=\"color: #ae81ff\">0x00000123456789</span><span style=\"color: #f92672\">&gt;</span>\n</pre></div>\n\n<p style=\"font-size: 16px;\">И последний пример, где реализован декоратор принимающий произвольные аргументы, не имеющие прямого отношения к декорируемой функции. Но очевидно, что эти аргументы являются что называется <code>bound of context</code>.</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #66d9ef\">def</span> <span style=\"color: #a6e22e\">outer_wrapper</span><span style=\"color: #f8f8f2\">(some_args:</span> <span style=\"color: #f8f8f2\">dict):</span>\n  <span style=\"color: #66d9ef\">def</span> <span style=\"color: #a6e22e\">decorator</span><span style=\"color: #f8f8f2\">(func):</span>\n    <span style=\"color: #66d9ef\">def</span> <span style=\"color: #a6e22e\">inner_wrapper</span><span style=\"color: #f8f8f2\">(</span><span style=\"color: #f92672\">*</span><span style=\"color: #f8f8f2\">args,</span> <span style=\"color: #f92672\">**</span><span style=\"color: #f8f8f2\">kwargs):</span>\n      <span style=\"color: #66d9ef\">return</span> <span style=\"color: #f8f8f2\">func(</span><span style=\"color: #f92672\">*</span><span style=\"color: #f8f8f2\">args,</span> <span style=\"color: #f92672\">**</span><span style=\"color: #f8f8f2\">kwargs)</span>\n    <span style=\"color: #66d9ef\">return</span> <span style=\"color: #f8f8f2\">wrapper</span>\n  <span style=\"color: #66d9ef\">return</span> <span style=\"color: #f8f8f2\">decorator</span>\n\n<span style=\"color: #a6e22e\">@outer_wrapper</span><span style=\"color: #f8f8f2\">(some_args</span><span style=\"color: #f92672\">=</span><span style=\"color: #f8f8f2\">dict())</span>\n<span style=\"color: #66d9ef\">def</span> <span style=\"color: #a6e22e\">some_func</span><span style=\"color: #f8f8f2\">():</span> <span style=\"color: #f92672\">...</span>\n</pre></div>\n\n<hr />\n<h4>Что такое замыкание?</h4>\n<p style=\"font-size: 16px;\">Замыкание - это когда функция вызывает другую функцию, чтобы изменить поведение своих аргументов. Например декоратор, это тоже замыкание.</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #66d9ef\">def</span> <span style=\"color: #a6e22e\">decorator</span><span style=\"color: #f8f8f2\">(func):</span>\n  <span style=\"color: #66d9ef\">def</span> <span style=\"color: #a6e22e\">wrapper</span><span style=\"color: #f8f8f2\">(</span><span style=\"color: #f92672\">*</span><span style=\"color: #f8f8f2\">args,</span> <span style=\"color: #f92672\">**</span><span style=\"color: #f8f8f2\">kwargs):</span>\n    <span style=\"color: #f8f8f2\">some_inner_call</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f92672\">...</span> <span style=\"color: #75715e\"># это тоже замыкание</span>\n    <span style=\"color: #66d9ef\">return</span> <span style=\"color: #f8f8f2\">func(</span><span style=\"color: #f92672\">*</span><span style=\"color: #f8f8f2\">args,</span> <span style=\"color: #f92672\">**</span><span style=\"color: #f8f8f2\">kwargs)</span>\n  <span style=\"color: #66d9ef\">return</span> <span style=\"color: #f8f8f2\">wrapper</span>\n</pre></div>\n\n<hr />\n<h4>Разница между генераторами и итераторами?</h4>\n<p style=\"font-size: 16px;\">В Python итераторы используются для перебора группы элементов (например, в списке). Генераторы представляют собой способ реализации итераторов. В них применяется <code>yield</code> для возврата выражения из функции, но в остальном генератор ведет себя как обычная функция.</p>\n<p style=\"font-size: 16px;\">https://pythonist.ru/category/voprosy-s-sobesedovaniya-python/generatory/</p>\n<hr />\n<h4>Как преобразовать число в строку?</h4>\n<p style=\"font-size: 16px;\">Один из самых распространенных вопросов на собеседовании. Мы можем использовать встроенную функцию <code>str()</code>. Для восьмеричного или шестнадцатеричного представления числа мы можем использовать другие встроенные функции, такие как <code>oct()</code> или <code>hex()</code>.</p>\n<hr />\n<h4>Как используется оператор // в Python?</h4>\n<p style=\"font-size: 16px;\">Использование оператора <code>//</code> между двумя числами дает частное при делении числителя на знаменатель. Он также называется оператором деления без остатка.</p>\n<hr />\n<h4>Есть ли в Python инструкция Switch или Case, как в C?</h4>\n<p style=\"font-size: 16px;\">Во первых нужно понять, что инструкция Switch Case это реализация <a href=\"https://ru.wikipedia.org/wiki/%D0%A1%D0%BE%D0%BF%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D1%81_%D0%BE%D0%B1%D1%80%D0%B0%D0%B7%D1%86%D0%BE%D0%BC\">Паттерн Матчинга</a>. Так вот, до версии Python 3.10 такой языковой конструкции не было, хотя можно было использовать самописную логику используя <a href=\"https://docs.python.org/3/library/functions.html\"> <code>built-in</code></a>  вызов <a href=\"https://www.programiz.com/python-programming/methods/built-in/isinstance\"> <code>isinstance()</code></a> с проверкой аргумента на его тип.  Но с версией 3.10 в питоне появился Паттерн Матчинг из коробки. <a href=\"https://habr.com/ru/company/yandex_praktikum/blog/547902/\">Детальнее об реализации можно почитать здесь</a>.</p>\n<hr />\n<h4>Что такое функция range() и каковы ее параметры?</h4>\n<p style=\"font-size: 16px;\">Функция <a href=\"https://www.programiz.com/python-programming/methods/built-in/range\"> <code>range()</code></a> используется для создания списка из чисел. Разрешены только целые числа, поэтому переданные аргументы могут быть как отрицательными, так и положительными. Допустимы следующие параметры:</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f8f8f2\">range(stop)</span>\n</pre></div>\n\n<p style=\"font-size: 16px;\">Где «stop» — это количество целых чисел для генерации, начиная с 0. Пример: <code>list(range(5)) == [0,1,2,3,4]</code></p>\n<p style=\"font-size: 16px;\">Другие параметры: <em>range([start], stop[, step])</em>:</p>\n<ul>\n<li>Start: устанавливает первое число в последовательности.</li>\n<li>Stop: указывает верхний предел для последовательности.</li>\n<li>Step: коэффициент приращения в последовательности.</li>\n</ul>\n<hr />\n<h4>Как используется %s?</h4>\n<p style=\"font-size: 16px;\"><code>%s</code> — это спецификатор формата, который преобразует любое значение в строку.</p>\n<hr />\n<h4>Обязательно ли функция Python должна возвращать значение?</h4>\n<p style=\"font-size: 16px;\">Нет. Во всех Cи подобных языках допустимы функции не возвращающие ничего. Во многих языках есть тип возвращаемого значения <code>void</code>,  который говорит о том, что функция не возвращает ничего. Так как в питоне нет статической типизации, и тип указываемого значения в обязательном порядке указывать не надо, то можно просто ничего не возвращать. Однако в питоне есть Аннотация типов, но это уже другая тема. На Хабре есть <a href=\"https://habr.com/ru/company/lamoda/blog/432656/\">замечательная статья на эту тему</a> от моего коллеги.</p>\n<hr />\n<h4>Есть ли в <a href=\"https://pythonru.com/uroki/funkcija-main-v-python-dlja-nachinajushhih\">Python функция main()</a>?</h4>\n<p style=\"font-size: 16px;\">Есть, но её присутствие или отсутствие в пользовательском коде никак не скажется на качестве работы исполняемого кода. Её не обязательно явкно указывать Она выполняется автоматически всякий раз, когда мы запускаем скрипт. Если вы хотите изменить этот естественный порядок вещей, используйте конструкцию:</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #66d9ef\">if</span> <span style=\"color: #f8f8f2\">__name__</span> <span style=\"color: #f92672\">==</span> <span style=\"color: #e6db74\">&#39;__main__&#39;</span><span style=\"color: #f8f8f2\">:</span>\n  <span style=\"color: #f92672\">...</span>\n</pre></div>\n\n<hr />\n<h4>Какой метод использовался до оператора «in» для проверки наличия ключа в словаре?</h4>\n<p style=\"font-size: 16px;\">Метод <a href=\"https://www.geeksforgeeks.org/python-dictionary-has_key/\"><code>has_key()</code></a>.</p>\n<hr />\n<h4>Как изменить тип данных списка?</h4>\n<p style=\"font-size: 16px;\">Нужно использовать примитивы приведения типа. Например:</p>\n<ul>\n<li><code>tuple()</code></li>\n<li><code>set()</code></li>\n<li><code>dict()</code></li>\n<li><code>join()</code> - не имеет прямого назначения для приведения типа, однако приведение массива к строке является побочным эффектом.</li>\n</ul>\n<hr />\n<h4>Каковы ключевые особенности Python?</h4>\n<p style=\"font-size: 16px;\">Это один из распространенных вопросов на собеседовании. Python — это язык программирования общего назначения высокого уровня с открытым исходным кодом. Поскольку это язык программирования общего назначения, и он поставляется с большим набором библиотек, вы можете использовать Python для разработки практически любого типа приложений. Python имеет несколько реализаций. Самая популярная реализация написана на языке C и имеет название <a href=\"https://habr.com/ru/company/yandex/blog/511972/\">CPython</a> (не путать с <a href=\"https://ru.wikipedia.org/wiki/Cython\">Cython</a>). Есть и другие реализации языка Python, такие как <a href=\"https://ru.wikipedia.org/wiki/Python#%D0%A0%D0%B5%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8\">Jython, IronPython, MicroPython, PyPy, Stackless Python</a> но они либо мертвы и давно не поддерживаются, либо имеют слишком узкую специализацию, чтобы их рассматривать здесь и уделять хоть какое-либо им внимание здесь и сейчас. Однако это не говорит о том, что они совсем бесполезны хотя некоторые их них такие как Jython действительно мертвы.</p>\n<p style=\"font-size: 16px;\">Некоторые из его ключевых особенностей:</p>\n<ul>\n<li><a href=\"https://pythonchik.ru/osnovy/kak-rabotaet-python-interpretator\">Интерпретируемый</a> (умеет компилировать исходный код в байткод для оптимизации, но полноценной виртуальной машины как в Java, которая умела бы эмулировать поведение железа не имеет). На самом деле это весьма дискуссионная тема, есть ли в Python <a href=\"https://ru.wikipedia.org/wiki/%D0%92%D0%B8%D1%80%D1%82%D1%83%D0%B0%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F_%D0%BC%D0%B0%D1%88%D0%B8%D0%BD%D0%B0\">виртуальная машина</a>. Одни считают что да но называют виртуальной машиной ту часть интерпретатора, которая отвечает за исполнение, то есть executor. Другие говорят что нет. В этой тему нужно как следует разобраться чтоб занять свою уверенную для дискуссий позицию. Посмотреть можно <a href=\"https://www.devopsschool.com/blog/python-virtual-machine/\">здесь</a>, <a href=\"https://www.c-sharpcorner.com/blogs/pvmpython-virtual-machine\">здесь</a>, <a href=\"https://www.gkindex.com/python-tutorial/python-virtual-machine.jsp\">здесь</a>, <a href=\"https://panutanur.medium.com/pvm-python-virtual-machine-df83ca6a79a6\">здесь</a>, <a href=\"https://morioh.com/p/01d84b0bab10\">здесь</a> и еще <a href=\"https://leanpub.com/insidethepythonvirtualmachine/read\">здесь</a> и <a href=\"https://docs.python.org/3/c-api/memory.html\">здесь</a></li>\n<li><a href=\"https://tproger.ru/experts/imperative-and-declarative-programming/\">Императивный</a></li>\n<li>Объектно-ориентированный</li>\n<li>Имеющий <a href=\"https://habr.com/ru/post/161205/\">динамическую, строгую, неявную типизацию</a> - Очень полезная статья на эту тему.</li>\n<li>Поддерживающий <a href=\"https://ru.hexlet.io/courses/python-declarative-programming/lessons/imperative-and-functional-python/theory_unit\">функциональное и процедурное программирование</a></li>\n<li>Имеет отличную систему расширения за счет <a href=\"https://docs.python.org/3/c-api/index.html\">C API</a> и <a href=\"https://cffi.readthedocs.io/en/latest/using.html#python-3-support\">CFFI</a>. Легко и безопасно (<a href=\"https://habr.com/ru/company/wunderfund/blog/586360/\">за счет наличия GIL</a>) писать расширения на С или на <a href=\"https://cython.org\">Cython</a> (специальный python-подобный язык программирования, предназначенный для написания python расширений без знания языка С). Транслирует исходный код в С, компилирует полученный С код в библиотеку <code>lib.o</code> которую сразу можно вызывать из пользовательского Python кода. На Cython написана библиотека <a href=\"http://uvloop.readthedocs.org\"> <code>uvloop</code></a> одна из самый производительных реализаций Event loop'a для python. Так же, на сколько мне известно, часть бекенда <a href=\"https://fastapi.tiangolo.com\">FastAPI</a> написана на Cython.</li>\n</ul>\n<p style=\"font-size: 16px;\">Однако есть задачи с помощью которого средствами языка Python либо не решить, либо это абсолютно не приемлимо. Например:</p>\n<ul>\n<li>\n<p style=\"font-size: 16px;\">Системное программирование или программирование операционных систем - На самом деле если упороться то можно, но на практике никто так делать не будет. А тот кто будет - либо познал дзен либо Марсианин. Для таких задач обычно берут C, C++, Rust или в крайнем случае голый Ассемблер.</p>\n<p style=\"font-size: 16px;\">Ну вот представьте себе, что вам следует написать прошивку для микроконтроллера esp8266,  и просто чтобы она работала, вам нужно каким-то образом сперва вшить в ПЗУ микроконтроллера Python интерпретатор, так как без него никакие вызовы не возможны. Python это оверхед для этой задачи и его высокий уровень абстракции от железа в этой задачи не приемлим.</p>\n<p style=\"font-size: 16px;\">А как же MicroPython спросите вы?! Во первых <a href=\"https://docs.micropython.org/en/latest/genrst/index.html\">Python и MicroPython далеко не одно и тоже</a>. Это сильно урезанная версия с очень маленькой STD. Во вторых я думаю его разрабатывали не идиоты и наверняка <a href=\"https://docs.micropython.org/en/latest/develop/gettingstarted.html#compile-and-build-the-code\">под капотом MicroPython преобразуется в С код</a>. Но это не точно.</p>\n</li>\n</ul>\n<hr />\n<h4>Что такое PYTHONPATH?</h4>\n<p style=\"font-size: 16px;\">PYTHONPATH — это переменная окружения, которая используется для включения дополнительных каталогов при импорте модуля/пакета. Каждый раз, когда модуль/пакет импортируется, PYTHONPATH используется для проверки наличия добавляемых модулей в существующих каталогах. Обычно интерпретатор использует PYTHONPATH, чтобы определить, какой модуль загрузить.</p>\n<hr />\n<h4>Чувствителен ли Python к регистру?</h4>\n<p style=\"font-size: 16px;\">Язык программирования считается чувствительным к регистру, если он различает такие идентификаторы, как «myname» и «Myname». Проще говоря, он заботится, являются ли символы строчными или прописными.\r\nДавайте посмотрим на пример:</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #f8f8f2\">myname</span><span style=\"color: #f92672\">=</span><span style=\"color: #e6db74\">&quot;John&quot;</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #f8f8f2\">Myname</span>\n<span style=\"color: #f8f8f2\">Traceback</span> <span style=\"color: #f8f8f2\">(most</span> <span style=\"color: #f8f8f2\">recent</span> <span style=\"color: #f8f8f2\">call</span> <span style=\"color: #f8f8f2\">last):</span>\n  <span style=\"color: #f8f8f2\">File</span> <span style=\"color: #e6db74\">&quot;&quot;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #f8f8f2\">line</span> <span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #f92672\">in</span> \n    <span style=\"color: #f8f8f2\">Myname</span>\n<span style=\"color: #a6e22e\">NameError</span><span style=\"color: #f8f8f2\">:</span> <span style=\"color: #f8f8f2\">name</span> <span style=\"color: #e6db74\">&#39;Myname&#39;</span> <span style=\"color: #f92672\">is</span> <span style=\"color: #f92672\">not</span> <span style=\"color: #f8f8f2\">defined</span>\n</pre></div>\n\n<p style=\"font-size: 16px;\">Возникновение ошибки NameError означает, что Python чувствителен к регистру.</p>\n<hr />\n<h4>Объясните использование функций <code>help()</code> и <code>dir()</code>.</h4>\n<p style=\"font-size: 16px;\">В Python функция <code>help()</code> используется для отображения документации по модулям, классам, функциям, ключевым словам и так далее. Если <code>help()</code> не получает параметров, она запускает интерактивную справочную утилиту на консоли.</p>\n<p style=\"font-size: 16px;\">Функция <code>dir()</code> возвращает допустимый список атрибутов и методов объекта, к которому она вызывается. Поскольку функция предназначена для получения наиболее релевантных данных (вместо отображения полной информации), она ведет себя по-разному с разными объектами:</p>\n<ul>\n<li>Для модулей/библиотек функция <code>dir()</code> возвращает список всех атрибутов, содержащихся в этом модуле.</li>\n<li>Для объектов класса <code>dir()</code> вернет список всех допустимых атрибутов и базовых атрибутов.</li>\n<li>Когда ей не передаются никакие параметры, функция <code>dir()</code> возвращает список атрибутов в текущей области видимости.</li>\n</ul>\n<hr />\n<h4>Что такое модули Python?</h4>\n<p style=\"font-size: 16px;\">Назовите некоторые наиболее часто используемые встроенные модули в Python?</p>\n<p style=\"font-size: 16px;\">Модули Python — это файлы, содержащие код на Python, который представляет собой либо функциональные классы, либо переменные. Модули являются файлами Python с расширением .py. Они могут включать в себя набор функций, классов или переменных, которые определены и реализованы. Вы можете импортировать и инициализировать модуль с помощью инструкции <code>import</code>. Изучив руководство по Python, вы можете узнать больше о модулях в Python.</p>\n<p style=\"font-size: 16px;\">Вот некоторые из наиболее часто используемых встроенных модулей в Python:</p>\n<ul>\n<li>os</li>\n<li>sys</li>\n<li>math</li>\n<li>random</li>\n<li>datetime</li>\n<li>JSON</li>\n</ul>\n<p style=\"font-size: 16px;\">Так же модулем Python считается папка, в которой существует файл <code>__init__.py</code>.</p>\n<p style=\"font-size: 16px;\">Таким образом имея класс <code>А</code> находящийся в модуле <code>main.py</code> , можно импортировать его из папки в которой находится модуль <code>main.py</code>, если в этой папке есть файл <code>__init__.py</code> внутри которого проимпортирован класс <code>А</code></p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #e6db74\">&quot;&quot;&quot;</span>\n<span style=\"color: #e6db74\">Представим такую структуру:</span>\n<span style=\"color: #e6db74\">- test.py</span>\n<span style=\"color: #e6db74\">mymodule/</span>\n<span style=\"color: #e6db74\">\t- __init__.py</span>\n<span style=\"color: #e6db74\">\t- main.py</span>\n<span style=\"color: #e6db74\">&quot;&quot;&quot;</span>\n\n<span style=\"color: #75715e\"># mymodule/main.py</span>\n<span style=\"color: #66d9ef\">class</span> <span style=\"color: #a6e22e\">A</span><span style=\"color: #f8f8f2\">:</span>\n  <span style=\"color: #f92672\">...</span>\n  \n<span style=\"color: #75715e\"># mymodule/__init__.py</span>\n<span style=\"color: #f92672\">from</span> <span style=\"color: #f8f8f2\">main</span> <span style=\"color: #f92672\">import</span> <span style=\"color: #f8f8f2\">A</span>\n\n<span style=\"color: #75715e\"># test.py</span>\n<span style=\"color: #f92672\">from</span> <span style=\"color: #f8f8f2\">mymodule</span> <span style=\"color: #f92672\">import</span> <span style=\"color: #f8f8f2\">A</span>\n</pre></div>\n\n<p style=\"font-size: 16px;\">Таким образом класс <code>A</code> будет находиться в пространстве имён модуля <code>mymodule</code> , что абсолютно логично.</p>\n<hr />\n<h4>Объясните, что означает <code>self</code> в Python.</h4>\n<p style=\"font-size: 16px;\">В Python «self» — это ключевое слово, применяемое для определения экземпляра или объекта класса. В отличие от Java, где <code>self</code> не является обязательным, в Python он используется как первый параметр. Self помогает отличать методы и атрибуты класса от его локальных переменных.</p>\n<p style=\"font-size: 16px;\">Переменная <code>self</code> в методе <code>__init__</code> ссылается к созданному объекту или экземпляру, тогда как в других методах она указывает на объект или экземпляр, метод которого был вызван.</p>\n<hr />\n<h4>Как выполняется интерполяция строк?</h4>\n<p style=\"font-size: 16px;\">Без импорта класса <code>Template</code> есть три способа интерполяции строк:</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f8f8f2\">name</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #e6db74\">&#39;Chris&#39;</span>\n\n<span style=\"color: #75715e\"># 1. f strings</span>\n<span style=\"color: #f8f8f2\">print(</span><span style=\"color: #e6db74\">f&#39;Hello {</span><span style=\"color: #f8f8f2\">name</span><span style=\"color: #e6db74\">}&#39;</span><span style=\"color: #f8f8f2\">)</span>\n\n<span style=\"color: #75715e\"># 2. % operator</span>\n<span style=\"color: #f8f8f2\">print(</span><span style=\"color: #e6db74\">&#39;Hey %s %s&#39;</span> <span style=\"color: #f92672\">%</span> <span style=\"color: #f8f8f2\">(name,</span> <span style=\"color: #f8f8f2\">name))</span>\n\n<span style=\"color: #75715e\"># 3. format</span>\n<span style=\"color: #f8f8f2\">print(</span><span style=\"color: #e6db74\">&quot;My name is {}&quot;</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">format((name)))</span>\n</pre></div>\n\n<hr />\n<h4>В чем разница между “is” и “==”?</h4>\n<ul>\n<li><code>==</code> сравнивает значения</li>\n<li><code>is</code> сравнивает по ссылке на значения</li>\n</ul>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f8f8f2\">a</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">,</span><span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">,</span><span style=\"color: #ae81ff\">3</span><span style=\"color: #f8f8f2\">]</span>\n<span style=\"color: #f8f8f2\">b</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">a</span>\n<span style=\"color: #f8f8f2\">c</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">,</span><span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">,</span><span style=\"color: #ae81ff\">3</span><span style=\"color: #f8f8f2\">]</span>\n\n<span style=\"color: #f8f8f2\">a</span> <span style=\"color: #f92672\">==</span> <span style=\"color: #f8f8f2\">b</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #66d9ef\">True</span>\n<span style=\"color: #f8f8f2\">a</span> <span style=\"color: #f92672\">==</span> <span style=\"color: #f8f8f2\">c</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #66d9ef\">True</span>\n\n<span style=\"color: #f8f8f2\">a</span> <span style=\"color: #f92672\">is</span> <span style=\"color: #f8f8f2\">b</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #66d9ef\">True</span>\n<span style=\"color: #f8f8f2\">a</span> <span style=\"color: #f92672\">is</span> <span style=\"color: #f8f8f2\">c</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #66d9ef\">False</span>\n\n<span style=\"color: #f8f8f2\">id(a)</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #ae81ff\">4327623040</span>\n<span style=\"color: #f8f8f2\">id(b)</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #ae81ff\">4327623040</span>\n<span style=\"color: #f8f8f2\">id(c)</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #ae81ff\">4327629184</span>\n\n<span style=\"color: #f8f8f2\">id(a)</span> <span style=\"color: #f92672\">==</span> <span style=\"color: #f8f8f2\">id(b)</span> <span style=\"color: #f92672\">==</span> <span style=\"color: #f8f8f2\">id(c)</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #66d9ef\">False</span>\n</pre></div>\n\n<p style=\"font-size: 16px;\"><code>a</code> и <code>b</code> имеют одну и ту же ссылку на ячейку виртуальной памяти, соответственно их значения равны, а если быть точнее, это одно и тоже значение. <code>b</code> не является копией  <code>a</code> . Чтобы было проще понять, представьте, что операция <code>b = a</code> копируюет указатель из <code>a</code> в <code>b</code> . Только теперь уберите из этого выражения &quot;указатель&quot;, поскольку в Python их нет. Точнее они есть, но это другая тема. Они есть глубоко под койотом. Но в целом принято говорить, что в Python указательей нет.</p>\n<blockquote>\n<h4>Важно</h4>\n<p style=\"font-size: 16px;\">Если хотите глубже ознакомиться с этой темой, вот <a href=\"https://realpython.com/pointers-in-python/\">полезное чтиво</a>, <a href=\"https://stackoverflow.com/questions/3106689/pointers-in-python\">и еще одно</a>. Если коротко - Python не имеет прямого управления оперативной памятью. Операционная система выделяет ему память, которой он пользуется как захочет. Эта память, которой распоряжается Python называется виртуальной и в контексте виртуальной памяти, у Python есть своего рода аллокация, благодаря которой все объекты уровня Python имеют свои идентификаторы виртуальной памяти. Идентификатор любого объекта уровня Python можно узнать через <code>built-in</code> вызов <code>id()</code> . Пока что, это всё что вам нужно знать. За углублёнными знаниями обратитесь по ссылкам выше. Однако идентификаторы виртуальной памяти не являются указателями в привычном понимании.</p>\n</blockquote>\n<hr />\n<h4>В чем разница между методами экземпляра, класса и статическими методами в Python?</h4>\n<ul>\n<li>\n<p style=\"font-size: 16px;\"><strong>Методы экземпляра</strong> (instance Method): принимают параметр <code>self</code> и относятся к определенному экземпляру класса.</p>\n</li>\n<li>\n<p style=\"font-size: 16px;\"><strong>Статические методы</strong> (static method): используют декоратор <code>@staticmethod</code>, не связаны с конкретным экземпляром и являются автономными (атрибуты класса или экземпляра не изменяются).</p>\n</li>\n<li>\n<p style=\"font-size: 16px;\"><strong>Методы класса</strong> (class method): принимают параметр cls, можно изменить сам класс. Декларируется декоратором <code>@classmethod</code>.</p>\n</li>\n</ul>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #66d9ef\">class</span> <span style=\"color: #a6e22e\">CoffeeShop</span><span style=\"color: #f8f8f2\">:</span>\n    <span style=\"color: #f8f8f2\">specialty</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #e6db74\">&#39;espresso&#39;</span>\n    \n    <span style=\"color: #66d9ef\">def</span> <span style=\"color: #a6e22e\">__init__</span><span style=\"color: #f8f8f2\">(self,</span> <span style=\"color: #f8f8f2\">coffee_price):</span>\n        <span style=\"color: #f8f8f2\">self</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">coffee_price</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">coffee_price</span>\n    \n    <span style=\"color: #75715e\"># instance method</span>\n    <span style=\"color: #66d9ef\">def</span> <span style=\"color: #a6e22e\">make_coffee</span><span style=\"color: #f8f8f2\">(self):</span> <span style=\"color: #f92672\">...</span>\n    \n    <span style=\"color: #75715e\"># static method    </span>\n    <span style=\"color: #a6e22e\">@staticmethod</span>\n    <span style=\"color: #66d9ef\">def</span> <span style=\"color: #a6e22e\">check_weather</span><span style=\"color: #f8f8f2\">():</span> <span style=\"color: #f92672\">...</span>\n\n    <span style=\"color: #75715e\"># class method</span>\n    <span style=\"color: #a6e22e\">@classmethod</span>\n    <span style=\"color: #66d9ef\">def</span> <span style=\"color: #a6e22e\">change_specialty</span><span style=\"color: #f8f8f2\">(cls,</span> <span style=\"color: #f8f8f2\">specialty):</span> <span style=\"color: #f92672\">...</span>\n</pre></div>\n\n<hr />\n<h4>В чем разница между func и func()?</h4>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #66d9ef\">def</span> <span style=\"color: #a6e22e\">func</span><span style=\"color: #f8f8f2\">():</span>\n    <span style=\"color: #f8f8f2\">print(</span><span style=\"color: #e6db74\">&quot;Im a function&quot;</span><span style=\"color: #f8f8f2\">)</span>\n    \n<span style=\"color: #f8f8f2\">func</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #f92672\">&lt;</span><span style=\"color: #f8f8f2\">function</span> <span style=\"color: #f8f8f2\">__main__</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">func</span><span style=\"color: #f92672\">&gt;</span>\n<span style=\"color: #f8f8f2\">func()</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #e6db74\">&quot;Im a function&quot;</span>\n</pre></div>\n\n<ul>\n<li><code>func</code> это объект функции. Хранится в памяти как <code>&lt;function __main__.func&gt;</code></li>\n<li><code>func()</code> это вызов функции. Хранится в памяти как возвращаемое значение вызванной функции. А именно <code>&quot;Im a function&quot;</code>.</li>\n</ul>\n<hr />\n<h4>Функция map</h4>\n<p style=\"font-size: 16px;\">Она возвращает объект (итератор), который перебирает значения, применяя функцию к каждому элементу. В случае необходимости объект можно преобразовать в список:</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #66d9ef\">def</span> <span style=\"color: #a6e22e\">add_three</span><span style=\"color: #f8f8f2\">(x):</span>\n    <span style=\"color: #66d9ef\">return</span> <span style=\"color: #f8f8f2\">x</span> <span style=\"color: #f92672\">+</span> <span style=\"color: #ae81ff\">3</span>\n  \n<span style=\"color: #f8f8f2\">li</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">3</span><span style=\"color: #f8f8f2\">]</span>\n<span style=\"color: #f8f8f2\">list(map(add_three,</span> <span style=\"color: #f8f8f2\">li))</span>\n<span style=\"color: #75715e\">#=&gt; [4, 5, 6]</span>\n</pre></div>\n\n<hr />\n<h4>Функция reduce</h4>\n<p style=\"font-size: 16px;\">reduce принимает функцию и последовательность — и проходит по этой последовательности. На каждой итерации в функцию передаются как текущий элемент, так и выходные данные предыдущего элемента. В конце концов, возвращается одно значение:</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f92672\">from</span> <span style=\"color: #f8f8f2\">functools</span> <span style=\"color: #f92672\">import</span> <span style=\"color: #f8f8f2\">reduce</span>\n\n<span style=\"color: #66d9ef\">def</span> <span style=\"color: #a6e22e\">add</span><span style=\"color: #f8f8f2\">(x,</span> <span style=\"color: #f8f8f2\">y):</span>\n    <span style=\"color: #66d9ef\">return</span> <span style=\"color: #f8f8f2\">x</span> <span style=\"color: #f92672\">+</span> <span style=\"color: #f8f8f2\">y</span>\n  \n<span style=\"color: #f8f8f2\">array</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">3</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">5</span><span style=\"color: #f8f8f2\">]</span>\n\n<span style=\"color: #f8f8f2\">reduce(add,</span> <span style=\"color: #f8f8f2\">array)</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #ae81ff\">11</span>\n</pre></div>\n\n<hr />\n<h4>Функция enumerate</h4>\n<p style=\"font-size: 16px;\"><code>enumerate()</code> позволяет отслеживать индекс при итерации последовательности. Это более нативный способ, чем определение и приращение целого числа, представляющего индекс:</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f8f8f2\">array</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">3</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">4</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">5</span><span style=\"color: #f8f8f2\">]</span>\n<span style=\"color: #66d9ef\">for</span> <span style=\"color: #f8f8f2\">index,</span> <span style=\"color: #f8f8f2\">element</span> <span style=\"color: #f92672\">in</span> <span style=\"color: #f8f8f2\">enumerate(array):</span>\n  <span style=\"color: #f8f8f2\">print(index,</span> <span style=\"color: #f8f8f2\">element)</span>\n  \n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #ae81ff\">0</span> <span style=\"color: #ae81ff\">1</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #ae81ff\">1</span> <span style=\"color: #ae81ff\">2</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #ae81ff\">2</span> <span style=\"color: #ae81ff\">3</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #ae81ff\">3</span> <span style=\"color: #ae81ff\">4</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span>\t<span style=\"color: #ae81ff\">4</span> <span style=\"color: #ae81ff\">5</span>\n</pre></div>\n\n<hr />\n<h4>Функция filter</h4>\n<p style=\"font-size: 16px;\">Функция делает буквально то, о чем говорит ее название: она фильтрует элементы в последовательности.</p>\n<p style=\"font-size: 16px;\">Каждый элемент передается функции, которая включает его в последовательность, если по условию получает True, и отбрасывает в случае False:</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #66d9ef\">def</span> <span style=\"color: #a6e22e\">add</span><span style=\"color: #f8f8f2\">(x):</span>\n    <span style=\"color: #66d9ef\">if</span> <span style=\"color: #f8f8f2\">x</span> <span style=\"color: #f92672\">%</span> <span style=\"color: #ae81ff\">2</span> <span style=\"color: #f92672\">==</span> <span style=\"color: #ae81ff\">0</span><span style=\"color: #f8f8f2\">:</span>\n        <span style=\"color: #66d9ef\">return</span> <span style=\"color: #66d9ef\">True</span>        \n    <span style=\"color: #66d9ef\">else</span><span style=\"color: #f8f8f2\">:</span>\n        <span style=\"color: #66d9ef\">return</span> <span style=\"color: #66d9ef\">False</span>\n\n<span style=\"color: #f8f8f2\">li</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">3</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">4</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">5</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">6</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">7</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">8</span><span style=\"color: #f8f8f2\">]</span>\n\n<span style=\"color: #f8f8f2\">[i</span> <span style=\"color: #66d9ef\">for</span> <span style=\"color: #f8f8f2\">i</span> <span style=\"color: #f92672\">in</span> <span style=\"color: #f8f8f2\">filter(add,</span> <span style=\"color: #f8f8f2\">li)]</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">4</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">6</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">8</span><span style=\"color: #f8f8f2\">]</span>\n</pre></div>\n\n<p style=\"font-size: 16px;\">Обратите внимание, как удалены все элементы, которые не соответствуют условию <code>x % 2 == 0</code></p>\n<hr />\n<h4>Переменные в Python передаются по ссылке или по значению?</h4>\n<p style=\"font-size: 16px;\">Будьте готовы спуститься в кроличью нору семантики, если загуглите этот вопрос и прочтете несколько первых страниц.</p>\n<p style=\"font-size: 16px;\">В общем, все имена передаются по ссылке, но в некоторых ячейках памяти хранятся объекты, а в других — указатели на другие ячейки памяти.</p>\n<p style=\"font-size: 16px;\">Давайте посмотрим, как это работает со строками. Создадим экземпляр имени и объекта, на который указывают другие имена. Затем удалим первое:</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f8f8f2\">x</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #e6db74\">&#39;some text&#39;</span>\n<span style=\"color: #f8f8f2\">y</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">x</span>\n<span style=\"color: #f8f8f2\">x</span> <span style=\"color: #f92672\">is</span> <span style=\"color: #f8f8f2\">y</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #66d9ef\">True</span>\n\n<span style=\"color: #66d9ef\">del</span> <span style=\"color: #f8f8f2\">x</span> <span style=\"color: #75715e\"># удаляем имя &#39;x&#39; , но не объект в памяти</span>\n\n<span style=\"color: #f8f8f2\">z</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">y</span>\n<span style=\"color: #f8f8f2\">y</span> <span style=\"color: #f92672\">is</span> <span style=\"color: #f8f8f2\">z</span> \n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #66d9ef\">True</span>\n</pre></div>\n\n<p style=\"font-size: 16px;\">Мы видим, что все имена указывают на один и тот же объект в памяти, который остался нетронутым после операции удаления имени del x.</p>\n<p style=\"font-size: 16px;\">Вот еще один интересный пример с функцией:</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f8f8f2\">name</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #e6db74\">&#39;text&#39;</span>\n\n<span style=\"color: #66d9ef\">def</span> <span style=\"color: #a6e22e\">add_chars</span><span style=\"color: #f8f8f2\">(str1):</span>\n    <span style=\"color: #f8f8f2\">print(id(str1))</span>\n    <span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #ae81ff\">4353702856</span>\n    <span style=\"color: #f8f8f2\">print(id(name))</span>\n    <span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #ae81ff\">4353702856</span>\n    \n    <span style=\"color: #75715e\"># новое имя, тот же объект</span>\n    <span style=\"color: #f8f8f2\">str2</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">str1</span>\n    \n    <span style=\"color: #75715e\"># создаем новое имя (не отличается от предыдущего) и новый объект</span>\n    <span style=\"color: #f8f8f2\">str1</span> <span style=\"color: #f92672\">+=</span> <span style=\"color: #e6db74\">&#39;s&#39;</span> \n    <span style=\"color: #f8f8f2\">print(id(str1))</span>\n    <span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #ae81ff\">4387143328</span>\n    \n    <span style=\"color: #75715e\"># объект не изменился</span>\n    <span style=\"color: #f8f8f2\">print(id(str2))</span>\n    <span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #ae81ff\">4353702856</span>\n        \n<span style=\"color: #f8f8f2\">add_chars(name)</span>\n<span style=\"color: #f8f8f2\">print(name)</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #e6db74\">&quot;text&quot;</span>\n</pre></div>\n\n<p style=\"font-size: 16px;\">Обратите внимание, что добавление буквы s в строку внутри функции создает новое имя — и новый объект тоже. Даже если у нового объекта то же самое имя, что и у существующего.</p>\n<hr />\n<h4>Как развернуть список?</h4>\n<p style=\"font-size: 16px;\">Обратите внимание, что reverse() вызывается в списке и изменяет его. Сама функция не возвращает измененный список:</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f8f8f2\">li</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #e6db74\">&#39;a&#39;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;b&#39;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;c&#39;</span><span style=\"color: #f8f8f2\">]</span>\n\n<span style=\"color: #f8f8f2\">print(li)</span>\n<span style=\"color: #f8f8f2\">li</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">reverse()</span>\n<span style=\"color: #f8f8f2\">print(li)</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #e6db74\">&#39;a&#39;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;b&#39;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;c&#39;</span><span style=\"color: #f8f8f2\">]</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #e6db74\">&#39;c&#39;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;b&#39;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;a&#39;</span><span style=\"color: #f8f8f2\">]</span>\n</pre></div>\n\n<p style=\"font-size: 16px;\">Есть еще один хитрый приём:</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f8f8f2\">[</span><span style=\"color: #e6db74\">&#39;a&#39;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;b&#39;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;c&#39;</span><span style=\"color: #f8f8f2\">][::</span><span style=\"color: #f92672\">-</span><span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">]</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #e6db74\">&#39;c&#39;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;b&#39;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;a&#39;</span><span style=\"color: #f8f8f2\">]</span>\n</pre></div>\n\n<hr />\n<h4>Как объединить списки в Python?</h4>\n<p style=\"font-size: 16px;\">Списки объединяются при сложении. Обратите внимание, что с <a href=\"https://pythonist.ru/massiv-v-python/\">массивами</a> так не получается:</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f8f8f2\">a</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">,</span><span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">]</span>\n<span style=\"color: #f8f8f2\">b</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #ae81ff\">3</span><span style=\"color: #f8f8f2\">,</span><span style=\"color: #ae81ff\">4</span><span style=\"color: #f8f8f2\">,</span><span style=\"color: #ae81ff\">5</span><span style=\"color: #f8f8f2\">]</span>\n\n<span style=\"color: #f8f8f2\">a</span> <span style=\"color: #f92672\">+</span> <span style=\"color: #f8f8f2\">b</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">3</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">4</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">5</span><span style=\"color: #f8f8f2\">]</span>\n</pre></div>\n\n<hr />\n<h4>Как объединить два массива?</h4>\n<p style=\"font-size: 16px;\">Помните, что массивы — это не списки. Это библиотека Numpy и здесь работает линейная алгебра. Для объединения массивов нужно использовать соответствующую функцию Numpy:</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f92672\">import</span> <span style=\"color: #f8f8f2\">numpy</span> <span style=\"color: #66d9ef\">as</span> <span style=\"color: #f8f8f2\">np</span>\n\n<span style=\"color: #f8f8f2\">a</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">np</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">array([</span><span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">,</span><span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">,</span><span style=\"color: #ae81ff\">3</span><span style=\"color: #f8f8f2\">])</span>\n<span style=\"color: #f8f8f2\">b</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">np</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">array([</span><span style=\"color: #ae81ff\">4</span><span style=\"color: #f8f8f2\">,</span><span style=\"color: #ae81ff\">5</span><span style=\"color: #f8f8f2\">,</span><span style=\"color: #ae81ff\">6</span><span style=\"color: #f8f8f2\">])</span>\n\n<span style=\"color: #f8f8f2\">np</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">concatenate((a,b))</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #f8f8f2\">array([</span><span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">3</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">4</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">5</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">6</span><span style=\"color: #f8f8f2\">])</span>\n</pre></div>\n\n<p style=\"font-size: 16px;\">Объединение базовых массивов схоже с объединением списков:</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f92672\">import</span> <span style=\"color: #f8f8f2\">array</span>\n\n<span style=\"color: #f8f8f2\">a</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">array</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">array(</span><span style=\"color: #e6db74\">&#39;i&#39;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">,</span><span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">,</span><span style=\"color: #ae81ff\">3</span><span style=\"color: #f8f8f2\">])</span>\n<span style=\"color: #f8f8f2\">b</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">array</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">array(</span><span style=\"color: #e6db74\">&#39;i&#39;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #ae81ff\">4</span><span style=\"color: #f8f8f2\">,</span><span style=\"color: #ae81ff\">5</span><span style=\"color: #f8f8f2\">,</span><span style=\"color: #ae81ff\">6</span><span style=\"color: #f8f8f2\">])</span>\n<span style=\"color: #f8f8f2\">a</span> <span style=\"color: #f92672\">+</span> <span style=\"color: #f8f8f2\">b</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #f8f8f2\">array(</span><span style=\"color: #e6db74\">&#39;i&#39;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">3</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">4</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">5</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">6</span><span style=\"color: #f8f8f2\">])</span>\n</pre></div>\n\n<hr />\n<h4>Назовите изменяемые и неизменяемые объекты</h4>\n<p style=\"font-size: 16px;\">Неизменяемость означает, что состояние нельзя изменить после создания. Примеры: int, float, bool, string, tuple, frozenset.</p>\n<p style=\"font-size: 16px;\">Состояние изменяемых объектов можно изменить. Примеры: list, dict и set.</p>\n<hr />\n<h4>Как округлить число до трех десятичных знаков?</h4>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #75715e\"># 1 способ</span>\n<span style=\"color: #f8f8f2\">a</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #ae81ff\">5.12345</span>\n<span style=\"color: #f8f8f2\">round(a,</span> <span style=\"color: #ae81ff\">3</span><span style=\"color: #f8f8f2\">)</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #ae81ff\">5.123</span>\n\n<span style=\"color: #75715e\"># 2 способ</span>\n<span style=\"color: #e6db74\">f&quot;{</span><span style=\"color: #f8f8f2\">a</span><span style=\"color: #e6db74\">:.3f}&quot;</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #e6db74\">&#39;5.123&#39;</span>\n<span style=\"color: #f8f8f2\">float(</span><span style=\"color: #e6db74\">f&quot;{</span><span style=\"color: #f8f8f2\">a</span><span style=\"color: #e6db74\">:.3f}&quot;</span><span style=\"color: #f8f8f2\">)</span> <span style=\"color: #75715e\"># тот же кейс, но с приведением к типу float</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #ae81ff\">5.123</span>\n</pre></div>\n\n<hr />\n<h4>Как разбить список?</h4>\n<p style=\"font-size: 16px;\">Ответ - слайсом (срезом)</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f8f8f2\">a</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #ae81ff\">0</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">3</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">4</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">5</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">6</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">7</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">8</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">9</span><span style=\"color: #f8f8f2\">]</span>\n\n<span style=\"color: #f8f8f2\">a[:</span><span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">]</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #ae81ff\">0</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">]</span>\n\n<span style=\"color: #f8f8f2\">a[</span><span style=\"color: #ae81ff\">8</span><span style=\"color: #f8f8f2\">:]</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #ae81ff\">8</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">9</span><span style=\"color: #f8f8f2\">]</span>\n\n<span style=\"color: #f8f8f2\">a[</span><span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">:</span><span style=\"color: #ae81ff\">8</span><span style=\"color: #f8f8f2\">]</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">3</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">4</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">5</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">6</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">7</span><span style=\"color: #f8f8f2\">]</span>\n\n<span style=\"color: #f8f8f2\">a[</span><span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">:</span><span style=\"color: #ae81ff\">8</span><span style=\"color: #f8f8f2\">:</span><span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">]</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">4</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">6</span><span style=\"color: #f8f8f2\">]</span>\n</pre></div>\n\n<hr />\n<h4>В чем разница между <code>copy</code> и <code>deepcopy</code> копиями?</h4>\n<ul>\n<li><code>copy</code> - копирует элементы первого уровня игнорируя вложенности. Поведение схоже с поиском в ширину.</li>\n<li><code>deepcopy</code> - копирует элементы всех уровней вложенности,  Поведение схоже с поиском в глубину.</li>\n</ul>\n<hr />\n<h4>Какая разница между словарями и JSON?</h4>\n<p style=\"font-size: 16px;\">Dict (словарь) — это тип данных Python, представляющий собой набор индексированных, но неупорядоченных пар ключ-значение.</p>\n<p style=\"font-size: 16px;\">JSON — строка, которая следует заданному формату и предназначена для передачи данных. JSON имеет схожую сигнатуру со словарем, и на уровне Python он неявно приводится к Dict, так что мы не замечаем разницы работая с json ответом например запроса из библиотеки <code>request</code>. Однако это не значит, что разницы нет. Она просто инкапсулирована от глаз.</p>\n<p style=\"font-size: 16px;\">Словарь в Python построен на такой структуре данных как Хеш таблица. В то время как JSON сам по себе представляет из себя строку и его назначение - передача данных на сетевом уровне. То есть если обобщить, JSON это набор байтов, который сам по себе не имеет ничего общего с типом данных Dict. Но внешне Dict и JSON очень похожи.</p>\n<hr />\n<h4>Какие ORM вы использовали в Python?</h4>\n<ul>\n<li>SQLAlchemy для Flask и других маленьких веб-серверов</li>\n<li>Tortoise ORM и GINO для FastAPI и других асинхронных фреймворков и веб-серверов</li>\n<li>Django ORM для Джанги (внезапно)</li>\n</ul>\n<p style=\"font-size: 16px;\">Технология ORM (object-relational mapping, объектно-реляционное отображение) связывает модели данных (обычно в приложении) с таблицами БД и упрощает транзакции с базой данных.</p>\n<hr />\n<h4>Как работают any() и all()?</h4>\n<p style=\"font-size: 16px;\"><code>any</code> возвращает True, если хоть один элемент в последовательности соответствует условию, то есть является истинным.</p>\n<p style=\"font-size: 16px;\"><code>all</code> возвращает True только в том случае, если условию соответствуют все элементы в последовательности.</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f8f8f2\">a</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #66d9ef\">False</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #66d9ef\">False</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #66d9ef\">False</span><span style=\"color: #f8f8f2\">]</span>\n<span style=\"color: #f8f8f2\">b</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #66d9ef\">True</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #66d9ef\">False</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #66d9ef\">False</span><span style=\"color: #f8f8f2\">]</span>\n<span style=\"color: #f8f8f2\">c</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #66d9ef\">True</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #66d9ef\">True</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #66d9ef\">True</span><span style=\"color: #f8f8f2\">]</span>\n\n<span style=\"color: #f8f8f2\">any(a)</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #66d9ef\">False</span>\n<span style=\"color: #f8f8f2\">any(b)</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #66d9ef\">True</span>\n<span style=\"color: #f8f8f2\">any(c)</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #66d9ef\">True</span>\n\n<span style=\"color: #f8f8f2\">all(a)</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #66d9ef\">False</span>\n<span style=\"color: #f8f8f2\">all(b)</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #66d9ef\">False</span>\n<span style=\"color: #f8f8f2\">all(c)</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #66d9ef\">True</span>\n</pre></div>\n\n<hr />\n<h4>Где быстрее поиск: в словарях или списках?</h4>\n<p style=\"font-size: 16px;\">Поиск значения в списке занимает O(n) времени, потому что нужно пройти весь список.</p>\n<p style=\"font-size: 16px;\">Поиск ключа в словаре занимает O(1) времени, потому что это хэш-таблица.</p>\n<p style=\"font-size: 16px;\">Разница во времени может быть огромной, если значений много, поэтому для производительности обычно рекомендуют словари. Но у них есть другие ограничения, такие как необходимость уникальных ключей.</p>\n<hr />\n<h4>В чем разница между модулем и пакетом?</h4>\n<p style=\"font-size: 16px;\">Модуль — это файл или набор файлов, которые импортируются вместе:</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f92672\">import</span> <span style=\"color: #f8f8f2\">sklearn</span>\n</pre></div>\n\n<p style=\"font-size: 16px;\">Пакет — это каталог с модулями:</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f92672\">from</span> <span style=\"color: #f8f8f2\">sklearn</span> <span style=\"color: #f92672\">import</span> <span style=\"color: #f8f8f2\">cross_validation</span>\n</pre></div>\n\n<p style=\"font-size: 16px;\">Таким образом, пакеты — это модули, но не все модули являются пакетами.</p>\n<hr />\n<h4>Как увеличить и уменьшить целое число в Python?</h4>\n<p style=\"font-size: 16px;\">Инкремент и декремент можно сделать с помощью += и -=:</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f8f8f2\">value</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #ae81ff\">5</span>\n\n<span style=\"color: #f8f8f2\">value</span> <span style=\"color: #f92672\">+=</span> <span style=\"color: #ae81ff\">1</span>\n<span style=\"color: #f8f8f2\">print(value)</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #ae81ff\">6</span>\n\n<span style=\"color: #f8f8f2\">value</span> <span style=\"color: #f92672\">-=</span> <span style=\"color: #ae81ff\">1</span>\n<span style=\"color: #f8f8f2\">value</span> <span style=\"color: #f92672\">-=</span> <span style=\"color: #ae81ff\">1</span>\n<span style=\"color: #f8f8f2\">print(value)</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #ae81ff\">4</span>\n</pre></div>\n\n<hr />\n<h4>Как вернуть двоичный код целого числа?</h4>\n<p style=\"font-size: 16px;\">Используйте функцию bin():</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f8f8f2\">bin(</span><span style=\"color: #ae81ff\">5</span><span style=\"color: #f8f8f2\">)</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #e6db74\">&#39;0b101&#39;</span>\n</pre></div>\n\n<hr />\n<h4>Как удалить из списка дубликаты?</h4>\n<p style=\"font-size: 16px;\">Это можно сделать путем преобразования списка в набор, а затем обратно в список:</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f8f8f2\">a</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">3</span><span style=\"color: #f8f8f2\">]</span>\n<span style=\"color: #f8f8f2\">a</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">list(set(a))</span>\n<span style=\"color: #f8f8f2\">print(a)</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">3</span><span style=\"color: #f8f8f2\">]</span>\n</pre></div>\n\n<p style=\"font-size: 16px;\">Еще один вариант, это использовать <a href=\"https://codechick.io/tutorials/dsa/dsa-hash-table\">Хеш-таблицу</a> с игнорированием дубликатов ключей. В Python для этого можно использовать тип <code>dict</code>, так как он построен по верх хеш таблицы. Но это вариант для замороченных и практического применения не имеет.</p>\n<hr />\n<h4>Как проверить, существует ли значение в списке?</h4>\n<p style=\"font-size: 16px;\">Используйте <code>in</code>:</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #e6db74\">&#39;a&#39;</span> <span style=\"color: #f92672\">in</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #e6db74\">&#39;a&#39;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;b&#39;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;c&#39;</span><span style=\"color: #f8f8f2\">]</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #66d9ef\">True</span>\n\n<span style=\"color: #e6db74\">&#39;a&#39;</span> <span style=\"color: #f92672\">in</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">3</span><span style=\"color: #f8f8f2\">]</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #66d9ef\">False</span>\n</pre></div>\n\n<hr />\n<h4>В чем разница между append и extend?</h4>\n<p style=\"font-size: 16px;\"><code>append</code> добавляет значения в список, а <code>extend</code> добавляет в список значения из другого списка:</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f8f8f2\">a</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">3</span><span style=\"color: #f8f8f2\">]</span>\n<span style=\"color: #f8f8f2\">b</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">3</span><span style=\"color: #f8f8f2\">]</span>\n\n<span style=\"color: #f8f8f2\">a</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">append(</span><span style=\"color: #ae81ff\">6</span><span style=\"color: #f8f8f2\">)</span>\n<span style=\"color: #f8f8f2\">print(a)</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">3</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">6</span><span style=\"color: #f8f8f2\">]</span>\n\n<span style=\"color: #f8f8f2\">b</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">extend([</span><span style=\"color: #ae81ff\">4</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">5</span><span style=\"color: #f8f8f2\">])</span>\n<span style=\"color: #f8f8f2\">print(b)</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">3</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">4</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">5</span><span style=\"color: #f8f8f2\">]</span>\n</pre></div>\n\n<hr />\n<h4>Как получить абсолютное значение целого числа?</h4>\n<p style=\"font-size: 16px;\">Это можно сделать с помощью <code>built-in</code> функции <code>abs()</code>:</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f8f8f2\">abs(</span><span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">)</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #ae81ff\">2</span>\n\n<span style=\"color: #f8f8f2\">abs(</span><span style=\"color: #f92672\">-</span><span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">)</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #ae81ff\">2</span>\n</pre></div>\n\n<hr />\n<h4>Как объединить два списка в список кортежей?</h4>\n<p style=\"font-size: 16px;\">Для объединения в список кортежей можно использовать функцию <code>zip</code>, причем не только двух, но трех и более списков.</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f8f8f2\">a</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #e6db74\">&#39;a&#39;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;b&#39;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;c&#39;</span><span style=\"color: #f8f8f2\">]</span>\n<span style=\"color: #f8f8f2\">b</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">3</span><span style=\"color: #f8f8f2\">]</span>\n\n<span style=\"color: #f8f8f2\">[(k,</span> <span style=\"color: #f8f8f2\">v)</span> <span style=\"color: #66d9ef\">for</span> <span style=\"color: #f8f8f2\">k,</span> <span style=\"color: #f8f8f2\">v</span> <span style=\"color: #f92672\">in</span> <span style=\"color: #f8f8f2\">zip(a,</span> <span style=\"color: #f8f8f2\">b)]</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #f8f8f2\">[(</span><span style=\"color: #e6db74\">&#39;a&#39;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">),</span> <span style=\"color: #f8f8f2\">(</span><span style=\"color: #e6db74\">&#39;b&#39;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">),</span> <span style=\"color: #f8f8f2\">(</span><span style=\"color: #e6db74\">&#39;c&#39;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">3</span><span style=\"color: #f8f8f2\">)]</span>\n</pre></div>\n\n<hr />\n<h4>Как отсортировать словарь по ключам, в алфавитном порядке?</h4>\n<p style=\"font-size: 16px;\">Канонично, «отсортировать» словарь нельзя, поскольку словари не поддерживают упорядочение, но можно вернуть отсортированный список кортежей с ключами и значениями и затем привести результат к словарю:</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f8f8f2\">d</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">{</span><span style=\"color: #e6db74\">&#39;c&#39;</span><span style=\"color: #f8f8f2\">:</span> <span style=\"color: #ae81ff\">3</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;d&#39;</span><span style=\"color: #f8f8f2\">:</span> <span style=\"color: #ae81ff\">4</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;b&#39;</span><span style=\"color: #f8f8f2\">:</span> <span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;a&#39;</span><span style=\"color: #f8f8f2\">:</span> <span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">}</span>\n\n<span style=\"color: #f8f8f2\">sorted(d</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">items())</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #f8f8f2\">[(</span><span style=\"color: #e6db74\">&#39;a&#39;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">),</span> <span style=\"color: #f8f8f2\">(</span><span style=\"color: #e6db74\">&#39;b&#39;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">),</span> <span style=\"color: #f8f8f2\">(</span><span style=\"color: #e6db74\">&#39;c&#39;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">3</span><span style=\"color: #f8f8f2\">),</span> <span style=\"color: #f8f8f2\">(</span><span style=\"color: #e6db74\">&#39;d&#39;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">4</span><span style=\"color: #f8f8f2\">)]</span>\n\n<span style=\"color: #f8f8f2\">dict(sorted(d</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">items()))</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #f8f8f2\">{</span><span style=\"color: #e6db74\">&#39;a&#39;</span><span style=\"color: #f8f8f2\">:</span> <span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;b&#39;</span><span style=\"color: #f8f8f2\">:</span> <span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;c&#39;</span><span style=\"color: #f8f8f2\">:</span> <span style=\"color: #ae81ff\">3</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;d&#39;</span><span style=\"color: #f8f8f2\">:</span> <span style=\"color: #ae81ff\">4</span><span style=\"color: #f8f8f2\">}</span>\n</pre></div>\n\n<p style=\"font-size: 16px;\">Еще можно воспользоваться <code>lambda</code> функцией как ключем сортировки если хочется вручную выбрать по какому признаку нужно &quot;отсортировать&quot; словарь, по ключу или по значению:</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #75715e\"># немного изменим d</span>\n<span style=\"color: #f8f8f2\">d</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">{</span><span style=\"color: #e6db74\">&#39;c&#39;</span><span style=\"color: #f8f8f2\">:</span> <span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;d&#39;</span><span style=\"color: #f8f8f2\">:</span> <span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;b&#39;</span><span style=\"color: #f8f8f2\">:</span> <span style=\"color: #ae81ff\">4</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;a&#39;</span><span style=\"color: #f8f8f2\">:</span> <span style=\"color: #ae81ff\">3</span><span style=\"color: #f8f8f2\">}</span>\n\n<span style=\"color: #75715e\"># сортируем по ключу</span>\n<span style=\"color: #f8f8f2\">dict(sorted(d</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">items(),</span> <span style=\"color: #f8f8f2\">key</span><span style=\"color: #f92672\">=</span><span style=\"color: #66d9ef\">lambda</span> <span style=\"color: #f8f8f2\">x:</span> <span style=\"color: #f8f8f2\">x[</span><span style=\"color: #ae81ff\">0</span><span style=\"color: #f8f8f2\">]))</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #f8f8f2\">{</span><span style=\"color: #e6db74\">&#39;a&#39;</span><span style=\"color: #f8f8f2\">:</span> <span style=\"color: #ae81ff\">3</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;b&#39;</span><span style=\"color: #f8f8f2\">:</span> <span style=\"color: #ae81ff\">4</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;c&#39;</span><span style=\"color: #f8f8f2\">:</span> <span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;d&#39;</span><span style=\"color: #f8f8f2\">:</span> <span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">}</span>\n\n<span style=\"color: #75715e\"># сортируем по значению </span>\n<span style=\"color: #f8f8f2\">dict(sorted(d</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">items(),</span> <span style=\"color: #f8f8f2\">key</span><span style=\"color: #f92672\">=</span><span style=\"color: #66d9ef\">lambda</span> <span style=\"color: #f8f8f2\">x:</span> <span style=\"color: #f8f8f2\">x[</span><span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">]))</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #f8f8f2\">{</span><span style=\"color: #e6db74\">&#39;c&#39;</span><span style=\"color: #f8f8f2\">:</span> <span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;d&#39;</span><span style=\"color: #f8f8f2\">:</span> <span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;a&#39;</span><span style=\"color: #f8f8f2\">:</span> <span style=\"color: #ae81ff\">3</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;b&#39;</span><span style=\"color: #f8f8f2\">:</span> <span style=\"color: #ae81ff\">4</span><span style=\"color: #f8f8f2\">}</span>\n</pre></div>\n\n<hr />\n<h4>Как реализуется наследование классов в Python?</h4>\n<p style=\"font-size: 16px;\">В приведенном ниже примере класс Audi является наследником Car. И вместе с этим наследуются методы экземпляра родительского класса:</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #66d9ef\">class</span> <span style=\"color: #a6e22e\">Car</span><span style=\"color: #f8f8f2\">():</span>\n    <span style=\"color: #66d9ef\">def</span> <span style=\"color: #a6e22e\">drive</span><span style=\"color: #f8f8f2\">(self):</span>\n        <span style=\"color: #f8f8f2\">print(</span><span style=\"color: #e6db74\">&#39;vroom&#39;</span><span style=\"color: #f8f8f2\">)</span>\n        \n<span style=\"color: #66d9ef\">class</span> <span style=\"color: #a6e22e\">Audi</span><span style=\"color: #f8f8f2\">(Car):</span>\n    <span style=\"color: #66d9ef\">pass</span>\n  \n<span style=\"color: #f8f8f2\">audi</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">Audi()</span>\n<span style=\"color: #f8f8f2\">audi</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">drive()</span>\n</pre></div>\n\n<hr />\n<h4>Как удалить все пробелы из строки?</h4>\n<p style=\"font-size: 16px;\">Можно разделить строку в местах пробелов, а затем снова соединить без пробелов:</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f8f8f2\">s</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #e6db74\">&#39;A string with white space&#39;</span>\n\n<span style=\"color: #e6db74\">&#39;&#39;</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">join(s</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">split())</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;&gt;</span> <span style=\"color: #e6db74\">&#39;Astringwithwhitespace&#39;</span>\n</pre></div>\n\n<p style=\"font-size: 16px;\">Естьболее каноничный способ замены, который следует духу Python, что «явное лучше, чем неявное». Он также быстрее работает, потому что здесь не создается новый объект списка:</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f8f8f2\">s</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #e6db74\">&#39;A string with white space&#39;</span>\n<span style=\"color: #f8f8f2\">s</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">replace(</span><span style=\"color: #e6db74\">&#39; &#39;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;&#39;</span><span style=\"color: #f8f8f2\">)</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #e6db74\">&#39;Astringwithwhitespace&#39;</span>\n</pre></div>\n\n<hr />\n<h4>В чем разница между pass, continue и break?</h4>\n<p style=\"font-size: 16px;\">Заглушка <code>pass</code> означает «ничего не делать». Обычно мы используем эту функцию, потому что Python не позволяет создавать класс, функцию или оператор <code>if</code> без кода внутри.</p>\n<p style=\"font-size: 16px;\">В приведенном ниже примере вылетит ошибка, если внутри i &gt; 3 не будет кода, поэтому мы используем <code>pass</code>:</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f8f8f2\">a</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">3</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">4</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">5</span><span style=\"color: #f8f8f2\">]</span>\n<span style=\"color: #66d9ef\">for</span> <span style=\"color: #f8f8f2\">i</span> <span style=\"color: #f92672\">in</span> <span style=\"color: #f8f8f2\">a:</span>\n    <span style=\"color: #66d9ef\">if</span> <span style=\"color: #f8f8f2\">i</span> <span style=\"color: #f92672\">&gt;</span> <span style=\"color: #ae81ff\">3</span><span style=\"color: #f8f8f2\">:</span>\n        <span style=\"color: #66d9ef\">pass</span>\n    <span style=\"color: #f8f8f2\">print(i)</span>\n    \n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #ae81ff\">1</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #ae81ff\">2</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #ae81ff\">3</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #ae81ff\">4</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #ae81ff\">5</span>\n</pre></div>\n\n<p style=\"font-size: 16px;\"><code>continue</code> отправляет вас к следующему элементу в цикле, останавливая выполнение для текущего элемента. Таким образом, <code>print(i)</code> никогда не получает значения <code>i</code> если оно меньше чем 3:</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f8f8f2\">a</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">3</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">4</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">5</span><span style=\"color: #f8f8f2\">]</span>\n<span style=\"color: #66d9ef\">for</span> <span style=\"color: #f8f8f2\">i</span> <span style=\"color: #f92672\">in</span> <span style=\"color: #f8f8f2\">a:</span>\n    <span style=\"color: #66d9ef\">if</span> <span style=\"color: #f8f8f2\">i</span> <span style=\"color: #f92672\">&lt;</span> <span style=\"color: #ae81ff\">3</span><span style=\"color: #f8f8f2\">:</span>\n        <span style=\"color: #66d9ef\">continue</span>\n    <span style=\"color: #f8f8f2\">print(i)</span>\n    \n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #ae81ff\">3</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #ae81ff\">4</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #ae81ff\">5</span>\n</pre></div>\n\n<p style=\"font-size: 16px;\"><code>break</code> прерывает цикл, и последовательность больше не повторяется. Таким образом, на цифре 3 цикл прерывается:</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f8f8f2\">a</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">3</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">4</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">5</span><span style=\"color: #f8f8f2\">]</span>\n<span style=\"color: #66d9ef\">for</span> <span style=\"color: #f8f8f2\">i</span> <span style=\"color: #f92672\">in</span> <span style=\"color: #f8f8f2\">a:</span>\n   <span style=\"color: #66d9ef\">if</span> <span style=\"color: #f8f8f2\">i</span> <span style=\"color: #f92672\">==</span> <span style=\"color: #ae81ff\">3</span><span style=\"color: #f8f8f2\">:</span>\n       <span style=\"color: #66d9ef\">break</span>\n   <span style=\"color: #f8f8f2\">print(i)</span>   \n  \n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #ae81ff\">1</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #ae81ff\">2</span>\n</pre></div>\n\n<hr />\n<h4>Преобразуйте следующий цикл for в генератор списков (list comprehension)</h4>\n<p style=\"font-size: 16px;\">Дан следующий цикл <code>for</code>:</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f8f8f2\">a</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">3</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">4</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">5</span><span style=\"color: #f8f8f2\">]</span>\n \n<span style=\"color: #f8f8f2\">a2</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">[]</span>\n<span style=\"color: #66d9ef\">for</span> <span style=\"color: #f8f8f2\">i</span> <span style=\"color: #f92672\">in</span> <span style=\"color: #f8f8f2\">a:</span>\n     <span style=\"color: #f8f8f2\">a2</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">append(i</span> <span style=\"color: #f92672\">+</span> <span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">)</span>\n<span style=\"color: #f8f8f2\">print(a2)</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">3</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">4</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">5</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">6</span><span style=\"color: #f8f8f2\">]</span>\n</pre></div>\n\n<p style=\"font-size: 16px;\">Результат:</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f8f8f2\">a3</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">[i</span> <span style=\"color: #f92672\">+</span> <span style=\"color: #ae81ff\">1</span> <span style=\"color: #66d9ef\">for</span> <span style=\"color: #f8f8f2\">i</span> <span style=\"color: #f92672\">in</span> <span style=\"color: #f8f8f2\">a]</span>\n\n<span style=\"color: #f8f8f2\">print(a3)</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #ae81ff\">2</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">3</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">4</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">5</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">6</span><span style=\"color: #f8f8f2\">]</span>\n</pre></div>\n\n<p style=\"font-size: 16px;\">Генератор списка обычно считается более каноническим способом в Python, если он остается понятным.</p>\n<hr />\n<h4>Приведите пример тернарного оператора</h4>\n<p style=\"font-size: 16px;\">Тернарный (условный) оператор — это однострочный оператор if/else.</p>\n<p style=\"font-size: 16px;\">Синтаксис такой: <code>a if condition else b</code>.</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f8f8f2\">x</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #ae81ff\">5</span>\n<span style=\"color: #f8f8f2\">y</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #ae81ff\">10</span>\n\n<span style=\"color: #e6db74\">&#39;greater&#39;</span> <span style=\"color: #66d9ef\">if</span> <span style=\"color: #f8f8f2\">x</span> <span style=\"color: #f92672\">&gt;</span> <span style=\"color: #ae81ff\">6</span> <span style=\"color: #66d9ef\">else</span> <span style=\"color: #e6db74\">&#39;less&#39;</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #e6db74\">&#39;less&#39;</span>\n\n<span style=\"color: #e6db74\">&#39;greater&#39;</span> <span style=\"color: #66d9ef\">if</span> <span style=\"color: #f8f8f2\">y</span> <span style=\"color: #f92672\">&gt;</span> <span style=\"color: #ae81ff\">6</span> <span style=\"color: #66d9ef\">else</span> <span style=\"color: #e6db74\">&#39;less&#39;</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #e6db74\">&#39;greater&#39;</span>\n</pre></div>\n\n<hr />\n<h4>Проверьте, что в строке только числа</h4>\n<p style=\"font-size: 16px;\">Можно использовать <code>isnumeric()</code> или <code>isdigit()</code>:</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #e6db74\">&#39;123a&#39;</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">isnumeric()</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #66d9ef\">False</span>\n\n<span style=\"color: #e6db74\">&#39;123&#39;</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">isnumeric()</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #66d9ef\">True</span>\n\n<span style=\"color: #e6db74\">&#39;123&#39;</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">isdigit()</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #66d9ef\">True</span>\n\n<span style=\"color: #e6db74\">&#39;a&#39;</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">isdigit()</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #66d9ef\">False</span>\n</pre></div>\n\n<hr />\n<h4>Проверьте, что в строке только буквы</h4>\n<p style=\"font-size: 16px;\">Можно использовать <code>isalpha()</code>:</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #e6db74\">&#39;123a&#39;</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">isalpha()</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #66d9ef\">False</span>\n\n<span style=\"color: #e6db74\">&#39;a&#39;</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">isalpha()</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #66d9ef\">True</span>\n</pre></div>\n\n<hr />\n<h4>Проверьте, что в строке только буквы и цифры</h4>\n<p style=\"font-size: 16px;\">Здесь можно использовать <code>isalnum()</code>:</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #e6db74\">&#39;123abc...&#39;</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">isalnum()</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #66d9ef\">False</span>\n\n<span style=\"color: #e6db74\">&#39;123abc&#39;</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">isalnum()</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #66d9ef\">True</span>\n</pre></div>\n\n<hr />\n<h4>Проверьте, что в строке только только пробелы</h4>\n<p style=\"font-size: 16px;\">Здесь подойдет <code>isspace()</code>:</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #e6db74\">&#39;123abc...&#39;</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">isspace()</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #66d9ef\">False</span>\n\n<span style=\"color: #e6db74\">&#39;   &#39;</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">isspace()</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #66d9ef\">True</span>\n</pre></div>\n\n<hr />\n<h4>Получите список ключей из словаря</h4>\n<p style=\"font-size: 16px;\">Это можно сделать через передачу словаря в конструктор list():</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f8f8f2\">d</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">{</span><span style=\"color: #e6db74\">&#39;id&#39;</span><span style=\"color: #f8f8f2\">:</span> <span style=\"color: #ae81ff\">7</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;name&#39;</span><span style=\"color: #f8f8f2\">:</span> <span style=\"color: #e6db74\">&#39;Shiba&#39;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;color&#39;</span><span style=\"color: #f8f8f2\">:</span> <span style=\"color: #e6db74\">&#39;brown&#39;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;speed&#39;</span><span style=\"color: #f8f8f2\">:</span> <span style=\"color: #e6db74\">&#39;very slow&#39;</span><span style=\"color: #f8f8f2\">}</span>\n\n<span style=\"color: #f8f8f2\">list(d)</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #e6db74\">&#39;id&#39;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;name&#39;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;color&#39;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;speed&#39;</span><span style=\"color: #f8f8f2\">]</span>\n</pre></div>\n\n<p style=\"font-size: 16px;\">Так же можно получить список значений словаря, но с использованием вызова <code>.values()</code>:</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f8f8f2\">d</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">{</span><span style=\"color: #e6db74\">&#39;id&#39;</span><span style=\"color: #f8f8f2\">:</span> <span style=\"color: #ae81ff\">7</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;name&#39;</span><span style=\"color: #f8f8f2\">:</span> <span style=\"color: #e6db74\">&#39;Shiba&#39;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;color&#39;</span><span style=\"color: #f8f8f2\">:</span> <span style=\"color: #e6db74\">&#39;brown&#39;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;speed&#39;</span><span style=\"color: #f8f8f2\">:</span> <span style=\"color: #e6db74\">&#39;very slow&#39;</span><span style=\"color: #f8f8f2\">}</span>\n\n<span style=\"color: #f8f8f2\">list(d</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">values())</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #ae81ff\">7</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;Shiba&#39;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;brown&#39;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;very slow&#39;</span><span style=\"color: #f8f8f2\">]</span>\n</pre></div>\n\n<hr />\n<h4>Как перевести строку в верхний/нижний регистр?</h4>\n<p style=\"font-size: 16px;\">Можно использовать строковые методы <code>upper()</code> и <code>lower()</code>:</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f8f8f2\">small_word</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #e6db74\">&#39;potatocake&#39;</span>\n<span style=\"color: #f8f8f2\">big_word</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #e6db74\">&#39;FISHCAKE&#39;</span>\n\n<span style=\"color: #f8f8f2\">small_word</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">upper()</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #e6db74\">&#39;POTATOCAKE&#39;</span>\n\n<span style=\"color: #f8f8f2\">big_word</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">lower()</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #e6db74\">&#39;fishcake&#39;</span>\n</pre></div>\n\n<hr />\n<h4>В чем разница между remove, del и pop?</h4>\n<p style=\"font-size: 16px;\"><code>remove()</code> удаляет первое совпадающее значение:</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f8f8f2\">li</span> <span style=\"color: #f92672\">=</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #e6db74\">&#39;a&#39;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;b&#39;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;c&#39;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;d&#39;</span><span style=\"color: #f8f8f2\">]</span>\n\n<span style=\"color: #f8f8f2\">li</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">remove(</span><span style=\"color: #e6db74\">&#39;b&#39;</span><span style=\"color: #f8f8f2\">)</span>\n<span style=\"color: #f8f8f2\">li</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #e6db74\">&#39;a&#39;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;c&#39;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&#39;d&#39;</span><span style=\"color: #f8f8f2\">]</span>\n</pre></div>\n\n<p style=\"font-size: 16px;\">H~2~O</p>\n<p style=\"font-size: 16px;\">X^2^</p>\n<p style=\"font-size: 16px;\">==key==</p>\n<h1>Functools</h1>\n<h4><a href=\"https://habr.com/ru/company/otus/blog/428307/\">Перегрузка методов</a> или <a href=\"https://ru.wikipedia.org/wiki/%D0%9C%D1%83%D0%BB%D1%8C%D1%82%D0%B8%D0%BC%D0%B5%D1%82%D0%BE%D0%B4\">множественная диспетчеризация</a></h4>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f92672\">from</span> <span style=\"color: #f8f8f2\">typing</span> <span style=\"color: #f92672\">import</span> <span style=\"color: #f8f8f2\">Union</span>\n<span style=\"color: #f92672\">from</span> <span style=\"color: #f8f8f2\">functools</span> <span style=\"color: #f92672\">import</span> <span style=\"color: #f8f8f2\">singledispatch</span>\n\n<span style=\"color: #a6e22e\">@singledispatch</span> <span style=\"color: #75715e\"># декорируем функцию</span>\n<span style=\"color: #66d9ef\">def</span> <span style=\"color: #a6e22e\">some_func</span><span style=\"color: #f8f8f2\">():</span> <span style=\"color: #f92672\">...</span> <span style=\"color: #75715e\"># в этом случае функция пуста</span>\n\n<span style=\"color: #a6e22e\">@some_func</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">register(int)</span>\n<span style=\"color: #66d9ef\">def</span> <span style=\"color: #a6e22e\">_</span><span style=\"color: #f8f8f2\">(number:</span> <span style=\"color: #f8f8f2\">int):</span> <span style=\"color: #66d9ef\">return</span> <span style=\"color: #f8f8f2\">number</span> <span style=\"color: #f92672\">**</span> <span style=\"color: #ae81ff\">2</span>\n\n<span style=\"color: #a6e22e\">@some_func</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">register(str)</span>\n<span style=\"color: #66d9ef\">def</span> <span style=\"color: #a6e22e\">_</span><span style=\"color: #f8f8f2\">(string:</span> <span style=\"color: #f8f8f2\">str):</span> <span style=\"color: #66d9ef\">return</span> <span style=\"color: #f8f8f2\">int(string)</span> <span style=\"color: #f92672\">**</span> <span style=\"color: #ae81ff\">2</span>\n\n<span style=\"color: #a6e22e\">@some_func</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">register(tuple)</span>\n<span style=\"color: #a6e22e\">@some_func</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">register(list)</span>\n<span style=\"color: #66d9ef\">def</span> <span style=\"color: #a6e22e\">_</span><span style=\"color: #f8f8f2\">(sequence:</span> <span style=\"color: #f8f8f2\">Union[tuple,</span> <span style=\"color: #f8f8f2\">list]):</span> <span style=\"color: #66d9ef\">return</span> <span style=\"color: #f8f8f2\">[int(i)</span> <span style=\"color: #f92672\">**</span> <span style=\"color: #ae81ff\">2</span> <span style=\"color: #66d9ef\">for</span> <span style=\"color: #f8f8f2\">i</span> <span style=\"color: #f92672\">in</span> <span style=\"color: #f8f8f2\">sequence]</span>\n\n<span style=\"color: #f8f8f2\">some_func(</span><span style=\"color: #ae81ff\">3</span><span style=\"color: #f8f8f2\">)</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #ae81ff\">9</span>\n<span style=\"color: #f8f8f2\">some_func(</span><span style=\"color: #e6db74\">&quot;4&quot;</span><span style=\"color: #f8f8f2\">)</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #ae81ff\">16</span>\n<span style=\"color: #f8f8f2\">some_func((</span><span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #e6db74\">&quot;2&quot;</span><span style=\"color: #f8f8f2\">))</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #ae81ff\">1</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">4</span><span style=\"color: #f8f8f2\">]</span>\n<span style=\"color: #f8f8f2\">some_func([</span><span style=\"color: #e6db74\">&quot;5&quot;</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">6</span><span style=\"color: #f8f8f2\">])</span>\n<span style=\"color: #f92672\">&gt;&gt;&gt;</span> <span style=\"color: #f8f8f2\">[</span><span style=\"color: #ae81ff\">25</span><span style=\"color: #f8f8f2\">,</span> <span style=\"color: #ae81ff\">36</span><span style=\"color: #f8f8f2\">]</span>\n</pre></div>\n\n<p style=\"font-size: 16px;\">Тоже самое можно реализовать и с методами:</p>\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f92672\">from</span> <span style=\"color: #f8f8f2\">functools</span> <span style=\"color: #f92672\">import</span> <span style=\"color: #f8f8f2\">singledispatchmethod</span>\n\n<span style=\"color: #66d9ef\">class</span> <span style=\"color: #a6e22e\">A</span><span style=\"color: #f8f8f2\">:</span>\n    <span style=\"color: #a6e22e\">@singledispatchmethod</span>\n    <span style=\"color: #66d9ef\">def</span> <span style=\"color: #a6e22e\">b</span><span style=\"color: #f8f8f2\">(self,</span> <span style=\"color: #f8f8f2\">arg):</span>\n        <span style=\"color: #66d9ef\">raise</span> <span style=\"color: #a6e22e\">NotImplementedError</span><span style=\"color: #f8f8f2\">()</span>\n\n    <span style=\"color: #a6e22e\">@b</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">register(int)</span>\n    <span style=\"color: #66d9ef\">def</span> <span style=\"color: #a6e22e\">_</span><span style=\"color: #f8f8f2\">(self,</span> <span style=\"color: #f8f8f2\">arg:</span> <span style=\"color: #f8f8f2\">int):</span>\n        <span style=\"color: #66d9ef\">return</span> <span style=\"color: #f92672\">-</span><span style=\"color: #f8f8f2\">arg</span>\n\n    <span style=\"color: #a6e22e\">@b</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">register(bool)</span>\n    <span style=\"color: #66d9ef\">def</span> <span style=\"color: #a6e22e\">_</span><span style=\"color: #f8f8f2\">(self,</span> <span style=\"color: #f8f8f2\">arg:</span> <span style=\"color: #f8f8f2\">bool):</span>\n        <span style=\"color: #66d9ef\">return</span> <span style=\"color: #f92672\">not</span> <span style=\"color: #f8f8f2\">arg</span>\n</pre></div>\n\n<div class=\"highlight\" style=\"background: #272822\"><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #f92672\">from</span> <span style=\"color: #f8f8f2\">functools</span> <span style=\"color: #f92672\">import</span> <span style=\"color: #f8f8f2\">singledispatchmethod</span>\n\n<span style=\"color: #66d9ef\">class</span> <span style=\"color: #a6e22e\">A</span><span style=\"color: #f8f8f2\">:</span>\n    <span style=\"color: #a6e22e\">@singledispatchmethod</span>\n    <span style=\"color: #a6e22e\">@classmethod</span>\n    <span style=\"color: #66d9ef\">def</span> <span style=\"color: #a6e22e\">b</span><span style=\"color: #f8f8f2\">(cls,</span> <span style=\"color: #f8f8f2\">arg):</span>\n        <span style=\"color: #66d9ef\">raise</span> <span style=\"color: #a6e22e\">NotImplementedError</span><span style=\"color: #f8f8f2\">()</span>\n\n    <span style=\"color: #a6e22e\">@b</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">register(int)</span>\n    <span style=\"color: #a6e22e\">@classmethod</span>\n    <span style=\"color: #66d9ef\">def</span> <span style=\"color: #a6e22e\">_</span><span style=\"color: #f8f8f2\">(cls,</span> <span style=\"color: #f8f8f2\">arg:</span> <span style=\"color: #f8f8f2\">int):</span>\n        <span style=\"color: #66d9ef\">return</span> <span style=\"color: #f92672\">-</span><span style=\"color: #f8f8f2\">arg</span>\n\n    <span style=\"color: #a6e22e\">@b</span><span style=\"color: #f92672\">.</span><span style=\"color: #f8f8f2\">register(bool)</span>\n    <span style=\"color: #a6e22e\">@classmethod</span>\n    <span style=\"color: #66d9ef\">def</span> <span style=\"color: #a6e22e\">_</span><span style=\"color: #f8f8f2\">(cls,</span> <span style=\"color: #f8f8f2\">arg:</span> <span style=\"color: #f8f8f2\">bool):</span>\n        <span style=\"color: #66d9ef\">return</span> <span style=\"color: #f92672\">not</span> <span style=\"color: #f8f8f2\">arg</span>\n</pre></div>\n\n<p style=\"font-size: 16px;\">Тот же шаблон может быть использован для других подобных декораторов, например <a href=\"https://docs-python.ru/tutorial/vstroennye-funktsii-interpretatora-python/dekorator-staticmethod/\"><code>@staticmethod</code></a> и других.</p>\n<hr />\n<h4>TODO! lru_cache - Least-recently-used</h4>\n<hr />\n<h1>Python Internals</h1>\n<h4>В чем разница между <code>__init__</code> и <code>__new__</code> ?</h4>\n<p style=\"font-size: 16px;\"><a href=\"https://docs.python.org/3/reference/datamodel.html#object.__new__\"><code>__new__</code></a> это конструктор класса, он вызывается раньше чем <code>__init__</code>. Можно сказать, что <code>__new__</code> на уровень ниже чем <code>__init__</code>. Он определяет поведение класса и создает его базовую структуру.</p>\n<p style=\"font-size: 16px;\">Ниже приведена вырезка из официальной документации Python.</p>\n<blockquote>\n<p style=\"font-size: 16px;\"><a href=\"https://docs.python.org/3/reference/datamodel.html#object.__new__\"><code>__new__()</code></a> Вызывается для создания нового экземпляра класса <code>cls.__new__()</code> — это статический метод (инкапсулированный в специальном регистре, поэтому вам не нужно объявлять его), который принимает класс, экземпляр которого был запрошен, в качестве первого аргумента. Остальные аргументы передаются в выражение конструктора объекта (вызов класса). Возвращаемое значение <code>__new__()</code> должно быть экземпляром нового объекта (обычно экземпляром cls).</p>\n<p style=\"font-size: 16px;\">Типичные реализации создают новый экземпляр класса, вызывая метод <code>__new__()</code> суперкласса, используя <code>super().__new__(cls[, ...])</code> с соответствующими аргументами, а затем при необходимости изменяя вновь созданный экземпляр перед его возвратом.</p>\n<p style=\"font-size: 16px;\">Если <code>__new__()</code> вызывается во время создания объекта и возвращает экземпляр cls, то метод <code>__init__()</code> нового экземпляра будет вызываться как <code>__init__(self[, ...])</code>, где <code>self</code> — новый экземпляр, а остальные аргументы такие же, как были переданы конструктору объекта.</p>\n<p style=\"font-size: 16px;\">Если <code>__new__()</code> не возвращает экземпляр cls, то метод <code>__init__()</code> нового экземпляра вызываться не будет.</p>\n<p style=\"font-size: 16px;\"><code>__new__()</code> предназначен главным образом для того, чтобы позволить подклассам неизменяемых типов (например, <code>int</code>, <code>str</code> или <code>tuple</code>) настраивать создание экземпляра. Он также обычно переопределяется в пользовательских метаклассах, чтобы настроить создание класса.</p>\n<hr />\n<p style=\"font-size: 16px;\"><a href=\"https://docs.python.org/3/reference/datamodel.html#object.__init__\"><code>__init__()</code></a> Вызывается после создания экземпляра (с помощью <code>__new__()</code>), но до того, как он будет возвращен вызывающей стороне. Аргументы передаются выражению конструктора класса. Если базовый класс имеет метод <code>__init__()</code>, метод <code>__init__()</code> дочернего класса, если таковой имеется, должен явно вызвать его, чтобы обеспечить правильную инициализацию части базового класса экземпляра; например: <code>super().__init__([аргументы...])</code>.</p>\n<p style=\"font-size: 16px;\">Поскольку <code>__new__()</code> и <code>__init__()</code> работают вместе при создании объектов (<code>__new__()</code> для их создания и <code>__init__()</code> для их кастомизации), <code>__init__()</code> не может возвращать никакое значение, отличное от <code>None</code>; это приведет к возникновению ошибки <code>TypeError</code> во время выполнения.</p>\n</blockquote>\n<hr />\n<h4><strong>Объясните управление памятью в Python</strong>.</h4>\n<p style=\"font-size: 16px;\">В Python диспетчер памяти заботится об управлении памятью. Он выделяет ее в виде пространства в куче, в которой хранятся все объекты Python и структуры данных. В языке существуют 4 встроенных структуры данных. Данное пространство недоступно для программиста напрямую. Однако базовый API позволяет разработчику получить доступ к некоторым инструментам для написания кода.</p>\n<p style=\"font-size: 16px;\">Кроме того, Python оснащен встроенным сборщиком мусора, который освобождает неиспользуемую память из пространства кучи.</p>\n<p style=\"font-size: 16px;\">Почитать об <a href=\"https://docs.python.org/3/c-api/memory.html\">Memory management</a> можно <a href=\"https://towardsdatascience.com/memory-management-in-python-6bea0c8aecc9\">тут</a>, <a href=\"https://realpython.com/python-memory-management/\">тут</a> или <a href=\"https://habr.com/ru/company/vk/blog/336156/\">тут</a></p>\n<hr />\n<h4>Какаво назначение GIL?</h4>\n<p style=\"font-size: 16px;\">GIL или Global Interpreter Lock — это <a href=\"https://ru.wikipedia.org/wiki/%D0%9C%D1%8C%D1%8E%D1%82%D0%B5%D0%BA%D1%81\">мьютекс</a>, используемый для ограничения доступа к объектам Python. Он синхронизирует потоки и предотвращает их одновременное выполнение. Плюсы GIL' a в том, что мы имеет резиновую память и безопасную для компьютера среду исполнения. GIL не даст многопоточному коду одновременно выполнять <a href=\"https://en.wikipedia.org/wiki/CPU-bound\">CPU bound</a> задачи. Однако он никак не контролирует процессы. Поэтому Питонисты  привыкли решать многопоточные задачи через многопроцессорность. Однако, если задача которую предстоит решить является <a href=\"https://en.wikipedia.org/wiki/I/O_bound\">I/O bound</a>, то возможно будет удобней пользовать все таки потоками, так как IO (ввод/вывод) GIL не блокирует. При условии что используемая версия python не имеет поддержки <code>asyncio</code></p>\n<p style=\"font-size: 16px;\">Для работы потоками  в python есть библиотека <code>threading</code></p>\n<p style=\"font-size: 16px;\">Для работы с процессами <code>multiprocessing</code></p>\n<p style=\"font-size: 16px;\">Для работы с асинхронным вводом/выводом <code>asyncio</code>. Появилась с версии 3.6</p>\n<hr />\n<h1>Middle/Senior level</h1>\n<h4>- TODO! Как работают регулярные выражения?</h4>\n<p style=\"font-size: 16px;\">https://pythonist.ru/category/algoritms/regexp/</p>\n<hr />\n<h3>- TODO! ООП - Полиморфизм</h3>\n<p style=\"font-size: 16px;\">http://citforum.ru/programming/python/multidispatch/</p>\n<hr />\n<h4>- TODO! ООП - Абстракция</h4>\n<p style=\"font-size: 16px;\">https://habr.com/ru/company/skillfactory/blog/508716/</p>\n<hr />\n<h4>- TODO! ООП - Инкапсуляция</h4>\n<p style=\"font-size: 16px;\">https://habr.com/ru/post/87205/</p>\n<hr />\n<h4>- TODO! ООП - Наследование</h4>\n<p style=\"font-size: 16px;\">https://habr.com/ru/post/354046/</p>\n<hr />\n<h4>- TODO! ООП - Абстракция</h4>\n<p style=\"font-size: 16px;\">https://habr.com/ru/post/87119/</p>\n<hr />\n<h4>- TODO! ООП - Композиция</h4>\n<p style=\"font-size: 16px;\">https://habr.com/ru/post/325478/</p>\n<hr />\n", "category": 3, "author": "Vlad", "author_contact": "Bergman", "is_comments_available": true, "is_already_formatted": true, "tags": [7, 8]}}]